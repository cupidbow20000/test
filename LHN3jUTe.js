import{ao as k,ar as oi,as as ii,_ as Dt,aw as Rt,av as si,aq as Pt,ax as ai,aH as ui,aC as ci}from"./assets/index-BDcs8OaA.js";import{toCashAddress as li}from"./oTdZkjon.js";(function(){try{var t=typeof window<"u"?window:typeof Pt<"u"?Pt:typeof self<"u"?self:{},o=new Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="e08ba221-ddf5-4464-be33-25587c29798b",t._sentryDebugIdIdentifier="sentry-dbid-e08ba221-ddf5-4464-be33-25587c29798b")}catch{}})();var pi=Object.defineProperty,fi=(t,o,i)=>o in t?pi(t,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[o]=i,de=(t,o,i)=>(fi(t,typeof o!="symbol"?o+"":o,i),i),Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Pt<"u"?Pt:typeof self<"u"?self:{};function di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hi(t){if(t.__esModule)return t;var o=t.default;if(typeof o=="function"){var i=function a(){return this instanceof a?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};i.prototype=o.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var p=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(i,a,p.get?p:{enumerable:!0,get:function(){return t[a]}})}),i}var At={},mo={},Ct={};Ct.byteLength=_i;Ct.toByteArray=Ei;Ct.fromByteArray=bi;var ne=[],X=[],mi=typeof Uint8Array<"u"?Uint8Array:Array,xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oe=0,yi=xt.length;Oe<yi;++Oe)ne[Oe]=xt[Oe],X[xt.charCodeAt(Oe)]=Oe;X[45]=62;X[95]=63;function yo(t){var o=t.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=o);var a=i===o?0:4-i%4;return[i,a]}function _i(t){var o=yo(t),i=o[0],a=o[1];return(i+a)*3/4-a}function gi(t,o,i){return(o+i)*3/4-i}function Ei(t){var o,i=yo(t),a=i[0],p=i[1],u=new mi(gi(t,a,p)),f=0,c=p>0?a-4:a,y;for(y=0;y<c;y+=4)o=X[t.charCodeAt(y)]<<18|X[t.charCodeAt(y+1)]<<12|X[t.charCodeAt(y+2)]<<6|X[t.charCodeAt(y+3)],u[f++]=o>>16&255,u[f++]=o>>8&255,u[f++]=o&255;return p===2&&(o=X[t.charCodeAt(y)]<<2|X[t.charCodeAt(y+1)]>>4,u[f++]=o&255),p===1&&(o=X[t.charCodeAt(y)]<<10|X[t.charCodeAt(y+1)]<<4|X[t.charCodeAt(y+2)]>>2,u[f++]=o>>8&255,u[f++]=o&255),u}function vi(t){return ne[t>>18&63]+ne[t>>12&63]+ne[t>>6&63]+ne[t&63]}function Ti(t,o,i){for(var a,p=[],u=o;u<i;u+=3)a=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(t[u+2]&255),p.push(vi(a));return p.join("")}function bi(t){for(var o,i=t.length,a=i%3,p=[],u=16383,f=0,c=i-a;f<c;f+=u)p.push(Ti(t,f,f+u>c?c:f+u));return a===1?(o=t[i-1],p.push(ne[o>>2]+ne[o<<4&63]+"==")):a===2&&(o=(t[i-2]<<8)+t[i-1],p.push(ne[o>>10]+ne[o>>4&63]+ne[o<<2&63]+"=")),p.join("")}var zt={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zt.read=function(t,o,i,a,p){var u,f,c=p*8-a-1,y=(1<<c)-1,g=y>>1,E=-7,_=i?p-1:0,T=i?-1:1,l=t[o+_];for(_+=T,u=l&(1<<-E)-1,l>>=-E,E+=c;E>0;u=u*256+t[o+_],_+=T,E-=8);for(f=u&(1<<-E)-1,u>>=-E,E+=a;E>0;f=f*256+t[o+_],_+=T,E-=8);if(u===0)u=1-g;else{if(u===y)return f?NaN:(l?-1:1)*(1/0);f=f+Math.pow(2,a),u=u-g}return(l?-1:1)*f*Math.pow(2,u-a)};zt.write=function(t,o,i,a,p,u){var f,c,y,g=u*8-p-1,E=(1<<g)-1,_=E>>1,T=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=a?0:u-1,b=a?1:-1,I=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(c=isNaN(o)?1:0,f=E):(f=Math.floor(Math.log(o)/Math.LN2),o*(y=Math.pow(2,-f))<1&&(f--,y*=2),f+_>=1?o+=T/y:o+=T*Math.pow(2,1-_),o*y>=2&&(f++,y/=2),f+_>=E?(c=0,f=E):f+_>=1?(c=(o*y-1)*Math.pow(2,p),f=f+_):(c=o*Math.pow(2,_-1)*Math.pow(2,p),f=0));p>=8;t[i+l]=c&255,l+=b,c/=256,p-=8);for(f=f<<p|c,g+=p;g>0;t[i+l]=f&255,l+=b,f/=256,g-=8);t[i+l-b]|=I*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const o=Ct,i=zt,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=D,t.INSPECT_MAX_BYTES=50;const p=2147483647;t.kMaxLength=p,c.TYPED_ARRAY_SUPPORT=u(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const e=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(e,r),e.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function f(e){if(e>p)throw new RangeError('The value "'+e+'" is invalid for option "size"');const r=new Uint8Array(e);return Object.setPrototypeOf(r,c.prototype),r}function c(e,r,s){if(typeof e=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(e)}return y(e,r,s)}c.poolSize=8192;function y(e,r,s){if(typeof e=="string")return T(e,r);if(ArrayBuffer.isView(e))return b(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return I(e,r,s);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const d=e.valueOf&&e.valueOf();if(d!=null&&d!==e)return c.from(d,r,s);const h=P(e);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return c.from(e[Symbol.toPrimitive]("string"),r,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}c.from=function(e,r,s){return y(e,r,s)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function g(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function E(e,r,s){return g(e),e<=0?f(e):r!==void 0?typeof s=="string"?f(e).fill(r,s):f(e).fill(r):f(e)}c.alloc=function(e,r,s){return E(e,r,s)};function _(e){return g(e),f(e<0?0:A(e)|0)}c.allocUnsafe=function(e){return _(e)},c.allocUnsafeSlow=function(e){return _(e)};function T(e,r){if((typeof r!="string"||r==="")&&(r="utf8"),!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);const s=M(e,r)|0;let d=f(s);const h=d.write(e,r);return h!==s&&(d=d.slice(0,h)),d}function l(e){const r=e.length<0?0:A(e.length)|0,s=f(r);for(let d=0;d<r;d+=1)s[d]=e[d]&255;return s}function b(e){if(ee(e,Uint8Array)){const r=new Uint8Array(e);return I(r.buffer,r.byteOffset,r.byteLength)}return l(e)}function I(e,r,s){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(s||0))throw new RangeError('"length" is outside of buffer bounds');let d;return r===void 0&&s===void 0?d=new Uint8Array(e):s===void 0?d=new Uint8Array(e,r):d=new Uint8Array(e,r,s),Object.setPrototypeOf(d,c.prototype),d}function P(e){if(c.isBuffer(e)){const r=A(e.length)|0,s=f(r);return s.length===0||e.copy(s,0,0,r),s}if(e.length!==void 0)return typeof e.length!="number"||Lt(e.length)?f(0):l(e);if(e.type==="Buffer"&&Array.isArray(e.data))return l(e.data)}function A(e){if(e>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return e|0}function D(e){return+e!=e&&(e=0),c.alloc(+e)}c.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==c.prototype},c.compare=function(e,r){if(ee(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),ee(r,Uint8Array)&&(r=c.from(r,r.offset,r.byteLength)),!c.isBuffer(e)||!c.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let s=e.length,d=r.length;for(let h=0,v=Math.min(s,d);h<v;++h)if(e[h]!==r[h]){s=e[h],d=r[h];break}return s<d?-1:d<s?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return c.alloc(0);let s;if(r===void 0)for(r=0,s=0;s<e.length;++s)r+=e[s].length;const d=c.allocUnsafe(r);let h=0;for(s=0;s<e.length;++s){let v=e[s];if(ee(v,Uint8Array))h+v.length>d.length?(c.isBuffer(v)||(v=c.from(v)),v.copy(d,h)):Uint8Array.prototype.set.call(d,v,h);else if(c.isBuffer(v))v.copy(d,h);else throw new TypeError('"list" argument must be an Array of Buffers');h+=v.length}return d};function M(e,r){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const s=e.length,d=arguments.length>2&&arguments[2]===!0;if(!d&&s===0)return 0;let h=!1;for(;;)switch(r){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return Mt(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return $t(e).length;default:if(h)return d?-1:Mt(e).length;r=(""+r).toLowerCase(),h=!0}}c.byteLength=M;function m(e,r,s){let d=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,r>>>=0,s<=r))return"";for(e||(e="utf8");;)switch(e){case"hex":return Et(this,r,s);case"utf8":case"utf-8":return $(this,r,s);case"ascii":return me(this,r,s);case"latin1":case"binary":return pe(this,r,s);case"base64":return N(this,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vt(this,r,s);default:if(d)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),d=!0}}c.prototype._isBuffer=!0;function S(e,r,s){const d=e[r];e[r]=e[s],e[s]=d}c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)S(this,r,r+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)S(this,r,r+3),S(this,r+1,r+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)S(this,r,r+7),S(this,r+1,r+6),S(this,r+2,r+5),S(this,r+3,r+4);return this},c.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?$(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:c.compare(this,e)===0},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,r,s,d,h){if(ee(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),s===void 0&&(s=e?e.length:0),d===void 0&&(d=0),h===void 0&&(h=this.length),r<0||s>e.length||d<0||h>this.length)throw new RangeError("out of range index");if(d>=h&&r>=s)return 0;if(d>=h)return-1;if(r>=s)return 1;if(r>>>=0,s>>>=0,d>>>=0,h>>>=0,this===e)return 0;let v=h-d,R=s-r;const F=Math.min(v,R),q=this.slice(d,h),z=e.slice(r,s);for(let j=0;j<F;++j)if(q[j]!==z[j]){v=q[j],R=z[j];break}return v<R?-1:R<v?1:0};function O(e,r,s,d,h){if(e.length===0)return-1;if(typeof s=="string"?(d=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,Lt(s)&&(s=h?0:e.length-1),s<0&&(s=e.length+s),s>=e.length){if(h)return-1;s=e.length-1}else if(s<0)if(h)s=0;else return-1;if(typeof r=="string"&&(r=c.from(r,d)),c.isBuffer(r))return r.length===0?-1:B(e,r,s,d,h);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(e,r,s):Uint8Array.prototype.lastIndexOf.call(e,r,s):B(e,[r],s,d,h);throw new TypeError("val must be string, number or Buffer")}function B(e,r,s,d,h){let v=1,R=e.length,F=r.length;if(d!==void 0&&(d=String(d).toLowerCase(),d==="ucs2"||d==="ucs-2"||d==="utf16le"||d==="utf-16le")){if(e.length<2||r.length<2)return-1;v=2,R/=2,F/=2,s/=2}function q(j,W){return v===1?j[W]:j.readUInt16BE(W*v)}let z;if(h){let j=-1;for(z=s;z<R;z++)if(q(e,z)===q(r,j===-1?0:z-j)){if(j===-1&&(j=z),z-j+1===F)return j*v}else j!==-1&&(z-=z-j),j=-1}else for(s+F>R&&(s=R-F),z=s;z>=0;z--){let j=!0;for(let W=0;W<F;W++)if(q(e,z+W)!==q(r,W)){j=!1;break}if(j)return z}return-1}c.prototype.includes=function(e,r,s){return this.indexOf(e,r,s)!==-1},c.prototype.indexOf=function(e,r,s){return O(this,e,r,s,!0)},c.prototype.lastIndexOf=function(e,r,s){return O(this,e,r,s,!1)};function C(e,r,s,d){s=Number(s)||0;const h=e.length-s;d?(d=Number(d),d>h&&(d=h)):d=h;const v=r.length;d>v/2&&(d=v/2);let R;for(R=0;R<d;++R){const F=parseInt(r.substr(R*2,2),16);if(Lt(F))return R;e[s+R]=F}return R}function U(e,r,s,d){return Tt(Mt(r,e.length-s),e,s,d)}function x(e,r,s,d){return Tt(ei(r),e,s,d)}function V(e,r,s,d){return Tt($t(r),e,s,d)}function L(e,r,s,d){return Tt(ti(r,e.length-s),e,s,d)}c.prototype.write=function(e,r,s,d){if(r===void 0)d="utf8",s=this.length,r=0;else if(s===void 0&&typeof r=="string")d=r,s=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(s)?(s=s>>>0,d===void 0&&(d="utf8")):(d=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const h=this.length-r;if((s===void 0||s>h)&&(s=h),e.length>0&&(s<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let v=!1;for(;;)switch(d){case"hex":return C(this,e,r,s);case"utf8":case"utf-8":return U(this,e,r,s);case"ascii":case"latin1":case"binary":return x(this,e,r,s);case"base64":return V(this,e,r,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,r,s);default:if(v)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),v=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(e,r,s){return r===0&&s===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(r,s))}function $(e,r,s){s=Math.min(e.length,s);const d=[];let h=r;for(;h<s;){const v=e[h];let R=null,F=v>239?4:v>223?3:v>191?2:1;if(h+F<=s){let q,z,j,W;switch(F){case 1:v<128&&(R=v);break;case 2:q=e[h+1],(q&192)===128&&(W=(v&31)<<6|q&63,W>127&&(R=W));break;case 3:q=e[h+1],z=e[h+2],(q&192)===128&&(z&192)===128&&(W=(v&15)<<12|(q&63)<<6|z&63,W>2047&&(W<55296||W>57343)&&(R=W));break;case 4:q=e[h+1],z=e[h+2],j=e[h+3],(q&192)===128&&(z&192)===128&&(j&192)===128&&(W=(v&15)<<18|(q&63)<<12|(z&63)<<6|j&63,W>65535&&W<1114112&&(R=W))}}R===null?(R=65533,F=1):R>65535&&(R-=65536,d.push(R>>>10&1023|55296),R=56320|R&1023),d.push(R),h+=F}return Se(d)}const he=4096;function Se(e){const r=e.length;if(r<=he)return String.fromCharCode.apply(String,e);let s="",d=0;for(;d<r;)s+=String.fromCharCode.apply(String,e.slice(d,d+=he));return s}function me(e,r,s){let d="";s=Math.min(e.length,s);for(let h=r;h<s;++h)d+=String.fromCharCode(e[h]&127);return d}function pe(e,r,s){let d="";s=Math.min(e.length,s);for(let h=r;h<s;++h)d+=String.fromCharCode(e[h]);return d}function Et(e,r,s){const d=e.length;(!r||r<0)&&(r=0),(!s||s<0||s>d)&&(s=d);let h="";for(let v=r;v<s;++v)h+=ri[e[v]];return h}function vt(e,r,s){const d=e.slice(r,s);let h="";for(let v=0;v<d.length-1;v+=2)h+=String.fromCharCode(d[v]+d[v+1]*256);return h}c.prototype.slice=function(e,r){const s=this.length;e=~~e,r=r===void 0?s:~~r,e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),r<0?(r+=s,r<0&&(r=0)):r>s&&(r=s),r<e&&(r=e);const d=this.subarray(e,r);return Object.setPrototypeOf(d,c.prototype),d};function Q(e,r,s){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+r>s)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(e,r,s){e=e>>>0,r=r>>>0,s||Q(e,r,this.length);let d=this[e],h=1,v=0;for(;++v<r&&(h*=256);)d+=this[e+v]*h;return d},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,r,s){e=e>>>0,r=r>>>0,s||Q(e,r,this.length);let d=this[e+--r],h=1;for(;r>0&&(h*=256);)d+=this[e+--r]*h;return d},c.prototype.readUint8=c.prototype.readUInt8=function(e,r){return e=e>>>0,r||Q(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Q(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Q(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=fe(function(e){e=e>>>0,we(e,"offset");const r=this[e],s=this[e+7];(r===void 0||s===void 0)&&Le(e,this.length-8);const d=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,h=this[++e]+this[++e]*2**8+this[++e]*2**16+s*2**24;return BigInt(d)+(BigInt(h)<<BigInt(32))}),c.prototype.readBigUInt64BE=fe(function(e){e=e>>>0,we(e,"offset");const r=this[e],s=this[e+7];(r===void 0||s===void 0)&&Le(e,this.length-8);const d=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],h=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+s;return(BigInt(d)<<BigInt(32))+BigInt(h)}),c.prototype.readIntLE=function(e,r,s){e=e>>>0,r=r>>>0,s||Q(e,r,this.length);let d=this[e],h=1,v=0;for(;++v<r&&(h*=256);)d+=this[e+v]*h;return h*=128,d>=h&&(d-=Math.pow(2,8*r)),d},c.prototype.readIntBE=function(e,r,s){e=e>>>0,r=r>>>0,s||Q(e,r,this.length);let d=r,h=1,v=this[e+--d];for(;d>0&&(h*=256);)v+=this[e+--d]*h;return h*=128,v>=h&&(v-=Math.pow(2,8*r)),v},c.prototype.readInt8=function(e,r){return e=e>>>0,r||Q(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},c.prototype.readInt16LE=function(e,r){e=e>>>0,r||Q(e,2,this.length);const s=this[e]|this[e+1]<<8;return s&32768?s|4294901760:s},c.prototype.readInt16BE=function(e,r){e=e>>>0,r||Q(e,2,this.length);const s=this[e+1]|this[e]<<8;return s&32768?s|4294901760:s},c.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=fe(function(e){e=e>>>0,we(e,"offset");const r=this[e],s=this[e+7];(r===void 0||s===void 0)&&Le(e,this.length-8);const d=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(s<<24);return(BigInt(d)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),c.prototype.readBigInt64BE=fe(function(e){e=e>>>0,we(e,"offset");const r=this[e],s=this[e+7];(r===void 0||s===void 0)&&Le(e,this.length-8);const d=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(d)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+s)}),c.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Q(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Q(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Q(e,8,this.length),i.read(this,e,!1,52,8)};function H(e,r,s,d,h,v){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>h||r<v)throw new RangeError('"value" argument is out of bounds');if(s+d>e.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,r,s,d){if(e=+e,r=r>>>0,s=s>>>0,!d){const R=Math.pow(2,8*s)-1;H(this,e,r,s,R,0)}let h=1,v=0;for(this[r]=e&255;++v<s&&(h*=256);)this[r+v]=e/h&255;return r+s},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,r,s,d){if(e=+e,r=r>>>0,s=s>>>0,!d){const R=Math.pow(2,8*s)-1;H(this,e,r,s,R,0)}let h=s-1,v=1;for(this[r+h]=e&255;--h>=0&&(v*=256);)this[r+h]=e/v&255;return r+s},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,1,255,0),this[r]=e&255,r+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Ne(e,r,s,d,h){qt(r,d,h,e,s,7);let v=Number(r&BigInt(4294967295));e[s++]=v,v=v>>8,e[s++]=v,v=v>>8,e[s++]=v,v=v>>8,e[s++]=v;let R=Number(r>>BigInt(32)&BigInt(4294967295));return e[s++]=R,R=R>>8,e[s++]=R,R=R>>8,e[s++]=R,R=R>>8,e[s++]=R,s}function Be(e,r,s,d,h){qt(r,d,h,e,s,7);let v=Number(r&BigInt(4294967295));e[s+7]=v,v=v>>8,e[s+6]=v,v=v>>8,e[s+5]=v,v=v>>8,e[s+4]=v;let R=Number(r>>BigInt(32)&BigInt(4294967295));return e[s+3]=R,R=R>>8,e[s+2]=R,R=R>>8,e[s+1]=R,R=R>>8,e[s]=R,s+8}c.prototype.writeBigUInt64LE=fe(function(e,r=0){return Ne(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=fe(function(e,r=0){return Be(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,r,s,d){if(e=+e,r=r>>>0,!d){const F=Math.pow(2,8*s-1);H(this,e,r,s,F-1,-F)}let h=0,v=1,R=0;for(this[r]=e&255;++h<s&&(v*=256);)e<0&&R===0&&this[r+h-1]!==0&&(R=1),this[r+h]=(e/v>>0)-R&255;return r+s},c.prototype.writeIntBE=function(e,r,s,d){if(e=+e,r=r>>>0,!d){const F=Math.pow(2,8*s-1);H(this,e,r,s,F-1,-F)}let h=s-1,v=1,R=0;for(this[r+h]=e&255;--h>=0&&(v*=256);)e<0&&R===0&&this[r+h+1]!==0&&(R=1),this[r+h]=(e/v>>0)-R&255;return r+s},c.prototype.writeInt8=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},c.prototype.writeInt16LE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},c.prototype.writeInt16BE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},c.prototype.writeInt32LE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},c.prototype.writeInt32BE=function(e,r,s){return e=+e,r=r>>>0,s||H(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},c.prototype.writeBigInt64LE=fe(function(e,r=0){return Ne(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=fe(function(e,r=0){return Be(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(e,r,s,d,h,v){if(s+d>e.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function Ue(e,r,s,d,h){return r=+r,s=s>>>0,h||Ce(e,r,s,4),i.write(e,r,s,d,23,4),s+4}c.prototype.writeFloatLE=function(e,r,s){return Ue(this,e,r,!0,s)},c.prototype.writeFloatBE=function(e,r,s){return Ue(this,e,r,!1,s)};function Me(e,r,s,d,h){return r=+r,s=s>>>0,h||Ce(e,r,s,8),i.write(e,r,s,d,52,8),s+8}c.prototype.writeDoubleLE=function(e,r,s){return Me(this,e,r,!0,s)},c.prototype.writeDoubleBE=function(e,r,s){return Me(this,e,r,!1,s)},c.prototype.copy=function(e,r,s,d){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(s||(s=0),!d&&d!==0&&(d=this.length),r>=e.length&&(r=e.length),r||(r=0),d>0&&d<s&&(d=s),d===s||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),e.length-r<d-s&&(d=e.length-r+s);const h=d-s;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,s,d):Uint8Array.prototype.set.call(e,this.subarray(s,d),r),h},c.prototype.fill=function(e,r,s,d){if(typeof e=="string"){if(typeof r=="string"?(d=r,r=0,s=this.length):typeof s=="string"&&(d=s,s=this.length),d!==void 0&&typeof d!="string")throw new TypeError("encoding must be a string");if(typeof d=="string"&&!c.isEncoding(d))throw new TypeError("Unknown encoding: "+d);if(e.length===1){const v=e.charCodeAt(0);(d==="utf8"&&v<128||d==="latin1")&&(e=v)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<s)throw new RangeError("Out of range index");if(s<=r)return this;r=r>>>0,s=s===void 0?this.length:s>>>0,e||(e=0);let h;if(typeof e=="number")for(h=r;h<s;++h)this[h]=e;else{const v=c.isBuffer(e)?e:c.from(e,d),R=v.length;if(R===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(h=0;h<s-r;++h)this[h+r]=v[h%R]}return this};const oe={};function n(e,r,s){oe[e]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(d){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:d,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}n("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),n("ERR_INVALID_ARG_TYPE",function(e,r){return`The "${e}" argument must be of type number. Received type ${typeof r}`},TypeError),n("ERR_OUT_OF_RANGE",function(e,r,s){let d=`The value of "${e}" is out of range.`,h=s;return Number.isInteger(s)&&Math.abs(s)>2**32?h=Ht(String(s)):typeof s=="bigint"&&(h=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(h=Ht(h)),h+="n"),d+=` It must be ${r}. Received ${h}`,d},RangeError);function Ht(e){let r="",s=e.length;const d=e[0]==="-"?1:0;for(;s>=d+4;s-=3)r=`_${e.slice(s-3,s)}${r}`;return`${e.slice(0,s)}${r}`}function Jo(e,r,s){we(r,"offset"),(e[r]===void 0||e[r+s]===void 0)&&Le(r,e.length-(s+1))}function qt(e,r,s,d,h,v){if(e>s||e<r){const R=typeof r=="bigint"?"n":"";let F;throw v>3?r===0||r===BigInt(0)?F=`>= 0${R} and < 2${R} ** ${(v+1)*8}${R}`:F=`>= -(2${R} ** ${(v+1)*8-1}${R}) and < 2 ** ${(v+1)*8-1}${R}`:F=`>= ${r}${R} and <= ${s}${R}`,new oe.ERR_OUT_OF_RANGE("value",F,e)}Jo(d,h,v)}function we(e,r){if(typeof e!="number")throw new oe.ERR_INVALID_ARG_TYPE(r,"number",e)}function Le(e,r,s){throw Math.floor(e)!==e?(we(e,s),new oe.ERR_OUT_OF_RANGE(s||"offset","an integer",e)):r<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${r}`,e)}const Xo=/[^+/0-9A-Za-z-_]/g;function Zo(e){if(e=e.split("=")[0],e=e.trim().replace(Xo,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Mt(e,r){r=r||1/0;let s;const d=e.length;let h=null;const v=[];for(let R=0;R<d;++R){if(s=e.charCodeAt(R),s>55295&&s<57344){if(!h){if(s>56319){(r-=3)>-1&&v.push(239,191,189);continue}else if(R+1===d){(r-=3)>-1&&v.push(239,191,189);continue}h=s;continue}if(s<56320){(r-=3)>-1&&v.push(239,191,189),h=s;continue}s=(h-55296<<10|s-56320)+65536}else h&&(r-=3)>-1&&v.push(239,191,189);if(h=null,s<128){if((r-=1)<0)break;v.push(s)}else if(s<2048){if((r-=2)<0)break;v.push(s>>6|192,s&63|128)}else if(s<65536){if((r-=3)<0)break;v.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((r-=4)<0)break;v.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return v}function ei(e){const r=[];for(let s=0;s<e.length;++s)r.push(e.charCodeAt(s)&255);return r}function ti(e,r){let s,d,h;const v=[];for(let R=0;R<e.length&&!((r-=2)<0);++R)s=e.charCodeAt(R),d=s>>8,h=s%256,v.push(h),v.push(d);return v}function $t(e){return o.toByteArray(Zo(e))}function Tt(e,r,s,d){let h;for(h=0;h<d&&!(h+s>=r.length||h>=e.length);++h)r[h+s]=e[h];return h}function ee(e,r){return e instanceof r||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===r.name}function Lt(e){return e!==e}const ri=function(){const e="0123456789abcdef",r=new Array(256);for(let s=0;s<16;++s){const d=s*16;for(let h=0;h<16;++h)r[d+h]=e[s]+e[h]}return r}();function fe(e){return typeof BigInt>"u"?ni:e}function ni(){throw new Error("BigInt not supported")}})(mo);var _o={exports:{}},G=_o.exports={},te,re;function Ft(){throw new Error("setTimeout has not been defined")}function jt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?te=setTimeout:te=Ft}catch{te=Ft}try{typeof clearTimeout=="function"?re=clearTimeout:re=jt}catch{re=jt}})();function go(t){if(te===setTimeout)return setTimeout(t,0);if((te===Ft||!te)&&setTimeout)return te=setTimeout,setTimeout(t,0);try{return te(t,0)}catch{try{return te.call(null,t,0)}catch{return te.call(this,t,0)}}}function Si(t){if(re===clearTimeout)return clearTimeout(t);if((re===jt||!re)&&clearTimeout)return re=clearTimeout,clearTimeout(t);try{return re(t)}catch{try{return re.call(null,t)}catch{return re.call(this,t)}}}var ce=[],Ie=!1,be,It=-1;function wi(){!Ie||!be||(Ie=!1,be.length?ce=be.concat(ce):It=-1,ce.length&&Eo())}function Eo(){if(!Ie){var t=go(wi);Ie=!0;for(var o=ce.length;o;){for(be=ce,ce=[];++It<o;)be&&be[It].run();It=-1,o=ce.length}be=null,Ie=!1,Si(t)}}G.nextTick=function(t){var o=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)o[i-1]=arguments[i];ce.push(new vo(t,o)),ce.length===1&&!Ie&&go(Eo)};function vo(t,o){this.fun=t,this.array=o}vo.prototype.run=function(){this.fun.apply(null,this.array)};G.title="browser";G.browser=!0;G.env={};G.argv=[];G.version="";G.versions={};function le(){}G.on=le;G.addListener=le;G.once=le;G.off=le;G.removeListener=le;G.removeAllListeners=le;G.emit=le;G.prependListener=le;G.prependOnceListener=le;G.listeners=function(t){return[]};G.binding=function(t){throw new Error("process.binding is not supported")};G.cwd=function(){return"/"};G.chdir=function(t){throw new Error("process.chdir is not supported")};G.umask=function(){return 0};var Oi=_o.exports;(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const o=mo,i=Oi,a=f=>f&&f.__esModule?f:{default:f},p=a(i),u=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>o.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>p.default}),t.global=u})(At);var To={},kt=function(t,o){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(i[p]=a[p])},kt(t,o)};function bo(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");kt(t,o);function i(){this.constructor=t}t.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}var Nt=function(){return Nt=Object.assign||function(t){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(t[p]=o[p])}return t},Nt.apply(this,arguments)};function So(t,o){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&o.indexOf(a)<0&&(i[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,a=Object.getOwnPropertySymbols(t);p<a.length;p++)o.indexOf(a[p])<0&&Object.prototype.propertyIsEnumerable.call(t,a[p])&&(i[a[p]]=t[a[p]]);return i}function wo(t,o,i,a){var p=arguments.length,u=p<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,o,i,a);else for(var c=t.length-1;c>=0;c--)(f=t[c])&&(u=(p<3?f(u):p>3?f(o,i,u):f(o,i))||u);return p>3&&u&&Object.defineProperty(o,i,u),u}function Oo(t,o){return function(i,a){o(i,a,t)}}function Ri(t,o,i,a,p,u){function f(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var c=a.kind,y=c==="getter"?"get":c==="setter"?"set":"value",g=!o&&t?a.static?t:t.prototype:null,E=o||(g?Object.getOwnPropertyDescriptor(g,a.name):{}),_,T=!1,l=i.length-1;l>=0;l--){var b={};for(var I in a)b[I]=I==="access"?{}:a[I];for(var I in a.access)b.access[I]=a.access[I];b.addInitializer=function(A){if(T)throw new TypeError("Cannot add initializers after decoration has completed");u.push(f(A||null))};var P=(0,i[l])(c==="accessor"?{get:E.get,set:E.set}:E[y],b);if(c==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(_=f(P.get))&&(E.get=_),(_=f(P.set))&&(E.set=_),(_=f(P.init))&&p.unshift(_)}else(_=f(P))&&(c==="field"?p.unshift(_):E[y]=_)}g&&Object.defineProperty(g,a.name,E),T=!0}function Ii(t,o,i){for(var a=arguments.length>2,p=0;p<o.length;p++)i=a?o[p].call(t,i):o[p].call(t);return a?i:void 0}function Pi(t){return typeof t=="symbol"?t:"".concat(t)}function Ai(t,o,i){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",o):o})}function Ro(t,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,o)}function Io(t,o,i,a){function p(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function c(E){try{g(a.next(E))}catch(_){f(_)}}function y(E){try{g(a.throw(E))}catch(_){f(_)}}function g(E){E.done?u(E.value):p(E.value).then(c,y)}g((a=a.apply(t,o||[])).next())})}function Po(t,o){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,p,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(E){return y([g,E])}}function y(g){if(a)throw new TypeError("Generator is already executing.");for(;f&&(f=0,g[0]&&(i=0)),i;)try{if(a=1,p&&(u=g[0]&2?p.return:g[0]?p.throw||((u=p.return)&&u.call(p),0):p.next)&&!(u=u.call(p,g[1])).done)return u;switch(p=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,p=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=o.call(t,i)}catch(E){g=[6,E],p=0}finally{a=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Ut=Object.create?function(t,o,i,a){a===void 0&&(a=i);var p=Object.getOwnPropertyDescriptor(o,i);(!p||("get"in p?!o.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(t,a,p)}:function(t,o,i,a){a===void 0&&(a=i),t[a]=o[i]};function Ao(t,o){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&Ut(o,t,i)}function Bt(t){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&t[o],a=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qt(t,o){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var a=i.call(t),p,u=[],f;try{for(;(o===void 0||o-- >0)&&!(p=a.next()).done;)u.push(p.value)}catch(c){f={error:c}}finally{try{p&&!p.done&&(i=a.return)&&i.call(a)}finally{if(f)throw f.error}}return u}function No(){for(var t=[],o=0;o<arguments.length;o++)t=t.concat(Qt(arguments[o]));return t}function Bo(){for(var t=0,o=0,i=arguments.length;o<i;o++)t+=arguments[o].length;for(var a=Array(t),p=0,o=0;o<i;o++)for(var u=arguments[o],f=0,c=u.length;f<c;f++,p++)a[p]=u[f];return a}function Co(t,o,i){if(i||arguments.length===2)for(var a=0,p=o.length,u;a<p;a++)(u||!(a in o))&&(u||(u=Array.prototype.slice.call(o,0,a)),u[a]=o[a]);return t.concat(u||Array.prototype.slice.call(o))}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function Uo(t,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,o||[]),p,u=[];return p={},f("next"),f("throw"),f("return"),p[Symbol.asyncIterator]=function(){return this},p;function f(T){a[T]&&(p[T]=function(l){return new Promise(function(b,I){u.push([T,l,b,I])>1||c(T,l)})})}function c(T,l){try{y(a[T](l))}catch(b){_(u[0][3],b)}}function y(T){T.value instanceof Ae?Promise.resolve(T.value.v).then(g,E):_(u[0][2],T)}function g(T){c("next",T)}function E(T){c("throw",T)}function _(T,l){T(l),u.shift(),u.length&&c(u[0][0],u[0][1])}}function Mo(t){var o,i;return o={},a("next"),a("throw",function(p){throw p}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(p,u){o[p]=t[p]?function(f){return(i=!i)?{value:Ae(t[p](f)),done:!1}:u?u(f):f}:u}}function Lo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t[Symbol.asyncIterator],i;return o?o.call(t):(t=typeof Bt=="function"?Bt(t):t[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=t[u]&&function(f){return new Promise(function(c,y){f=t[u](f),p(c,y,f.done,f.value)})}}function p(u,f,c,y){Promise.resolve(y).then(function(g){u({value:g,done:c})},f)}}function xo(t,o){return Object.defineProperty?Object.defineProperty(t,"raw",{value:o}):t.raw=o,t}var Ni=Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o};function Do(t){if(t&&t.__esModule)return t;var o={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&Ut(o,t,i);return Ni(o,t),o}function Fo(t){return t&&t.__esModule?t:{default:t}}function jo(t,o,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?t!==o||!a:!o.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(t):a?a.value:o.get(t)}function ko(t,o,i,a,p){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?t!==o||!p:!o.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?p.call(t,i):p?p.value=i:o.set(t,i),i}function zo(t,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?o===t:t.has(o)}function Qo(t,o,i){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=o[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=o[Symbol.dispose]}if(typeof a!="function")throw new TypeError("Object not disposable.");t.stack.push({value:o,dispose:a,async:i})}else i&&t.stack.push({async:!0});return o}var Bi=typeof SuppressedError=="function"?SuppressedError:function(t,o,i){var a=new Error(i);return a.name="SuppressedError",a.error=t,a.suppressed=o,a};function Go(t){function o(a){t.error=t.hasError?new Bi(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}function i(){for(;t.stack.length;){var a=t.stack.pop();try{var p=a.dispose&&a.dispose.call(a.value);if(a.async)return Promise.resolve(p).then(i,function(u){return o(u),i()})}catch(u){o(u)}}if(t.hasError)throw t.error}return i()}const Ci={__extends:bo,__assign:Nt,__rest:So,__decorate:wo,__param:Oo,__metadata:Ro,__awaiter:Io,__generator:Po,__createBinding:Ut,__exportStar:Ao,__values:Bt,__read:Qt,__spread:No,__spreadArrays:Bo,__spreadArray:Co,__await:Ae,__asyncGenerator:Uo,__asyncDelegator:Mo,__asyncValues:Lo,__makeTemplateObject:xo,__importStar:Do,__importDefault:Fo,__classPrivateFieldGet:jo,__classPrivateFieldSet:ko,__classPrivateFieldIn:zo,__addDisposableResource:Qo,__disposeResources:Go},Ui=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Qo,get __assign(){return Nt},__asyncDelegator:Mo,__asyncGenerator:Uo,__asyncValues:Lo,__await:Ae,__awaiter:Io,__classPrivateFieldGet:jo,__classPrivateFieldIn:zo,__classPrivateFieldSet:ko,__createBinding:Ut,__decorate:wo,__disposeResources:Go,__esDecorate:Ri,__exportStar:Ao,__extends:bo,__generator:Po,__importDefault:Fo,__importStar:Do,__makeTemplateObject:xo,__metadata:Ro,__param:Oo,__propKey:Pi,__read:Qt,__rest:So,__runInitializers:Ii,__setFunctionName:Ai,__spread:No,__spreadArray:Co,__spreadArrays:Bo,__values:Bt,default:Ci},Symbol.toStringTag,{value:"Module"})),Z=hi(Ui);var bt={exports:{}},Yt;function Wo(){if(Yt)return bt.exports;Yt=1;var t=typeof Reflect=="object"?Reflect:null,o=t&&typeof t.apply=="function"?t.apply:function(m,S,O){return Function.prototype.apply.call(m,S,O)},i;t&&typeof t.ownKeys=="function"?i=t.ownKeys:Object.getOwnPropertySymbols?i=function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:i=function(m){return Object.getOwnPropertyNames(m)};function a(m){console&&console.warn&&console.warn(m)}var p=Number.isNaN||function(m){return m!==m};function u(){u.init.call(this)}bt.exports=u,bt.exports.once=A,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function c(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(m){if(typeof m!="number"||m<0||p(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");f=m}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||p(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this};function y(m){return m._maxListeners===void 0?u.defaultMaxListeners:m._maxListeners}u.prototype.getMaxListeners=function(){return y(this)},u.prototype.emit=function(m){for(var S=[],O=1;O<arguments.length;O++)S.push(arguments[O]);var B=m==="error",C=this._events;if(C!==void 0)B=B&&C.error===void 0;else if(!B)return!1;if(B){var U;if(S.length>0&&(U=S[0]),U instanceof Error)throw U;var x=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw x.context=U,x}var V=C[m];if(V===void 0)return!1;if(typeof V=="function")o(V,this,S);else for(var L=V.length,N=b(V,L),O=0;O<L;++O)o(N[O],this,S);return!0};function g(m,S,O,B){var C,U,x;if(c(O),U=m._events,U===void 0?(U=m._events=Object.create(null),m._eventsCount=0):(U.newListener!==void 0&&(m.emit("newListener",S,O.listener?O.listener:O),U=m._events),x=U[S]),x===void 0)x=U[S]=O,++m._eventsCount;else if(typeof x=="function"?x=U[S]=B?[O,x]:[x,O]:B?x.unshift(O):x.push(O),C=y(m),C>0&&x.length>C&&!x.warned){x.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=m,V.type=S,V.count=x.length,a(V)}return m}u.prototype.addListener=function(m,S){return g(this,m,S,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(m,S){return g(this,m,S,!0)};function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(m,S,O){var B={fired:!1,wrapFn:void 0,target:m,type:S,listener:O},C=E.bind(B);return C.listener=O,B.wrapFn=C,C}u.prototype.once=function(m,S){return c(S),this.on(m,_(this,m,S)),this},u.prototype.prependOnceListener=function(m,S){return c(S),this.prependListener(m,_(this,m,S)),this},u.prototype.removeListener=function(m,S){var O,B,C,U,x;if(c(S),B=this._events,B===void 0)return this;if(O=B[m],O===void 0)return this;if(O===S||O.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete B[m],B.removeListener&&this.emit("removeListener",m,O.listener||S));else if(typeof O!="function"){for(C=-1,U=O.length-1;U>=0;U--)if(O[U]===S||O[U].listener===S){x=O[U].listener,C=U;break}if(C<0)return this;C===0?O.shift():I(O,C),O.length===1&&(B[m]=O[0]),B.removeListener!==void 0&&this.emit("removeListener",m,x||S)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(m){var S,O,B;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[m]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[m]),this;if(arguments.length===0){var C=Object.keys(O),U;for(B=0;B<C.length;++B)U=C[B],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=O[m],typeof S=="function")this.removeListener(m,S);else if(S!==void 0)for(B=S.length-1;B>=0;B--)this.removeListener(m,S[B]);return this};function T(m,S,O){var B=m._events;if(B===void 0)return[];var C=B[S];return C===void 0?[]:typeof C=="function"?O?[C.listener||C]:[C]:O?P(C):b(C,C.length)}u.prototype.listeners=function(m){return T(this,m,!0)},u.prototype.rawListeners=function(m){return T(this,m,!1)},u.listenerCount=function(m,S){return typeof m.listenerCount=="function"?m.listenerCount(S):l.call(m,S)},u.prototype.listenerCount=l;function l(m){var S=this._events;if(S!==void 0){var O=S[m];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};function b(m,S){for(var O=new Array(S),B=0;B<S;++B)O[B]=m[B];return O}function I(m,S){for(;S+1<m.length;S++)m[S]=m[S+1];m.pop()}function P(m){for(var S=new Array(m.length),O=0;O<S.length;++O)S[O]=m[O].listener||m[O];return S}function A(m,S){return new Promise(function(O,B){function C(x){m.removeListener(S,U),B(x)}function U(){typeof m.removeListener=="function"&&m.removeListener("error",C),O([].slice.call(arguments))}M(m,S,U,{once:!0}),S!=="error"&&D(m,C,{once:!0})})}function D(m,S,O){typeof m.on=="function"&&M(m,"error",S,O)}function M(m,S,O,B){if(typeof m.on=="function")B.once?m.once(S,O):m.on(S,O);else if(typeof m.addEventListener=="function")m.addEventListener(S,function C(U){B.once&&m.removeEventListener(S,C),O(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m)}return bt.exports}var Jt={},J={},Xt={},Zt;function Gt(){return Zt||(Zt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LIBUSB_ERROR_MESSAGE=t.serializeError=t.TypedError=t.TrezorError=t.ERROR_CODES=void 0,t.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};class o extends Error{constructor(u,f){super(f),this.code=u,this.message=f}}t.TrezorError=o;const i=(p,u)=>new o(p,u||t.ERROR_CODES[p]);t.TypedError=i;const a=p=>p&&p.error instanceof Error?{error:p.error.message,code:p.error.code}:p;t.serializeError=a,t.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}(Xt)),Xt}var Re={},er;function Mi(){return er||(er=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.MODULES=Re.TYPES=void 0,Re.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance",solana:"Solana"},Re.MODULES=["binance","cardano","eos","ethereum","nem","ripple","solana","stellar","tezos"]),Re}var ye={},tr;function Li(){if(tr)return ye;tr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.NETWORK_IDS=ye.PROTOCOL_MAGICS=void 0;var t;(function(i){i[i.mainnet=764824073]="mainnet",i[i.testnet_preprod=1]="testnet_preprod",i[i.testnet_preview=2]="testnet_preview",i[i.testnet_legacy=1097911063]="testnet_legacy"})(t||(ye.PROTOCOL_MAGICS=t={}));var o;return function(i){i[i.mainnet=1]="mainnet",i[i.testnet=0]="testnet"}(o||(ye.NETWORK_IDS=o={})),ye}var ie={},rr;function xi(){if(rr)return ie;rr=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.TxVersion=ie.TxType=ie.Networks=void 0;var t;(function(a){a[a.mainnet=104]="mainnet",a[a.testnet=152]="testnet",a[a.mijin=96]="mijin"})(t||(ie.Networks=t={}));var o;(function(a){a[a.TRANSFER=257]="TRANSFER",a[a.COSIGNING=258]="COSIGNING",a[a.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",a[a.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",a[a.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",a[a.MULTISIG=4100]="MULTISIG",a[a.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",a[a.MOSAIC_CREATION=16385]="MOSAIC_CREATION",a[a.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"})(o||(ie.TxType=o={}));var i;return function(a){a[a.mainnet=1744830464]="mainnet",a[a.testnet=-1744830464]="testnet",a[a.mijin=1610612736]="mijin"}(i||(ie.TxVersion=i={})),ie}var w={},nr;function Vo(){if(nr)return w;nr=1,Object.defineProperty(w,"__esModule",{value:!0}),w.TezosBallotType=w.TezosContractType=w.StellarSignerType=w.StellarMemoType=w.StellarAssetType=w.NEMImportanceTransferMode=w.NEMModificationType=w.NEMSupplyChangeType=w.NEMMosaicLevy=w.MoneroNetworkType=w.BootCommand=w.Enum_WordRequestType=w.RecoveryDeviceType=w.SdProtectOperationType=w.Enum_Capability=w.Enum_HomescreenFormat=w.Enum_SafetyCheckLevel=w.Enum_BackupType=w.EthereumDataType=w.EthereumDefinitionType=w.DebugPhysicalButton=w.DebugButton=w.Enum_PinMatrixRequestType=w.Enum_ButtonRequestType=w.FailureType=w.CardanoTxWitnessType=w.CardanoTxSigningMode=w.CardanoCVoteRegistrationFormat=w.CardanoTxAuxiliaryDataSupplementType=w.CardanoPoolRelayType=w.CardanoCertificateType=w.CardanoTxOutputSerializationFormat=w.CardanoNativeScriptHashDisplayFormat=w.CardanoNativeScriptType=w.CardanoAddressType=w.CardanoDerivationType=w.Enum_RequestType=w.AmountUnit=w.DecredStakingSpendType=w.Enum_OutputScriptType=w.Enum_InputScriptType=w.BinanceTimeInForce=w.BinanceOrderSide=w.BinanceOrderType=w.DeviceModelInternal=void 0;var t;(function(n){n.T1B1="T1B1",n.T2T1="T2T1",n.T2B1="T2B1"})(t||(w.DeviceModelInternal=t={}));var o;(function(n){n[n.OT_UNKNOWN=0]="OT_UNKNOWN",n[n.MARKET=1]="MARKET",n[n.LIMIT=2]="LIMIT",n[n.OT_RESERVED=3]="OT_RESERVED"})(o||(w.BinanceOrderType=o={}));var i;(function(n){n[n.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",n[n.BUY=1]="BUY",n[n.SELL=2]="SELL"})(i||(w.BinanceOrderSide=i={}));var a;(function(n){n[n.TIF_UNKNOWN=0]="TIF_UNKNOWN",n[n.GTE=1]="GTE",n[n.TIF_RESERVED=2]="TIF_RESERVED",n[n.IOC=3]="IOC"})(a||(w.BinanceTimeInForce=a={}));var p;(function(n){n[n.SPENDADDRESS=0]="SPENDADDRESS",n[n.SPENDMULTISIG=1]="SPENDMULTISIG",n[n.EXTERNAL=2]="EXTERNAL",n[n.SPENDWITNESS=3]="SPENDWITNESS",n[n.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",n[n.SPENDTAPROOT=5]="SPENDTAPROOT"})(p||(w.Enum_InputScriptType=p={}));var u;(function(n){n[n.PAYTOADDRESS=0]="PAYTOADDRESS",n[n.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",n[n.PAYTOMULTISIG=2]="PAYTOMULTISIG",n[n.PAYTOOPRETURN=3]="PAYTOOPRETURN",n[n.PAYTOWITNESS=4]="PAYTOWITNESS",n[n.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",n[n.PAYTOTAPROOT=6]="PAYTOTAPROOT"})(u||(w.Enum_OutputScriptType=u={}));var f;(function(n){n[n.SSGen=0]="SSGen",n[n.SSRTX=1]="SSRTX"})(f||(w.DecredStakingSpendType=f={}));var c;(function(n){n[n.BITCOIN=0]="BITCOIN",n[n.MILLIBITCOIN=1]="MILLIBITCOIN",n[n.MICROBITCOIN=2]="MICROBITCOIN",n[n.SATOSHI=3]="SATOSHI"})(c||(w.AmountUnit=c={}));var y;(function(n){n[n.TXINPUT=0]="TXINPUT",n[n.TXOUTPUT=1]="TXOUTPUT",n[n.TXMETA=2]="TXMETA",n[n.TXFINISHED=3]="TXFINISHED",n[n.TXEXTRADATA=4]="TXEXTRADATA",n[n.TXORIGINPUT=5]="TXORIGINPUT",n[n.TXORIGOUTPUT=6]="TXORIGOUTPUT",n[n.TXPAYMENTREQ=7]="TXPAYMENTREQ"})(y||(w.Enum_RequestType=y={}));var g;(function(n){n[n.LEDGER=0]="LEDGER",n[n.ICARUS=1]="ICARUS",n[n.ICARUS_TREZOR=2]="ICARUS_TREZOR"})(g||(w.CardanoDerivationType=g={}));var E;(function(n){n[n.BASE=0]="BASE",n[n.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",n[n.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",n[n.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",n[n.POINTER=4]="POINTER",n[n.POINTER_SCRIPT=5]="POINTER_SCRIPT",n[n.ENTERPRISE=6]="ENTERPRISE",n[n.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",n[n.BYRON=8]="BYRON",n[n.REWARD=14]="REWARD",n[n.REWARD_SCRIPT=15]="REWARD_SCRIPT"})(E||(w.CardanoAddressType=E={}));var _;(function(n){n[n.PUB_KEY=0]="PUB_KEY",n[n.ALL=1]="ALL",n[n.ANY=2]="ANY",n[n.N_OF_K=3]="N_OF_K",n[n.INVALID_BEFORE=4]="INVALID_BEFORE",n[n.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"})(_||(w.CardanoNativeScriptType=_={}));var T;(function(n){n[n.HIDE=0]="HIDE",n[n.BECH32=1]="BECH32",n[n.POLICY_ID=2]="POLICY_ID"})(T||(w.CardanoNativeScriptHashDisplayFormat=T={}));var l;(function(n){n[n.ARRAY_LEGACY=0]="ARRAY_LEGACY",n[n.MAP_BABBAGE=1]="MAP_BABBAGE"})(l||(w.CardanoTxOutputSerializationFormat=l={}));var b;(function(n){n[n.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",n[n.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",n[n.STAKE_DELEGATION=2]="STAKE_DELEGATION",n[n.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION"})(b||(w.CardanoCertificateType=b={}));var I;(function(n){n[n.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",n[n.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",n[n.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"})(I||(w.CardanoPoolRelayType=I={}));var P;(function(n){n[n.NONE=0]="NONE",n[n.CVOTE_REGISTRATION_SIGNATURE=1]="CVOTE_REGISTRATION_SIGNATURE"})(P||(w.CardanoTxAuxiliaryDataSupplementType=P={}));var A;(function(n){n[n.CIP15=0]="CIP15",n[n.CIP36=1]="CIP36"})(A||(w.CardanoCVoteRegistrationFormat=A={}));var D;(function(n){n[n.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",n[n.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",n[n.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",n[n.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"})(D||(w.CardanoTxSigningMode=D={}));var M;(function(n){n[n.BYRON_WITNESS=0]="BYRON_WITNESS",n[n.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"})(M||(w.CardanoTxWitnessType=M={}));var m;(function(n){n[n.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",n[n.Failure_ButtonExpected=2]="Failure_ButtonExpected",n[n.Failure_DataError=3]="Failure_DataError",n[n.Failure_ActionCancelled=4]="Failure_ActionCancelled",n[n.Failure_PinExpected=5]="Failure_PinExpected",n[n.Failure_PinCancelled=6]="Failure_PinCancelled",n[n.Failure_PinInvalid=7]="Failure_PinInvalid",n[n.Failure_InvalidSignature=8]="Failure_InvalidSignature",n[n.Failure_ProcessError=9]="Failure_ProcessError",n[n.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",n[n.Failure_NotInitialized=11]="Failure_NotInitialized",n[n.Failure_PinMismatch=12]="Failure_PinMismatch",n[n.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",n[n.Failure_InvalidSession=14]="Failure_InvalidSession",n[n.Failure_FirmwareError=99]="Failure_FirmwareError"})(m||(w.FailureType=m={}));var S;(function(n){n[n.ButtonRequest_Other=1]="ButtonRequest_Other",n[n.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",n[n.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",n[n.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",n[n.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",n[n.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",n[n.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",n[n.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",n[n.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",n[n.ButtonRequest_Address=10]="ButtonRequest_Address",n[n.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",n[n.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",n[n.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",n[n._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",n[n.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",n[n.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",n[n.ButtonRequest_Success=17]="ButtonRequest_Success",n[n.ButtonRequest_Warning=18]="ButtonRequest_Warning",n[n.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",n[n.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"})(S||(w.Enum_ButtonRequestType=S={}));var O;(function(n){n[n.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",n[n.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",n[n.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",n[n.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",n[n.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"})(O||(w.Enum_PinMatrixRequestType=O={}));var B;(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.INFO=2]="INFO"})(B||(w.DebugButton=B={}));var C;(function(n){n[n.LEFT_BTN=0]="LEFT_BTN",n[n.MIDDLE_BTN=1]="MIDDLE_BTN",n[n.RIGHT_BTN=2]="RIGHT_BTN"})(C||(w.DebugPhysicalButton=C={}));var U;(function(n){n[n.NETWORK=0]="NETWORK",n[n.TOKEN=1]="TOKEN"})(U||(w.EthereumDefinitionType=U={}));var x;(function(n){n[n.UINT=1]="UINT",n[n.INT=2]="INT",n[n.BYTES=3]="BYTES",n[n.STRING=4]="STRING",n[n.BOOL=5]="BOOL",n[n.ADDRESS=6]="ADDRESS",n[n.ARRAY=7]="ARRAY",n[n.STRUCT=8]="STRUCT"})(x||(w.EthereumDataType=x={}));var V;(function(n){n[n.Bip39=0]="Bip39",n[n.Slip39_Basic=1]="Slip39_Basic",n[n.Slip39_Advanced=2]="Slip39_Advanced"})(V||(w.Enum_BackupType=V={}));var L;(function(n){n[n.Strict=0]="Strict",n[n.PromptAlways=1]="PromptAlways",n[n.PromptTemporarily=2]="PromptTemporarily"})(L||(w.Enum_SafetyCheckLevel=L={}));var N;(function(n){n[n.Toif=1]="Toif",n[n.Jpeg=2]="Jpeg",n[n.ToiG=3]="ToiG"})(N||(w.Enum_HomescreenFormat=N={}));var $;(function(n){n[n.Capability_Bitcoin=1]="Capability_Bitcoin",n[n.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",n[n.Capability_Binance=3]="Capability_Binance",n[n.Capability_Cardano=4]="Capability_Cardano",n[n.Capability_Crypto=5]="Capability_Crypto",n[n.Capability_EOS=6]="Capability_EOS",n[n.Capability_Ethereum=7]="Capability_Ethereum",n[n.Capability_Lisk=8]="Capability_Lisk",n[n.Capability_Monero=9]="Capability_Monero",n[n.Capability_NEM=10]="Capability_NEM",n[n.Capability_Ripple=11]="Capability_Ripple",n[n.Capability_Stellar=12]="Capability_Stellar",n[n.Capability_Tezos=13]="Capability_Tezos",n[n.Capability_U2F=14]="Capability_U2F",n[n.Capability_Shamir=15]="Capability_Shamir",n[n.Capability_ShamirGroups=16]="Capability_ShamirGroups",n[n.Capability_PassphraseEntry=17]="Capability_PassphraseEntry",n[n.Capability_Solana=18]="Capability_Solana"})($||(w.Enum_Capability=$={}));var he;(function(n){n[n.DISABLE=0]="DISABLE",n[n.ENABLE=1]="ENABLE",n[n.REFRESH=2]="REFRESH"})(he||(w.SdProtectOperationType=he={}));var Se;(function(n){n[n.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",n[n.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix"})(Se||(w.RecoveryDeviceType=Se={}));var me;(function(n){n[n.WordRequestType_Plain=0]="WordRequestType_Plain",n[n.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",n[n.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"})(me||(w.Enum_WordRequestType=me={}));var pe;(function(n){n[n.STOP_AND_WAIT=0]="STOP_AND_WAIT",n[n.INSTALL_UPGRADE=1]="INSTALL_UPGRADE"})(pe||(w.BootCommand=pe={}));var Et;(function(n){n[n.MAINNET=0]="MAINNET",n[n.TESTNET=1]="TESTNET",n[n.STAGENET=2]="STAGENET",n[n.FAKECHAIN=3]="FAKECHAIN"})(Et||(w.MoneroNetworkType=Et={}));var vt;(function(n){n[n.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",n[n.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"})(vt||(w.NEMMosaicLevy=vt={}));var Q;(function(n){n[n.SupplyChange_Increase=1]="SupplyChange_Increase",n[n.SupplyChange_Decrease=2]="SupplyChange_Decrease"})(Q||(w.NEMSupplyChangeType=Q={}));var H;(function(n){n[n.CosignatoryModification_Add=1]="CosignatoryModification_Add",n[n.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"})(H||(w.NEMModificationType=H={}));var Ne;(function(n){n[n.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",n[n.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"})(Ne||(w.NEMImportanceTransferMode=Ne={}));var Be;(function(n){n[n.NATIVE=0]="NATIVE",n[n.ALPHANUM4=1]="ALPHANUM4",n[n.ALPHANUM12=2]="ALPHANUM12"})(Be||(w.StellarAssetType=Be={}));var Ce;(function(n){n[n.NONE=0]="NONE",n[n.TEXT=1]="TEXT",n[n.ID=2]="ID",n[n.HASH=3]="HASH",n[n.RETURN=4]="RETURN"})(Ce||(w.StellarMemoType=Ce={}));var Ue;(function(n){n[n.ACCOUNT=0]="ACCOUNT",n[n.PRE_AUTH=1]="PRE_AUTH",n[n.HASH=2]="HASH"})(Ue||(w.StellarSignerType=Ue={}));var Me;(function(n){n[n.Implicit=0]="Implicit",n[n.Originated=1]="Originated"})(Me||(w.TezosContractType=Me={}));var oe;return function(n){n[n.Yay=0]="Yay",n[n.Nay=1]="Nay",n[n.Pass=2]="Pass"}(oe||(w.TezosBallotType=oe={})),w}var or;function Di(){if(or)return J;or=1,Object.defineProperty(J,"__esModule",{value:!0}),J.PROTO=J.NEM=J.CARDANO=J.NETWORK=J.ERRORS=void 0;const t=Z;return J.ERRORS=t.__importStar(Gt()),J.NETWORK=t.__importStar(Mi()),J.CARDANO=t.__importStar(Li()),J.NEM=t.__importStar(xi()),J.PROTO=t.__importStar(Vo()),J}var ir={},sr={},ar;function _t(){return ar||(ar=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createUiMessage=t.UI_REQUEST=t.UI_EVENT=void 0,t.UI_EVENT="UI_EVENT",t.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};const o=(i,a)=>({event:t.UI_EVENT,type:i,payload:a});t.createUiMessage=o}(sr)),sr}var _e={},ur;function cr(){if(ur)return _e;ur=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.createUiResponse=_e.UI_RESPONSE=void 0;const t=_t();_e.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};const o=(i,a)=>({event:t.UI_EVENT,type:i,payload:a});return _e.createUiResponse=o,_e}var lr={},pr;function Fi(){return pr||(pr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockchainMessage=t.BLOCKCHAIN=t.BLOCKCHAIN_EVENT=void 0,t.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",t.BLOCKCHAIN={CONNECT:"blockchain-connect",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};const o=(i,a)=>({event:t.BLOCKCHAIN_EVENT,type:i,payload:a});t.createBlockchainMessage=o}(lr)),lr}var fr={},dr;function ji(){return dr||(dr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseMessage=t.RESPONSE_EVENT=void 0;const o=Gt();t.RESPONSE_EVENT="RESPONSE_EVENT";const i=(a,p,u)=>({event:t.RESPONSE_EVENT,type:t.RESPONSE_EVENT,id:a,success:p,payload:p?u:(0,o.serializeError)(u)});t.createResponseMessage=i}(fr)),fr}var se={},hr;function ki(){if(hr)return se;hr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.createErrorMessage=se.parseMessage=se.CORE_EVENT=void 0,se.CORE_EVENT="CORE_EVENT";const t=i=>{const a={event:i.event,type:i.type,payload:i.payload};return typeof i.id=="number"&&(a.id=i.id),typeof i.success=="boolean"&&(a.success=i.success),a};se.parseMessage=t;const o=i=>({success:!1,payload:{error:i.message,code:i.code}});return se.createErrorMessage=o,se}var mr={},yr;function zi(){return yr||(yr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceMessage=t.DEVICE=t.DEVICE_EVENT=void 0,t.DEVICE_EVENT="DEVICE_EVENT",t.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};const o=(i,a)=>({event:t.DEVICE_EVENT,type:i,payload:a});t.createDeviceMessage=o}(mr)),mr}var ge={},_r;function Qi(){if(_r)return ge;_r=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.createIFrameMessage=ge.IFRAME=void 0;const t=_t();ge.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call",LOG:"iframe-log"};const o=(i,a)=>({event:t.UI_EVENT,type:i,payload:a});return ge.createIFrameMessage=o,ge}var Ee={},gr;function Gi(){if(gr)return Ee;gr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.createPopupMessage=Ee.POPUP=void 0;const t=_t();Ee.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",CORE_LOADED:"popup-core-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close",ANALYTICS_RESPONSE:"popup-analytics-response",CONTENT_SCRIPT_LOADED:"popup-content-script-loaded",METHOD_INFO:"popup-method-info"};const o=(i,a)=>({event:t.UI_EVENT,type:i,payload:a});return Ee.createPopupMessage=o,Ee}var Er={},K={},vr;function Ho(){return vr||(vr=1,Object.defineProperty(K,"__esModule",{value:!0}),K.TRANSPORT=K.ACTION_TIMEOUT=K.TREZOR_USB_DESCRIPTORS=K.T1_HID_VENDOR=K.ENDPOINT_ID=K.INTERFACE_ID=K.CONFIGURATION_ID=void 0,K.CONFIGURATION_ID=1,K.INTERFACE_ID=0,K.ENDPOINT_ID=1,K.T1_HID_VENDOR=21324,K.TREZOR_USB_DESCRIPTORS=[{vendorId:21324,productId:1},{vendorId:4617,productId:21440},{vendorId:4617,productId:21441}],K.ACTION_TIMEOUT=1e4,K.TRANSPORT={START:"transport-start",ERROR:"transport-error",UPDATE:"transport-update",DISABLE_WEBUSB:"transport-disable_webusb",REQUEST_DEVICE:"transport-request_device"}),K}var Tr;function Wi(){return Tr||(Tr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTransportMessage=t.TRANSPORT_EVENT=t.TRANSPORT=void 0;const o=Gt();var i=Ho();Object.defineProperty(t,"TRANSPORT",{enumerable:!0,get:function(){return i.TRANSPORT}}),t.TRANSPORT_EVENT="TRANSPORT_EVENT";const a=(p,u)=>({event:t.TRANSPORT_EVENT,type:p,payload:"error"in u?(0,o.serializeError)(u):u});t.createTransportMessage=a}(Er)),Er}var br={},Sr;function Vi(){return Sr||(Sr=1,Object.defineProperty(br,"__esModule",{value:!0})),br}var St={},wr;function Hi(){return wr||(wr=1,Object.defineProperty(St,"__esModule",{value:!0}),St.WEBEXTENSION=void 0,St.WEBEXTENSION={USB_PERMISSIONS_BROADCAST:"usb-permissions",USB_PERMISSIONS_INIT:"usb-permissions-init",USB_PERMISSIONS_CLOSE:"usb-permissions-close",USB_PERMISSIONS_FINISHED:"usb-permissions-finished"}),St}var Or;function qo(){return Or||(Or=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;const o=Z,i=_t(),a=cr();o.__exportStar(Fi(),t),o.__exportStar(ji(),t),o.__exportStar(ki(),t),o.__exportStar(zi(),t),o.__exportStar(Qi(),t),o.__exportStar(Gi(),t),o.__exportStar(Wi(),t),o.__exportStar(Vi(),t),o.__exportStar(_t(),t),o.__exportStar(cr(),t),o.__exportStar(Hi(),t),t.UI={...i.UI_REQUEST,...a.UI_RESPONSE}}(ir)),ir}var Rr={},Ir={},Pr;function qi(){return Pr||(Pr=1,Object.defineProperty(Ir,"__esModule",{value:!0})),Ir}var Ar={},Nr;function $i(){return Nr||(Nr=1,Object.defineProperty(Ar,"__esModule",{value:!0})),Ar}var Br={},Cr;function Ki(){return Cr||(Cr=1,Object.defineProperty(Br,"__esModule",{value:!0})),Br}var Ur={},Mr;function Yi(){return Mr||(Mr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceModelInternal=t.FirmwareType=void 0;var o;(function(a){a.BitcoinOnly="bitcoin-only",a.Regular="regular"})(o||(t.FirmwareType=o={}));var i=Vo();Object.defineProperty(t,"DeviceModelInternal",{enumerable:!0,get:function(){return i.DeviceModelInternal}})}(Ur)),Ur}var Lr={},xr;function Ji(){return xr||(xr=1,Object.defineProperty(Lr,"__esModule",{value:!0})),Lr}var Dr={},Fr;function Xi(){return Fr||(Fr=1,Object.defineProperty(Dr,"__esModule",{value:!0})),Dr}var jr={},kr;function Zi(){return kr||(kr=1,Object.defineProperty(jr,"__esModule",{value:!0})),jr}var zr={},Qr;function es(){return Qr||(Qr=1,Object.defineProperty(zr,"__esModule",{value:!0})),zr}var Gr={},Wr;function ts(){return Wr||(Wr=1,Object.defineProperty(Gr,"__esModule",{value:!0})),Gr}var Vr={},Hr;function rs(){return Hr||(Hr=1,Object.defineProperty(Vr,"__esModule",{value:!0})),Vr}var qr={},$r;function ns(){return $r||($r=1,Object.defineProperty(qr,"__esModule",{value:!0})),qr}var Kr={},Yr;function os(){return Yr||(Yr=1,Object.defineProperty(Kr,"__esModule",{value:!0})),Kr}var Jr={},Xr;function is(){return Xr||(Xr=1,Object.defineProperty(Jr,"__esModule",{value:!0})),Jr}var Zr={},en;function ss(){return en||(en=1,Object.defineProperty(Zr,"__esModule",{value:!0})),Zr}var tn={},rn;function as(){return rn||(rn=1,Object.defineProperty(tn,"__esModule",{value:!0})),tn}var nn={},on;function us(){return on||(on=1,Object.defineProperty(nn,"__esModule",{value:!0})),nn}var sn={},an;function cs(){return an||(an=1,Object.defineProperty(sn,"__esModule",{value:!0})),sn}var un;function ls(){return un||(un=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const o=Z;o.__exportStar(qi(),t),o.__exportStar($i(),t),o.__exportStar(Ki(),t),o.__exportStar(Yi(),t),o.__exportStar(Ji(),t),o.__exportStar(Xi(),t),o.__exportStar(Zi(),t),o.__exportStar(es(),t),o.__exportStar(ts(),t),o.__exportStar(rs(),t),o.__exportStar(ns(),t),o.__exportStar(os(),t),o.__exportStar(is(),t),o.__exportStar(ss(),t),o.__exportStar(as(),t),o.__exportStar(us(),t),o.__exportStar(cs(),t)}(Rr)),Rr}var cn={},ln={},pn;function ps(){return pn||(pn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DOMAIN=t.VERSION=void 0,t.VERSION="9.1.9";const o=t.VERSION.split(".").map(i=>parseInt(i,10));t.DEFAULT_DOMAIN=`https://connect.trezor.io/${o[0]}/`}(ln)),ln}var fn;function fs(){return fn||(fn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=t.corsValidator=t.DEFAULT_PRIORITY=void 0;const o=ps();t.DEFAULT_PRIORITY=2;const i={configSrc:"./data/config.json",version:o.VERSION,debug:!1,priority:t.DEFAULT_PRIORITY,trustedHost:!0,connectSrc:o.DEFAULT_DOMAIN,iframeSrc:`${o.DEFAULT_DOMAIN}iframe.html`,popup:!1,popupSrc:`${o.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${o.DEFAULT_DOMAIN}webusb.html`,transports:void 0,pendingTransportEvent:!0,env:"node",lazyLoad:!1,timestamp:new Date().getTime(),interactionTimeout:600,sharedLogger:!0},a=f=>{if(f&&typeof f.email=="string"&&typeof f.appUrl=="string")return{email:f.email,appUrl:f.appUrl}},p=f=>{if(typeof f=="string"&&(f.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||f.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||f.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||f.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)))return f};t.corsValidator=p;const u=(f={})=>{var c;const y={...i};"debug"in f&&(typeof f.debug=="boolean"?y.debug=f.debug:typeof f.debug=="string"&&(y.debug=f.debug==="true")),f.trustedHost===!1&&(y.trustedHost=f.trustedHost),typeof f.connectSrc=="string"&&!((c=f.connectSrc)===null||c===void 0)&&c.startsWith("http")?y.connectSrc=(0,t.corsValidator)(f.connectSrc):y.trustedHost&&(y.connectSrc=f.connectSrc);const g=y.connectSrc||o.DEFAULT_DOMAIN;return y.iframeSrc=`${g}iframe.html`,y.popupSrc=`${g}popup.html`,y.webusbSrc=`${g}webusb.html`,typeof f.transportReconnect=="boolean"&&(y.transportReconnect=f.transportReconnect),typeof f.webusb=="boolean"&&(y.webusb=f.webusb),Array.isArray(f.transports)&&(y.transports=f.transports),typeof f.popup=="boolean"&&(y.popup=f.popup),typeof f.lazyLoad=="boolean"&&(y.lazyLoad=f.lazyLoad),typeof f.pendingTransportEvent=="boolean"&&(y.pendingTransportEvent=f.pendingTransportEvent),typeof f.extension=="string"&&(y.extension=f.extension),typeof f.env=="string"&&(y.env=f.env),typeof f.timestamp=="number"&&(y.timestamp=f.timestamp),typeof f.interactionTimeout=="number"&&(y.interactionTimeout=f.interactionTimeout),typeof f.manifest=="object"&&(y.manifest=a(f.manifest)),typeof f.sharedLogger=="boolean"&&(y.sharedLogger=f.sharedLogger),y};t.parseConnectSettings=u}(cn)),cn}var dn;function gt(){return dn||(dn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=void 0;const o=Z;o.__exportStar(Di(),t),o.__exportStar(qo(),t),o.__exportStar(ls(),t);var i=fs();Object.defineProperty(t,"parseConnectSettings",{enumerable:!0,get:function(){return i.parseConnectSettings}})}(Jt)),Jt}var xe={},hn;function ds(){if(hn)return xe;hn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.factory=void 0;const t=qo(),o=({eventEmitter:i,manifest:a,init:p,call:u,requestLogin:f,uiResponse:c,renderWebUSBButton:y,disableWebUSB:g,requestWebUSBDevice:E,cancel:_,dispose:T})=>({manifest:a,init:p,getSettings:()=>u({method:"getSettings"}),on:(l,b)=>{i.on(l,b)},off:(l,b)=>{i.removeListener(l,b)},removeAllListeners:l=>{typeof l=="string"?i.removeAllListeners(l):i.removeAllListeners()},uiResponse:c,blockchainGetAccountBalanceHistory:l=>u({...l,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:l=>u({...l,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:l=>u({...l,method:"blockchainGetFiatRatesForTimestamps"}),blockchainDisconnect:l=>u({...l,method:"blockchainDisconnect"}),blockchainEstimateFee:l=>u({...l,method:"blockchainEstimateFee"}),blockchainGetTransactions:l=>u({...l,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:l=>u({...l,method:"blockchainSetCustomBackend"}),blockchainSubscribe:l=>u({...l,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:l=>u({...l,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:l=>u({...l,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:l=>u({...l,method:"blockchainUnsubscribeFiatRates"}),requestLogin:l=>f(l),cardanoGetAddress:l=>u({...l,method:"cardanoGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:l=>u({...l,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:l=>u({...l,method:"cardanoGetPublicKey"}),cardanoSignTransaction:l=>u({...l,method:"cardanoSignTransaction"}),cardanoComposeTransaction:l=>u({...l,method:"cardanoComposeTransaction"}),cipherKeyValue:l=>u({...l,method:"cipherKeyValue"}),composeTransaction:l=>u({...l,method:"composeTransaction"}),ethereumGetAddress:l=>u({...l,method:"ethereumGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:l=>u({...l,method:"ethereumGetPublicKey"}),ethereumSignMessage:l=>u({...l,method:"ethereumSignMessage"}),ethereumSignTransaction:l=>u({...l,method:"ethereumSignTransaction"}),ethereumSignTypedData:l=>u({...l,method:"ethereumSignTypedData"}),ethereumVerifyMessage:l=>u({...l,method:"ethereumVerifyMessage"}),getAccountDescriptor:l=>u({...l,method:"getAccountDescriptor"}),getAccountInfo:l=>u({...l,method:"getAccountInfo"}),getAddress:l=>u({...l,method:"getAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),getDeviceState:l=>u({...l,method:"getDeviceState"}),getFeatures:l=>u({...l,method:"getFeatures"}),getFirmwareHash:l=>u({...l,method:"getFirmwareHash"}),getOwnershipId:l=>u({...l,method:"getOwnershipId"}),getOwnershipProof:l=>u({...l,method:"getOwnershipProof"}),getPublicKey:l=>u({...l,method:"getPublicKey"}),nemGetAddress:l=>u({...l,method:"nemGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:l=>u({...l,method:"nemSignTransaction"}),pushTransaction:l=>u({...l,method:"pushTransaction"}),rippleGetAddress:l=>u({...l,method:"rippleGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:l=>u({...l,method:"rippleSignTransaction"}),signMessage:l=>u({...l,method:"signMessage"}),signTransaction:l=>u({...l,method:"signTransaction"}),solanaGetPublicKey:l=>u({...l,method:"solanaGetPublicKey"}),solanaGetAddress:l=>u({...l,method:"solanaGetAddress"}),solanaSignTransaction:l=>u({...l,method:"solanaSignTransaction"}),stellarGetAddress:l=>u({...l,method:"stellarGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:l=>u({...l,method:"stellarSignTransaction"}),tezosGetAddress:l=>u({...l,method:"tezosGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:l=>u({...l,method:"tezosGetPublicKey"}),tezosSignTransaction:l=>u({...l,method:"tezosSignTransaction"}),unlockPath:l=>u({...l,method:"unlockPath"}),eosGetPublicKey:l=>u({...l,method:"eosGetPublicKey"}),eosSignTransaction:l=>u({...l,method:"eosSignTransaction"}),binanceGetAddress:l=>u({...l,method:"binanceGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),binanceGetPublicKey:l=>u({...l,method:"binanceGetPublicKey"}),binanceSignTransaction:l=>u({...l,method:"binanceSignTransaction"}),verifyMessage:l=>u({...l,method:"verifyMessage"}),resetDevice:l=>u({...l,method:"resetDevice"}),wipeDevice:l=>u({...l,method:"wipeDevice"}),checkFirmwareAuthenticity:l=>u({...l,method:"checkFirmwareAuthenticity"}),applyFlags:l=>u({...l,method:"applyFlags"}),applySettings:l=>u({...l,method:"applySettings"}),authenticateDevice:l=>u({...l,method:"authenticateDevice"}),authorizeCoinjoin:l=>u({...l,method:"authorizeCoinjoin"}),cancelCoinjoinAuthorization:l=>u({...l,method:"cancelCoinjoinAuthorization"}),showDeviceTutorial:l=>u({...l,method:"showDeviceTutorial"}),backupDevice:l=>u({...l,method:"backupDevice"}),changePin:l=>u({...l,method:"changePin"}),changeWipeCode:l=>u({...l,method:"changeWipeCode"}),firmwareUpdate:l=>u({...l,method:"firmwareUpdate"}),recoveryDevice:l=>u({...l,method:"recoveryDevice"}),getCoinInfo:l=>u({...l,method:"getCoinInfo"}),rebootToBootloader:l=>u({...l,method:"rebootToBootloader"}),setBusy:l=>u({...l,method:"setBusy"}),setProxy:l=>u({...l,method:"setProxy"}),dispose:T,cancel:_,renderWebUSBButton:y,disableWebUSB:g,requestWebUSBDevice:E});return xe.factory=o,xe}var Y={},mn;function $o(){if(mn)return Y;mn=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.getLog=Y.enableLogByPrefix=Y.enableLog=Y.setLogWriter=Y.initLog=Y.Log=void 0;const t="#bada55",o="#20abd8",i="#f4a744",a={"@trezor/connect":`color: ${o}; background: #000;`,"@trezor/connect-web":`color: ${o}; background: #000;`,"@trezor/connect-webextension":`color: ${o}; background: #000;`,IFrame:`color: ${i}; background: #000;`,Core:`color: ${i}; background: #000;`,DeviceList:`color: ${t}; background: #000;`,Device:`color: ${t}; background: #000;`,DeviceCommands:`color: ${t}; background: #000;`,"@trezor/transport":`color: ${t}; background: #000;`,InteractionTimeout:`color: ${t}; background: #000;`,"@trezor/connect-popup":"color: #fbd948; background: #000;"},p=100;class u{constructor(b,I,P){this.prefix=b,this.enabled=I,this.messages=[],this.css=typeof window<"u"&&a[b]?a[b]:"",P&&(this.logWriter=P)}addMessage({level:b,prefix:I,timestamp:P},...A){const D={level:b,prefix:I,css:this.css,message:A,timestamp:P||Date.now()};if(this.messages.push(D),this.logWriter)try{this.logWriter.add(D)}catch(M){console.error("There was an error adding log message",M,D)}this.messages.length>p&&this.messages.shift()}setWriter(b){this.logWriter=b}log(...b){this.addMessage({level:"log",prefix:this.prefix},...b),this.enabled&&console.log(`%c${this.prefix}`,this.css,...b)}error(...b){this.addMessage({level:"error",prefix:this.prefix},...b),this.enabled&&console.error(`%c${this.prefix}`,this.css,...b)}warn(...b){this.addMessage({level:"warn",prefix:this.prefix},...b),this.enabled&&console.warn(`%c${this.prefix}`,this.css,...b)}debug(...b){this.addMessage({level:"debug",prefix:this.prefix},...b),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...b):console.log(this.prefix,...b))}}Y.Log=u;const f={};let c;const y=(l,b,I)=>{const P=I||c,A=new u(l,!!b,P);return f[l]=A,A};Y.initLog=y;const g=l=>{Object.keys(f).forEach(b=>{if(c=l(),c){f[b].setWriter(c);const{messages:I}=f[b];I.forEach(P=>{c?.add(P)})}})};Y.setLogWriter=g;const E=l=>{Object.keys(f).forEach(b=>{f[b].enabled=!!l})};Y.enableLog=E;const _=(l,b)=>{f[l]&&(f[l].enabled=b)};Y.enableLogByPrefix=_;const T=()=>{let l=[];return Object.keys(f).forEach(b=>{l=l.concat(f[b].messages)}),l.sort((b,I)=>b.timestamp-I.timestamp),l};return Y.getLog=T,Y}var De={},yn;function hs(){if(yn)return De;yn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.config=void 0;const t=Ho();return De.config={webusb:t.TREZOR_USB_DESCRIPTORS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)",icon:""},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager",icon:""},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask",icon:""},{origin:"webextension@metamask.io",label:"MetaMask",icon:""},{origin:"nkbihfbeogaeaoehlefnkodbefgpgknn",label:"MetaMask",icon:""},{origin:"file://",label:" ",icon:""}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},assets:[{name:"coins",url:"./data/coins.json"},{name:"coinsEth",url:"./data/coins-eth.json"},{name:"bridge",url:"./data/bridge/releases.json"},{name:"firmware-t1b1",url:"./data/firmware/t1b1/releases.json"},{name:"firmware-t2t1",url:"./data/firmware/t2t1/releases.json"},{name:"firmware-t2b1",url:"./data/firmware/t2b1/releases.json"}],messages:"./data/messages/messages.json",supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:{T1B1:"0",T2T1:"2.1.0"},max:void 0,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","tsep","tgor","thol"],min:{T1B1:"1.8.0",T2T1:"2.1.0"},comment:["There were protobuf backwards incompatible changes."]},{methods:["rippleGetAddress","rippleSignTransaction"],min:{T1B1:"0",T2T1:"2.1.0"},comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:{T1B1:"0",T2T1:"2.3.2"},comment:["Shelley fork support since firmware 2.3.2"]},{methods:["cardanoSignTransaction"],min:{T1B1:"0",T2T1:"2.4.2"},comment:["Non-streamed signing no longer supported"]},{methods:["cardanoGetNativeScriptHash"],min:{T1B1:"0",T2T1:"2.4.3"},comment:["Cardano GetNativeScriptHash call added in 2.4.3"]},{methods:["tezosSignTransaction"],min:{T1B1:"0",T2T1:"2.1.8"},comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:{T1B1:"1.9.0",T2T1:"2.3.0"},comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:{T1B1:"1.9.4",T2T1:"2.3.5"},comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:{T1B1:"1.10.0",T2T1:"2.4.0"},comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:{T1B1:"1.10.4",T2T1:"2.4.2"},comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:{T1B1:"1.10.4",T2T1:"2.4.3"},comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:{T1B1:"1.10.1",T2T1:"2.4.0"},comment:[""]},{methods:["ethereumSignTypedData"],min:{T1B1:"1.10.5",T2T1:"2.4.3"},comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:{T1B1:"1.10.6",T2T1:"2.4.4"},comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","cancelCoinjoinAuthorization","getOwnershipId","getOwnershipProof","setBusy","unlockPath"],min:{T1B1:"1.12.1",T2T1:"2.5.3"}},{methods:["showDeviceTutorial","authenticateDevice"],min:{T1B1:"0",T2T1:"0",T2B1:"2.6.1"},comment:["Only on T2B1"]},{methods:["rebootToBootloader"],min:{T1B1:"1.11.0",T2T1:"2.6.0"}},{methods:["getFirmwareHash"],min:{T1B1:"1.11.1",T2T1:"2.5.1"}},{methods:["solanaGetPublicKey","solanaGetAddress","solanaSignTransaction"],min:{T1B1:"0",T2T1:"2.6.4",T2B1:"2.6.4"}},{capabilities:["chunkify"],min:{T1B1:"0",T2T1:"2.6.3",T2B1:"2.6.3"},comment:["Since firmware 2.6.3 there is a new protobuf field 'chunkify' in almost all getAddress and signTx methods"]}]},De}var _n={},gn={},Fe={},En;function ms(){if(En)return Fe;En=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.arrayDistinct=void 0;const t=(o,i,a)=>a.indexOf(o)===i;return Fe.arrayDistinct=t,Fe}var je={},vn;function Ko(){if(vn)return je;vn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.arrayPartition=void 0;const t=(o,i)=>o.reduce(([a,p],u)=>i(u)?[[...a,u],p]:[a,[...p,u]],[[],[]]);return je.arrayPartition=t,je}var ke={},Tn;function ys(){if(Tn)return ke;Tn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.arrayShuffle=void 0;const t=o=>{const i=o.slice();for(let a=i.length-1;a>0;a--){const p=Math.floor(Math.random()*(a+1));[i[a],i[p]]=[i[p],i[a]]}return i};return ke.arrayShuffle=t,ke}var ze={},bn;function _s(){if(bn)return ze;bn=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.arrayToDictionary=void 0;const t=i=>!!["string","number"].includes(typeof i),o=(i,a,p)=>p?i.reduce((u,f)=>{var c;const y=a(f);return t(y)?Object.assign(Object.assign({},u),{[y]:[...(c=u[y])!==null&&c!==void 0?c:[],f]}):u},{}):i.reduce((u,f)=>{const c=a(f);return t(c)?Object.assign(Object.assign({},u),{[c]:f}):u},{});return ze.arrayToDictionary=o,ze}var ve={},Sn;function gs(){if(Sn)return ve;Sn=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getChunkSize=ve.reverseBuffer=void 0;const t=i=>{if(i.length<1)return i;const a=At.Buffer.alloc(i.length);let p=a.length-1;for(let u=0;u<a.length/2;u++)a[u]=i[p],a[p]=i[u],p--;return a};ve.reverseBuffer=t;const o=i=>{const a=At.Buffer.allocUnsafe(1);return a.writeUInt8(i),a};return ve.getChunkSize=o,ve}var Qe={},wn;function Es(){if(wn)return Qe;wn=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.bytesToHumanReadable=void 0;const t=["B","KB","MB","GB","TB"],o=i=>{let a=Math.abs(i),p=0;for(;a>=1024||p>=t.length;)a/=1024,p++;return`${a.toFixed(1)} ${t[p]}`};return Qe.bytesToHumanReadable=o,Qe}var Ge={},On;function vs(){if(On)return Ge;On=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.capitalizeFirstLetter=void 0;const t=o=>o.charAt(0).toUpperCase()+o.slice(1);return Ge.capitalizeFirstLetter=t,Ge}var We={},Rn;function Ts(){if(Rn)return We;Rn=1,Object.defineProperty(We,"__esModule",{value:!0}),We.cloneObject=void 0;const t=o=>{const i=JSON.stringify(o);return i===void 0?o:JSON.parse(i)};return We.cloneObject=t,We}var Ve={},In;function bs(){if(In)return Ve;In=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.countBytesInString=void 0;const t=o=>encodeURI(o).split(/%..|./).length-1;return Ve.countBytesInString=t,Ve}var He={},Pn;function Ss(){if(Pn)return He;Pn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.createCooldown=void 0;const t=o=>{let i=0;return()=>{const a=Date.now();return a-i>=o?(i=a,!0):!1}};return He.createCooldown=t,He}var qe={},An;function ws(){if(An)return qe;An=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.createDeferred=void 0;const t=o=>{let i=()=>{},a=()=>{};const p=new Promise((u,f)=>{i=u,a=f});return{id:o,resolve:i,reject:a,promise:p}};return qe.createDeferred=t,qe}var $e={},Nn;function Os(){if(Nn)return $e;Nn=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.createTimeoutPromise=void 0;const t=o=>new Promise(i=>setTimeout(i,o));return $e.createTimeoutPromise=t,$e}var Te={},Bn;function Rs(){if(Bn)return Te;Bn=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.getValueByKey=Te.getKeyByValue=void 0;function t(i,a){return i&&Object.keys(i).find(p=>i[p]===a)}Te.getKeyByValue=t;function o(i,a){const p=i&&Object.keys(i).find(u=>u===a);return p&&i[p]}return Te.getValueByKey=o,Te}var Ke={},Cn;function Is(){if(Cn)return Ke;Cn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.getNumberFromPixelString=void 0;const t=o=>parseInt(o.replace("px",""),10);return Ke.getNumberFromPixelString=t,Ke}var Ye={},Un;function Ps(){if(Un)return Ye;Un=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.getRandomNumberInRange=void 0;const t=(o,i)=>Math.floor(Math.random()*(i-o+1))+o;return Ye.getRandomNumberInRange=t,Ye}var Je={},Mn;function As(){if(Mn)return Je;Mn=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.getSynchronize=void 0;const t=()=>{let o;return i=>{const a=(o??Promise.resolve()).catch(()=>{}).then(i).finally(()=>{o===a&&(o=void 0)});return o=a,o}};return Je.getSynchronize=t,Je}var Xe={},Ln;function Ns(){if(Ln)return Xe;Ln=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.getWeakRandomId=void 0;const t=o=>{let i="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let p=0;p<o;p++)i+=a.charAt(Math.floor(Math.random()*a.length));return i};return Xe.getWeakRandomId=t,Xe}var Ze={},xn;function Bs(){if(xn)return Ze;xn=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.hasUppercaseLetter=void 0;const t=new RegExp("^(.*[A-Z].*)$"),o=i=>t.test(i);return Ze.hasUppercaseLetter=o,Ze}var et={},Dn;function Cs(){if(Dn)return et;Dn=1,Object.defineProperty(et,"__esModule",{value:!0}),et.isAscii=void 0;function t(o){return o?/^[\x00-\x7F]*$/.test(o):!0}return et.isAscii=t,et}var tt={},Fn;function Us(){if(Fn)return tt;Fn=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.isHex=void 0;const t=o=>/^(0x|0X)?[0-9A-Fa-f]+$/g.test(o);return tt.isHex=t,tt}var rt={},jn;function Ms(){if(jn)return rt;jn=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.isNotUndefined=void 0;const t=o=>typeof o<"u";return rt.isNotUndefined=t,rt}var nt={},kn;function Ls(){if(kn)return nt;kn=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.isUrl=void 0;const t=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?((\/)?(([a-z0-9-_])+(\/)?)+)$/i,o=i=>t.test(i);return nt.isUrl=o,nt}var zn={},Qn;function xs(){return Qn||(Qn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDeepObject=void 0;const o=p=>{if(typeof p=="object"&&p!==null){if(typeof Object.getPrototypeOf=="function"){const u=Object.getPrototypeOf(p);return u===Object.prototype||u===null}return Object.prototype.toString.call(p)==="[object Object]"}return!1},i=(...p)=>p.reduce((u,f)=>{if(Array.isArray(f))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(f).forEach(c=>{["__proto__","constructor","prototype"].includes(c)||(Array.isArray(u[c])&&Array.isArray(f[c])?u[c]=t.mergeDeepObject.options.mergeArrays?Array.from(new Set(u[c].concat(f[c]))):f[c]:o(u[c])&&o(f[c])?u[c]=(0,t.mergeDeepObject)(u[c],f[c]):u[c]=f[c])}),u},{});t.mergeDeepObject=i;const a={mergeArrays:!0};t.mergeDeepObject.options=a,t.mergeDeepObject.withOptions=(p,...u)=>{t.mergeDeepObject.options=Object.assign({mergeArrays:!0},p);const f=(0,t.mergeDeepObject)(...u);return t.mergeDeepObject.options=a,f}}(zn)),zn}var ot={},Gn;function Ds(){if(Gn)return ot;Gn=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.objectPartition=void 0;const t=Z,o=(i,a)=>a.reduce(([p,u],f)=>{const c=u,y=f,g=c[y],E=t.__rest(c,[typeof y=="symbol"?y:y+""]);return typeof g<"u"?[Object.assign(Object.assign({},p),{[f]:g}),E]:[p,u]},[{},i]);return ot.objectPartition=o,ot}var it={},Wn;function Fs(){if(Wn)return it;Wn=1,Object.defineProperty(it,"__esModule",{value:!0}),it.parseElectrumUrl=void 0;const t=/^(?:([a-zA-Z0-9.-]+)|\[([a-f0-9:]+)\]):([0-9]{1,5}):([ts])$/,o=i=>{var a;const p=i.match(t);if(p)return{host:(a=p[1])!==null&&a!==void 0?a:p[2],port:Number.parseInt(p[3],10),protocol:p[4]}};return it.parseElectrumUrl=o,it}var st={},Vn;function js(){if(Vn)return st;Vn=1,Object.defineProperty(st,"__esModule",{value:!0}),st.parseHostname=void 0;const t=/^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i,o=i=>{var a,p;return(p=(a=i.match(t))===null||a===void 0?void 0:a[2])===null||p===void 0?void 0:p.toLowerCase()};return st.parseHostname=o,st}var at={},Hn;function ks(){if(Hn)return at;Hn=1,Object.defineProperty(at,"__esModule",{value:!0}),at.promiseAllSequence=void 0;const t=Z,o=i=>t.__awaiter(void 0,void 0,void 0,function*(){const a=[];for(let p=0;p<i.length;++p){const u=yield i[p]();a.push(u)}return a});return at.promiseAllSequence=o,at}var qn={},$n;function zs(){return $n||($n=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.redactUserPathFromString=t.startOfUserPathRegex=void 0,t.startOfUserPathRegex=/([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;const o=i=>i.replace(t.startOfUserPathRegex,"$1[*]");t.redactUserPathFromString=o}(qn)),qn}var ut={},Kn;function Qs(){if(Kn)return ut;Kn=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.scheduleAction=void 0;const t=Z,o=_=>Array.isArray(_),i=()=>new Error("Aborted by signal"),a=()=>new Error("Aborted by deadline"),p=()=>new Error("Aborted by timeout"),u=(_,T)=>new Promise((l,b)=>{if(T.aborted)return b();if(_===void 0)return l();const I=setTimeout(l,_),P=()=>{clearTimeout(I),T.removeEventListener("abort",P),b()};T.addEventListener("abort",P)}),f=(_,T,l)=>new Promise((b,I)=>{if(l.aborted)return I();const P=_!==void 0?setTimeout(()=>I(T()),_):void 0,A=()=>{clearTimeout(P),l.removeEventListener("abort",A),I()};l.addEventListener("abort",A)}),c=(_,T)=>new Promise((l,b)=>{if(T.aborted)return b();if(_!=null&&_.aborted)return b(i());const I=()=>b(i());_?.addEventListener("abort",I);const P=()=>{_?.removeEventListener("abort",I),T.removeEventListener("abort",P),b()};T.addEventListener("abort",P)}),y=(_,T)=>t.__awaiter(void 0,void 0,void 0,function*(){const l=new AbortController,b=()=>l.abort();T.aborted&&b(),T.addEventListener("abort",b);try{return yield new Promise(I=>I(_(l.signal)))}finally{T.removeEventListener("abort",b)}}),g=(_,T,l,b)=>t.__awaiter(void 0,void 0,void 0,function*(){for(let I=0;I<_-1&&!b.aborted;I++){const P=new AbortController,A=()=>P.abort();b.addEventListener("abort",A);try{return yield T(I,P.signal)}catch{A(),yield l(I)}finally{b.removeEventListener("abort",A)}}return b.aborted?Promise.reject():T(_-1,b)}),E=(_,T)=>t.__awaiter(void 0,void 0,void 0,function*(){const{signal:l,delay:b,attempts:I,timeout:P,deadline:A,gap:D}=T,M=A&&A-Date.now(),m=o(I)?I.length:I??(A?1/0:1),S=new AbortController,O=S.signal,B=o(I)?C=>I[C]:()=>({timeout:P,gap:D});try{return yield Promise.race([c(l,O),f(M,a,O),u(b,O).then(()=>g(m,(C,U)=>Promise.race([f(B(C).timeout,p,O),y(_,U)]),C=>{var U;return u((U=B(C).gap)!==null&&U!==void 0?U:0,O)},O))])}finally{S.abort()}});return ut.scheduleAction=E,ut}var ct={},Yn;function Gs(){if(Yn)return ct;Yn=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.throwError=void 0;const t=o=>{throw new Error(o)};return ct.throwError=t,ct}var lt={},Jn;function Ws(){if(Jn)return lt;Jn=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.truncateMiddle=void 0;const t=(o,i,a)=>{if(o.length<=i+a)return o;const p=o.substring(0,i),u=o.substring(o.length-a,o.length);return`${p}${u}`};return lt.truncateMiddle=t,lt}var pt={},Xn;function Vs(){if(Xn)return pt;Xn=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.topologicalSort=void 0;const t=Ko(),o=(i,a,p)=>{const u=[],f=y=>(0,t.arrayPartition)(y,g=>!y.some(E=>a(E,g)));let c=i;for(;c.length;){const[y,g]=f(c);if(!y.length)throw new Error("Cycle detected");u.push(...p?y.sort(p):y),c=g}return u};return pt.topologicalSort=o,pt}var ft={},Zn;function Hs(){if(Zn)return ft;Zn=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.urlToOnion=void 0;const t=(o,i)=>{var a;const[,p,u,f,c]=(a=o.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i))!==null&&a!==void 0?a:[];if(!(!f||!i[f]))return`${p}://${u??""}${i[f]}${c??""}`};return ft.urlToOnion=t,ft}var eo={},to;function qs(){return to||(to=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeVersion=t.isNewerOrEqual=t.isEqual=t.isNewer=t.isVersionArray=void 0;const o=g=>{if(!Array.isArray(g)||g.length!==3)return!1;for(let E=0;E<g.length;E++){const _=g[E];if(typeof _!="number"||_<0)return!1}return!0};t.isVersionArray=o;const i=g=>({major:g[0],minor:g[1],patch:g[2]}),a=g=>{const E=g.split(".").map(_=>Number(_));if(!(0,t.isVersionArray)(E))throw new Error(`version string is in wrong format: ${g}`);return E},p=g=>`${g[0]}.${g[1]}.${g[2]}`,u=(g,E)=>{const _=i(typeof g=="string"?a(g):g),T=i(typeof E=="string"?a(E):E);return _.major-T.major!==0?_.major>T.major:_.minor-T.minor!==0?_.minor>T.minor:_.patch-T.patch!==0?_.patch>T.patch:!1};t.isNewer=u;const f=(g,E)=>{const _=typeof g=="string"?g:p(g),T=typeof E=="string"?E:p(E);return _===T};t.isEqual=f;const c=(g,E)=>(0,t.isNewer)(g,E)||(0,t.isEqual)(g,E);t.isNewerOrEqual=c;const y=g=>g.replace(/\b0+(\d)/g,"$1");t.normalizeVersion=y}(eo)),eo}var ae={},ro;function $s(){if(ro)return ae;ro=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.inDoubleQuotes=ae.inSingleQuotes=ae.inHTML=void 0;const t=/</g,o=/'/g,i=/"/g,a=f=>f.replace(t,"&lt;");ae.inHTML=a;const p=f=>f.replace(o,"&#39;");ae.inSingleQuotes=p;const u=f=>f.replace(i,"&quot;");return ae.inDoubleQuotes=u,ae}var dt={},no;function Ks(){if(no)return dt;no=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.getLocaleSeparators=void 0;const t=o=>{var i,a;const p=new Intl.NumberFormat(o).formatToParts(10000.1),u=(i=p.find(({type:c})=>c==="decimal"))===null||i===void 0?void 0:i.value,f=(a=p.find(({type:c})=>c==="group"))===null||a===void 0?void 0:a.value;return{decimalSeparator:u,thousandsSeparator:f}};return dt.getLocaleSeparators=t,dt}var ht={},oo;function Ys(){if(oo)return ht;oo=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.addDashesToSpaces=void 0;const t=o=>o.replace(/\s+/g,"-");return ht.addDashesToSpaces=t,ht}var io;function Wt(){return io||(io=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xssFilters=t.versionUtils=t.enumUtils=t.bufferUtils=void 0;const o=Z;o.__exportStar(ms(),t),o.__exportStar(Ko(),t),o.__exportStar(ys(),t),o.__exportStar(_s(),t),t.bufferUtils=o.__importStar(gs()),o.__exportStar(Es(),t),o.__exportStar(vs(),t),o.__exportStar(Ts(),t),o.__exportStar(bs(),t),o.__exportStar(Ss(),t),o.__exportStar(ws(),t),o.__exportStar(Os(),t),t.enumUtils=o.__importStar(Rs()),o.__exportStar(Is(),t),o.__exportStar(Ps(),t),o.__exportStar(As(),t),o.__exportStar(Ns(),t),o.__exportStar(Bs(),t),o.__exportStar(Cs(),t),o.__exportStar(Us(),t),o.__exportStar(Ms(),t),o.__exportStar(Ls(),t),o.__exportStar(xs(),t),o.__exportStar(Ds(),t),o.__exportStar(Fs(),t),o.__exportStar(js(),t),o.__exportStar(ks(),t),o.__exportStar(zs(),t),o.__exportStar(Qs(),t),o.__exportStar(Gs(),t),o.__exportStar(Ws(),t),o.__exportStar(Vs(),t),o.__exportStar(Hs(),t),t.versionUtils=o.__importStar(qs()),t.xssFilters=o.__importStar($s()),o.__exportStar(Ks(),t),o.__exportStar(Ys(),t)}(gn)),gn}var ue={},so;function Yo(){if(so)return ue;so=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.getOnionDomain=ue.getHost=ue.getOrigin=void 0;const t=Wt(),o=p=>{var u;if(typeof p!="string")return"unknown";if(p.indexOf("file://")===0)return"file://";const[f]=(u=p.match(/^https?:\/\/[^/]+/))!==null&&u!==void 0?u:[];return f??"unknown"};ue.getOrigin=o;const i=p=>{var u;if(typeof p!="string")return;const[,,f]=(u=p.match(/^(https?):\/\/([^:/]+)?/i))!==null&&u!==void 0?u:[];if(f){const c=f.split(".");return c.length>2?c.slice(c.length-2,c.length).join("."):f}};ue.getHost=i;const a=(p,u)=>{var f;return Array.isArray(p)?p.map(c=>{var y;return(y=(0,t.urlToOnion)(c,u))!==null&&y!==void 0?y:c}):typeof p=="string"&&(f=(0,t.urlToOnion)(p,u))!==null&&f!==void 0?f:p};return ue.getOnionDomain=a,ue}var wt={},ao;function Js(){if(ao)return wt;ao=1,Object.defineProperty(wt,"__esModule",{value:!0});const t='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';return wt.default=t,wt}var uo;function Xs(){return uo||(uo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.initIframeLogger=t.clearTimeout=t.postMessage=t.init=t.dispose=t.messagePromises=t.error=t.timeout=t.initPromise=t.origin=t.instance=void 0;const o=Z,i=Wt(),a=gt(),p=Yo(),u=$o(),f=o.__importDefault(Js());t.initPromise=(0,i.createDeferred)(),t.timeout=0;let c=0;t.messagePromises={};const y=()=>{if(t.instance&&t.instance.parentNode)try{t.instance.parentNode.removeChild(t.instance)}catch{}t.instance=null,t.timeout=0};t.dispose=y;const g=()=>{window.clearTimeout(t.timeout),t.error=a.ERRORS.TypedError("Init_IframeBlocked"),(0,t.dispose)(),t.initPromise.reject(t.error)},E=()=>{if(!t.instance)throw a.ERRORS.TypedError("Init_IframeBlocked");const I=t.instance.ownerDocument,P=I.head||I.getElementsByTagName("head")[0],A=document.createElement("style");A.setAttribute("type","text/css"),A.setAttribute("id","TrezorConnectStylesheet"),A.styleSheet?(A.styleSheet.cssText=f.default,P.appendChild(A)):(A.appendChild(document.createTextNode(f.default)),P.append(A))},_=async I=>{t.initPromise=(0,i.createDeferred)();const P=document.getElementById("trezorconnect");P?t.instance=P:(t.instance=document.createElement("iframe"),t.instance.frameBorder="0",t.instance.width="0px",t.instance.height="0px",t.instance.style.position="absolute",t.instance.style.display="none",t.instance.style.border="0px",t.instance.style.width="0px",t.instance.style.height="0px",t.instance.id="trezorconnect");let A;if(I.env==="web"){const M=I.manifest?JSON.stringify(I.manifest):"undefined",m=`version=${I.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(M)))}`;A=`${I.iframeSrc}?${m}`}else A=I.iframeSrc;t.instance.setAttribute("src",A),I.webusb&&console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'),navigator.usb&&t.instance.setAttribute("allow","usb"),t.origin=(0,p.getOrigin)(t.instance.src),t.timeout=window.setTimeout(()=>{t.initPromise.reject(a.ERRORS.TypedError("Init_IframeTimeout"))},1e4);const D=()=>{var M,m;if(!t.instance){t.initPromise.reject(a.ERRORS.TypedError("Init_IframeBlocked"));return}try{const O=(M=t.instance.contentWindow)===null||M===void 0?void 0:M.location.origin;if(!O||O==="null"){g();return}}catch{}let S;typeof chrome<"u"&&chrome.runtime&&typeof chrome.runtime.onConnect<"u"&&(chrome.runtime.onConnect.addListener(()=>{}),S=chrome.runtime.id),(m=t.instance.contentWindow)===null||m===void 0||m.postMessage({type:a.IFRAME.INIT,payload:{settings:I,extension:S}},t.origin),t.instance.onload=null};t.instance.attachEvent?t.instance.attachEvent("onload",D):t.instance.onload=D,document.body&&(document.body.appendChild(t.instance),E());try{await t.initPromise.promise}catch(M){throw t.instance&&(t.instance.parentNode&&t.instance.parentNode.removeChild(t.instance),t.instance=null),M}finally{window.clearTimeout(t.timeout),t.timeout=0}};t.init=_;const T=(I,P=!0)=>{var A,D;if(!t.instance)throw a.ERRORS.TypedError("Init_IframeBlocked");if(P){c++,I.id=c,t.messagePromises[c]=(0,i.createDeferred)();const{promise:M}=t.messagePromises[c];return(A=t.instance.contentWindow)===null||A===void 0||A.postMessage(I,t.origin),M}return(D=t.instance.contentWindow)===null||D===void 0||D.postMessage(I,t.origin),null};t.postMessage=T;const l=()=>{window.clearTimeout(t.timeout)};t.clearTimeout=l;const b=()=>{const I=()=>({add:P=>{(0,t.postMessage)({event:a.UI_EVENT,type:a.IFRAME.LOG,payload:P})}});(0,u.setLogWriter)(I)};t.initIframeLogger=b}(_n)),_n}var mt={},yt={},co;function Zs(){if(co)return yt;co=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.showPopupRequest=void 0;const t="TrezorConnectInteractionLayer",o=`
    <div class="trezorconnect-container" id="${t}">
        <div class="trezorconnect-window">
            <div class="trezorconnect-head">
                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">
                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>
                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>
                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>
                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>
                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>
                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>
                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>
                </svg>
                <div class="trezorconnect-close">
                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">
                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>
                    </svg>
                </div>
            </div>
            <div class="trezorconnect-body">
                <h3>Popup was blocked</h3>
                <p>Please click to "Continue" to open popup manually</p>
                <button class="trezorconnect-open">Continue</button>
            </div>
        </div>
    </div>
`,i=(a,p)=>{if(document.getElementById(t))return;const u=document.createElement("div");u.id=t,u.className="trezorconnect-container",u.innerHTML=o,document.body&&document.body.appendChild(u);const f=u.getElementsByClassName("trezorconnect-open")[0];f.onclick=()=>{a(),document.body&&document.body.removeChild(u)};const c=u.getElementsByClassName("trezorconnect-close")[0];c.onclick=()=>{p(),document.body&&document.body.removeChild(u)}};return yt.showPopupRequest=i,yt}var lo;function ea(){if(lo)return mt;lo=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PopupManager=void 0;const t=Z.__importDefault(Wo()),o=Wt(),i=gt(),a=Yo(),p=Zs(),u=850,f=500,c=3e3;class y extends t.default{constructor(E){super(),this.locked=!1,this.requestTimeout=0,this.closeInterval=0,this.extensionTabId=0,this.settings=E,this.origin=(0,a.getOrigin)(E.popupSrc),this.handleMessage=this.handleMessage.bind(this),this.iframeHandshake=(0,o.createDeferred)(i.IFRAME.LOADED),this.settings.env==="webextension"&&(this.handleExtensionConnect=this.handleExtensionConnect.bind(this),this.handleExtensionMessage=this.handleExtensionMessage.bind(this),chrome.runtime.onConnect.addListener(this.handleExtensionConnect)),window.addEventListener("message",this.handleMessage,!1)}request(){if(this.locked){this.popupWindow&&(this.settings.env==="webextension"?chrome.tabs.update(this.popupWindow.id,{active:!0}):this.popupWindow.focus());return}this.popupWindow&&!this.locked&&this.close();const E=this.open.bind(this);this.locked=!0;const _=this.settings.env==="webextension"?1:u;this.requestTimeout=window.setTimeout(()=>{this.requestTimeout=0,E()},_)}unlock(){this.locked=!1}open(){const E=this.settings.popupSrc;this.popupPromise=(0,o.createDeferred)(i.POPUP.LOADED),this.openWrapper(E),this.closeInterval=window.setInterval(()=>{this.popupWindow&&(this.settings.env==="webextension"?chrome.tabs.get(this.popupWindow.id,_=>{_||(this.emit(i.POPUP.CLOSED),this.clear())}):this.popupWindow.closed&&(this.clear(),this.emit(i.POPUP.CLOSED)))},f),this.openTimeout=setTimeout(()=>{this.clear(),(0,p.showPopupRequest)(this.open.bind(this),()=>{this.emit(i.POPUP.CLOSED)})},c)}openWrapper(E){this.settings.env==="webextension"?chrome.windows.getCurrent(_=>{_.type!=="normal"?chrome.windows.create({url:E},T=>{chrome.tabs.query({windowId:T?.id,active:!0},l=>{this.popupWindow=l[0]})}):chrome.tabs.query({currentWindow:!0,active:!0},T=>{this.extensionTabId=T[0].id,chrome.tabs.create({url:E,index:T[0].index+1},l=>{this.popupWindow=l})})}):this.settings.env==="electron"?this.popupWindow=window.open(E,"modal"):(this.popupWindow=window.open("","_blank"),this.popupWindow&&(this.popupWindow.location.href=E))}handleExtensionConnect(E){var _,T;E.name==="trezor-connect"&&(!this.popupWindow||this.popupWindow&&this.popupWindow.id!==((T=(_=E.sender)===null||_===void 0?void 0:_.tab)===null||T===void 0?void 0:T.id)||(this.openTimeout&&clearTimeout(this.openTimeout),this.extensionPort=E,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))}handleExtensionMessage(E){if(!this.extensionPort)return;const _=this.extensionPort,{data:T}=E;if(!(!T||typeof T!="object"))if(T.type===i.POPUP.ERROR){const l=T.payload&&typeof T.payload.error=="string"?T.payload.error:null;this.emit(i.POPUP.CLOSED,l?`Popup error: ${l}`:null),this.clear()}else T.type===i.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then(l=>{_.postMessage({type:i.POPUP.INIT,payload:Object.assign(Object.assign({},l),{settings:this.settings})})})):T.type===i.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},l=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:l[0].index+1},b=>{})}):T.type===i.POPUP.CLOSE_WINDOW&&this.clear()}handleMessage(E){const{data:_}=E;if(!((0,a.getOrigin)(E.origin)!==this.origin||!_||typeof _!="object"))if(_.type===i.IFRAME.LOADED)this.iframeHandshake.resolve(_.payload);else if(_.type===i.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(_.type===i.POPUP.ERROR&&this.popupWindow){const T=_.payload&&typeof _.payload.error=="string"?_.payload.error:null;this.emit(i.POPUP.CLOSED,T?`Popup error: ${T}`:null),this.clear()}else _.type===i.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then(T=>{this.popupWindow.postMessage({type:i.POPUP.INIT,payload:Object.assign(Object.assign({},T),{settings:this.settings})},this.origin)})):(_.type===i.POPUP.CANCEL_POPUP_REQUEST||_.type===i.UI.CLOSE_UI_WINDOW)&&this.clear(!1)}clear(E=!0){this.locked=!1,this.popupPromise=void 0,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=void 0),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=void 0),E&&this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0)}close(){if(this.popupWindow){if(this.settings.env==="webextension"){chrome.runtime.lastError,chrome.tabs.remove(this.popupWindow.id,()=>{chrome.runtime.lastError});return}this.popupWindow.close(),this.popupWindow=null}}async postMessage(E){if(!this.popupWindow&&E.type!==i.UI.REQUEST_UI_WINDOW&&this.openTimeout){this.clear(),(0,p.showPopupRequest)(this.open.bind(this),()=>{this.emit(i.POPUP.CLOSED)});return}this.popupPromise&&await this.popupPromise.promise,this.popupWindow&&this.popupWindow.postMessage(E,this.origin)}}return mt.PopupManager=y,mt}var Ot={},po;function ta(){if(po)return Ot;po=1,Object.defineProperty(Ot,"__esModule",{value:!0});const t=(o="",i)=>{const a=o||".trezor-webusb-button",p=document.querySelectorAll(a),u=`${i}?${Date.now()}`;p.forEach(f=>{if(f.getElementsByTagName("iframe").length<1){const c=f.getBoundingClientRect(),y=document.createElement("iframe");y.frameBorder="0",y.width=`${Math.round(c.width)}px`,y.height=`${Math.round(c.height)}px`,y.style.position="absolute",y.style.top="0px",y.style.left="0px",y.style.zIndex="1",y.setAttribute("allow","usb"),y.setAttribute("scrolling","no"),y.src=u,f.append(y)}})};return Ot.default=t,Ot}var fo={},ho;function ra(){return ho||(ho=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=t.getEnv=void 0;const o=gt(),i=()=>{var u;if(typeof chrome<"u"&&typeof((u=chrome.runtime)===null||u===void 0?void 0:u.onConnect)<"u")return"webextension";if(typeof navigator<"u"){if(typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative")return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};t.getEnv=i;const a=(u,f)=>{const c=new URLSearchParams(u),y={};return Array.from(c.entries()).forEach(([g,E])=>{f.includes(g)&&(y[g]=decodeURIComponent(E))}),y},p=(u={})=>{var f;const c=Object.assign({popup:!0},u);let y;if(typeof window<"u"?y=window.__TREZOR_CONNECT_SRC:typeof Kt<"u"&&(y=Kt.__TREZOR_CONNECT_SRC),typeof y=="string"&&(c.connectSrc=y,c.debug=!0),typeof window<"u"&&typeof((f=window.location)===null||f===void 0?void 0:f.search)=="string"){const g=a(window.location.search,["trezor-connect-src"]);g["trezor-connect-src"]&&(c.debug=!0,c.connectSrc=g["trezor-connect-src"])}return typeof u.env!="string"&&(c.env=(0,t.getEnv)()),(0,o.parseConnectSettings)(c)};t.parseConnectSettings=p}(fo)),fo}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const o=Z,i=o.__importDefault(Wo()),a=gt(),p=ds(),u=$o(),f=hs(),c=o.__importStar(Xs()),y=o.__importStar(ea()),g=o.__importDefault(ta()),E=ra(),_=new i.default,T=(0,u.initLog)("@trezor/connect-web");let l=(0,E.parseConnectSettings)(),b;const I=()=>{const L=new y.PopupManager(l);return L.on(a.POPUP.CLOSED,N=>{c.postMessage({type:a.POPUP.CLOSED,payload:N?{error:N}:null},!1)}),L},P=L=>{l=(0,E.parseConnectSettings)(Object.assign(Object.assign({},l),{manifest:L}))},A=()=>(_.removeAllListeners(),c.dispose(),l=(0,E.parseConnectSettings)(),b&&b.close(),Promise.resolve(void 0)),D=L=>{b&&b.emit(a.POPUP.CLOSED,L)},M=L=>{if(L.origin!==c.origin)return;const N=(0,a.parseMessage)(L.data),$=N.id||0;switch(T.log("handleMessage",N),N.event){case a.RESPONSE_EVENT:c.messagePromises[$]?(c.messagePromises[$].resolve({id:$,success:N.success,payload:N.payload}),delete c.messagePromises[$]):T.warn(`Unknown message id ${$}`);break;case a.DEVICE_EVENT:_.emit(N.event,N),_.emit(N.type,N.payload);break;case a.TRANSPORT_EVENT:_.emit(N.event,N),_.emit(N.type,N.payload);break;case a.BLOCKCHAIN_EVENT:_.emit(N.event,N),_.emit(N.type,N.payload);break;case a.UI_EVENT:if(N.type===a.IFRAME.BOOTSTRAP){c.clearTimeout();break}N.type===a.IFRAME.LOADED&&c.initPromise.resolve(),N.type===a.IFRAME.ERROR&&c.initPromise.reject(N.payload.error),_.emit(N.event,N),_.emit(N.type,N.payload);break;default:T.log("Undefined message",N.event,L.data)}},m=async(L={})=>{var N;if(c.instance)throw a.ERRORS.TypedError("Init_AlreadyInitialized");if(l=(0,E.parseConnectSettings)(Object.assign(Object.assign({},l),L)),!l.manifest)throw a.ERRORS.TypedError("Init_ManifestMissing");if(!((N=l.transports)===null||N===void 0)&&N.length||(l.transports=["BridgeTransport","WebUsbTransport"]),l.lazyLoad){l.lazyLoad=!1;return}b||(b=I()),T.enabled=!!l.debug,window.addEventListener("message",M),window.addEventListener("unload",A),await c.init(l),l.sharedLogger!==!1&&c.initIframeLogger()},S=async L=>{if(!c.instance&&!c.timeout){if(l=(0,E.parseConnectSettings)(l),!l.manifest)return(0,a.createErrorMessage)(a.ERRORS.TypedError("Init_ManifestMissing"));b||(b=I()),b.request();try{await m(l)}catch(N){return b&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(N.code)?b.postMessage((0,a.createUiMessage)(a.UI.IFRAME_FAILURE)):b.clear()),(0,a.createErrorMessage)(N)}}if(c.timeout)return(0,a.createErrorMessage)(a.ERRORS.TypedError("Init_ManifestMissing"));if(c.error)return(0,a.createErrorMessage)(c.error);l.popup&&b&&b.request();try{const N=await c.postMessage({type:a.IFRAME.CALL,payload:L});return N?(!N.success&&N.payload.code!=="Device_CallInProgress"&&b&&b.unlock(),N):(b&&b.unlock(),(0,a.createErrorMessage)(a.ERRORS.TypedError("Method_NoResponse")))}catch(N){return T.error("__call error",N),b&&b.clear(),(0,a.createErrorMessage)(N)}},O=L=>{if(!c.instance)throw a.ERRORS.TypedError("Init_NotInitialized");const{type:N,payload:$}=L;c.postMessage({event:a.UI_EVENT,type:N,payload:$})},B=L=>{(0,g.default)(L,l.webusbSrc)},C=async L=>{if(typeof L.callback=="function"){const{callback:N}=L,$=async Se=>{const{data:me}=Se;if(me&&me.type===a.UI.LOGIN_CHALLENGE_REQUEST)try{const pe=await N();c.postMessage({event:a.UI_EVENT,type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:pe})}catch(pe){c.postMessage({event:a.UI_EVENT,type:a.UI.LOGIN_CHALLENGE_RESPONSE,payload:pe.message})}};window.addEventListener("message",$,!1);const he=await S(Object.assign(Object.assign({method:"requestLogin"},L),{asyncChallenge:!0,callback:null}));return window.removeEventListener("message",$),he}return S(Object.assign({method:"requestLogin"},L))},U=()=>{if(!c.instance)throw a.ERRORS.TypedError("Init_NotInitialized");c.postMessage({event:a.UI_EVENT,type:a.TRANSPORT.DISABLE_WEBUSB})},x=async()=>{try{await window.navigator.usb.requestDevice({filters:f.config.webusb}),c.postMessage({event:a.UI_EVENT,type:a.TRANSPORT.REQUEST_DEVICE})}catch{}},V=(0,p.factory)({eventEmitter:_,manifest:P,init:m,call:S,requestLogin:C,uiResponse:O,renderWebUSBButton:B,disableWebUSB:U,requestWebUSBDevice:x,cancel:D,dispose:A});t.default=V,o.__exportStar(gt(),t)})(To);const Pe=di(To);class Vt extends ai{constructor({chain:o,derivationPath:i,provider:a}){super(a),de(this,"address"),de(this,"chain"),de(this,"derivationPath"),de(this,"provider"),de(this,"getAddress",async()=>{if(!this.address){const p=await Pe.ethereumGetAddress({path:`m/${Rt(this.derivationPath)}`,showOnTrezor:!0});if(!p.success)throw new Error(p.payload.error);this.address=p.payload.address}return this.address}),de(this,"signMessage",async p=>{const u=await Pe.ethereumSignMessage({path:`m/${Rt(this.derivationPath)}`,message:p});if(!u.success)throw new Error(u.payload.error);return u.payload.signature}),de(this,"signTransaction",async({to:p,gasLimit:u,value:f,data:c,nonce:y,maxFeePerGas:g,maxPriorityFeePerGas:E,gasPrice:_})=>{if(!p)throw new Error("Missing to address");if(!u)throw new Error("Missing gasLimit");const T=g&&E;if(T&&!g)throw new Error("Missing maxFeePerGas");if(T&&!E)throw new Error("Missing maxFeePerGas");if(!T&&!_)throw new Error("Missing gasPrice");const{Transaction:l,toHexString:b}=await Dt(()=>import("./assets/index-BDcs8OaA.js").then(S=>S.fi),__vite__mapDeps([0,1])),I={chainId:parseInt(ui[this.chain]),to:p.toString(),value:b(BigInt(f?.toString()||0)),gasLimit:b(BigInt(u?.toString()||0)),nonce:(y?.toString()||await this.provider.getTransactionCount(await this.getAddress(),"pending")).toString(),data:c?.toString()||"0x",...T?{maxFeePerGas:b(BigInt(g?.toString()||0)),maxPriorityFeePerGas:b(BigInt(E?.toString()||0))}:_&&{gasPrice:b(BigInt(_?.toString()||0))}||{gasPrice:"0x0"}},P=await Pe.ethereumSignTransaction({path:`m/${Rt(this.derivationPath)}`,transaction:I});if(!P.success)throw new Error(P.payload.error);const{r:A,s:D,v:M}=P.payload,m=l.from({...I,nonce:parseInt(I.nonce),type:T?2:0,signature:{r:A,s:D,v:new ci(M).getBaseValue("number")}}).serialized;if(!m)throw new Error("Failed to sign transaction");return m}),de(this,"connect",p=>{if(!p)throw new Error("Missing provider");return new Vt({chain:this.chain,derivationPath:this.derivationPath,provider:p})}),this.chain=o,this.derivationPath=i,this.provider=a,this.address=""}signTypedData(){throw new Error("this method is not implemented")}}const na=async({chain:t,derivationPath:o,provider:i})=>new Vt({chain:t,derivationPath:o,provider:i}),ua=[k.Arbitrum,k.Avalanche,k.Bitcoin,k.BitcoinCash,k.Dogecoin,k.Ethereum,k.BinanceSmartChain,k.Litecoin,k.Optimism,k.Polygon],oa=async({api:t,rpcUrl:o,chain:i,ethplorerApiKey:a,covalentApiKey:p,derivationPath:u,blockchairApiKey:f})=>{switch(i){case k.BinanceSmartChain:case k.Avalanche:case k.Arbitrum:case k.Optimism:case k.Polygon:case k.Ethereum:{if(i===k.Ethereum&&!a)throw new Error("Ethplorer API key not found");if(i!==k.Ethereum&&!p)throw new Error("Covalent API key not found");const{getProvider:c,getToolboxByChain:y}=await Dt(()=>import("./assets/index-BDcs8OaA.js").then(l=>l.fi),__vite__mapDeps([0,1])),g=c(i,o),E=await na({chain:i,derivationPath:u,provider:g}),_=await E.getAddress(),T=await y(i);return{address:_,walletMethods:{...T({covalentApiKey:p,api:t,signer:E,provider:g,ethplorerApiKey:a}),getAddress:()=>_}}}case k.Bitcoin:case k.BitcoinCash:case k.Dogecoin:case k.Litecoin:{if(!f&&!t)throw new Error("UTXO API key not found");const c=i.toLowerCase(),{getToolboxByChain:y,BCHToolbox:g}=await Dt(()=>import("./oTdZkjon.js"),__vite__mapDeps([2,0,1])),E=u[0]===84?{input:"SPENDWITNESS",output:"PAYTOWITNESS"}:u[0]===49?{input:"SPENDP2SHWITNESS",output:"PAYTOP2SHWITNESS"}:u[0]===44?{input:"SPENDADDRESS",output:"PAYTOADDRESS"}:void 0;if(!E)throw new Error("Derivation path is not supported");const _={apiClient:t,apiKey:f,rpcUrl:o},T=(await y(i))(_),l=await(async(I=u)=>{const{success:P,payload:A}=await Pe.getAddress({path:`m/${Rt(I)}`,coin:c});if(!P)throw new Error("Failed to get address: "+(A.error||"Unknown error"));return i===k.BitcoinCash?T.stripPrefix(A.address):A.address})(),b=async(I,P,A="")=>{const D=u.map((m,S)=>S<3?(m|2147483648)>>>0:m),M=await Pe.signTransaction({coin:c,inputs:P.map(m=>({address_n:D,prev_hash:m.hash,prev_index:m.index,amount:m.value,script_type:E.input})),outputs:I.txOutputs.map(m=>{const S=i===k.BitcoinCash&&m.address?li(m.address):m.address,O=i===k.BitcoinCash&&S?T.stripPrefix(S)===l:S===l;return m.address?O?{address_n:D,amount:m.value,script_type:E.output}:{address:S,amount:m.value,script_type:"PAYTOADDRESS"}:{op_return_data:At.Buffer.from(A).toString("hex"),amount:"0",script_type:"PAYTOOPRETURN"}})});if(M.success)return M.payload.serializedTx;throw new Error(`Trezor failed to sign the ${i.toUpperCase()} transaction: ${M.payload.error}`)};return{address:l,walletMethods:{...T,transfer:async({from:I,recipient:P,feeOptionKey:A,feeRate:D,memo:M,...m})=>{if(!I)throw new Error("From address must be provided");if(!P)throw new Error("Recipient address must be provided");const{psbt:S,inputs:O}=await T.buildTx({...m,memo:M,recipient:P,feeRate:D||(await T.getFeeRates())[A||si.Fast],sender:I,fetchTxHex:i===k.Dogecoin}),B=await b(S,O,M);return T.broadcastTx(B)},signTransaction:b,getAddress:()=>l}}}default:throw new Error("Chain not supported")}},ia=({apis:t,rpcUrls:o,addChain:i,config:{covalentApiKey:a,ethplorerApiKey:p,utxoApiKey:u,blockchairApiKey:f,trezorManifest:c={appUrl:"",email:""},thorswapApiKey:y}})=>async(g,E)=>{oi({apiKey:y});const _=Pe,{success:T}=await _.getDeviceState();T||_.init({lazyLoad:!0,manifest:c});const{address:l,walletMethods:b}=await oa({api:t[g],rpcUrl:o[g],chain:g,covalentApiKey:a,ethplorerApiKey:p,blockchairApiKey:f||u,derivationPath:E});i({chain:g,walletMethods:b,wallet:{address:l,balance:[],walletType:ii.TREZOR}})},ca={connectMethodName:"connectTrezor",connect:ia};export{ua as TREZOR_SUPPORTED_CHAINS,ca as trezorWallet};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-BDcs8OaA.js","assets/index-PWKo4Vxk.css","oTdZkjon.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
