import{bg as A,c4 as k,c5 as L,r as n,k as h,bq as R,bK as v,t as o,u as q,j as t,B as r,T as w,U as H,ac as O,x,bf as S,o as p,be as j,c6 as T,c7 as P,d as C,c8 as V,g as _,bL as E,c9 as B,aU as z,q as G,a8 as U}from"./assets/index-BDcs8OaA.js";import{u as N,a as $,p as M,S as Y,s as K,g as m,G as Q}from"./-Kbu4JQb.js";import{S as F}from"./x-sCoUT-.js";import{u as W}from"./ZLekcFwQ.js";import{T as X}from"./V7rr6QXu.js";import"./lTzDYV02.js";import"./qKy98dVq.js";import"./tX9VNdav.js";import"./0Xwqv7fW.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="b7997c37-20f0-42dc-8e0e-2bd4c45a7170",s._sentryDebugIdIdentifier="sentry-dbid-b7997c37-20f0-42dc-8e0e-2bd4c45a7170")}catch{}})();const J=()=>{const s=N(),{tvlInRune:a,totalActiveBond:l,liquidityAPYLabel:c,totalVolume:u}=$(),{data:e}=A(),{data:i}=k({interval:"day",count:1}),{data:g}=L({count:1,interval:"day"}),b=n.useMemo(()=>{if(!i||!g)return"$0";const{totalVolumeUsd:D}=i.intervals[0],I=M(D);return`$${new h(I).toAbbreviation()}`},[g,i]),{totalPooledRune:d}=R(),y=v(e?.bondingAPY);return n.useMemo(()=>[{iconName:"lockFill",color:"yellow",label:"TVL",value:s(a.getValue("string")),tooltip:o("views.stats.tvlTooltip")},{iconName:"chartArea",color:"purple",label:o("views.stats.totalLiq"),value:s(`${parseInt(e?.totalPooledRune||"0")/1e8*2}`),tooltip:o("views.stats.totalLiqTooltip")},{iconName:"chartCandle",color:"pink",label:o("views.stats.totalBond"),value:s(l.getValue("string")),tooltip:o("views.stats.totalBondTooltip")},{iconName:"barchart",color:"blueLight",label:o("views.stats.totalVolume"),value:`$${new h(u).toAbbreviation()}`,tooltip:o("views.stats.totalVolumeTooltip")},{iconName:"history",color:"yellow",label:o("views.stats.24Volume"),value:b,tooltip:o("views.stats.24VolumeTooltip")},{iconName:"percent",color:"purple",label:o("views.stats.liqAPY"),value:c,tooltip:o("views.stats.liqAPYTooltip")},{iconName:"chartArea2",color:"pink",label:o("views.stats.totalRUNE"),value:`${d.toAbbreviation(1)} / ${l.toAbbreviation(1)}`,tooltip:o("views.stats.totalRUNETooltip")},{iconName:"percent",color:"blueLight",label:o("views.stats.bondAPY"),value:y}],[b,c,u,l,d,e,a,y,s])},Z=()=>{const{hideStats:s}=q(),a=J();return s?null:t.jsxs(r,{col:!0,children:[t.jsx(r,{alignCenter:!0,className:"gap-x-2 rounded-2xl",children:t.jsx(w,{textStyle:"h3",children:"THUNDERChain Stats"})}),t.jsx(Y,{scrollable:!0,itemWidth:230,list:a})]})},ee=n.memo(Z),te=["1h","24h","7d","30d","90d","100d","180d","365d"],oe=["1 Hour","24 Hours","7 Days","14 Days","30 Days","90 Days","100 Days","180 Days","365 Days"],se=({poolsLoading:s})=>{const a=H(),l=N();return n.useMemo(()=>[{id:"pool",Header:()=>o("common.pool"),accessor:e=>e,sortType:K,Cell:({cell:{value:e}})=>t.jsxs("div",{className:"flex flex-row items-center",children:[t.jsx(O,{asset:x.fromStringSync(e.asset),size:40}),t.jsxs(w,{className:"hidden pl-4 h4 md:block",children:[e.status==="staged"?`(Staged)
`:"",x.fromStringSync(e.asset)?.ticker]})]})},{id:"price",Header:()=>o("common.usdPrice"),accessor:e=>e.assetPriceUSD,align:"right",Cell:({cell:{value:e}})=>new h(e).toCurrency(),sortType:m("price")},{id:"liquidity",Header:()=>o("common.liquidity"),accessor:e=>h.fromBigInt(BigInt(e.runeDepth),8).mul(2),align:"right",Cell:({cell:{value:e}})=>l(e.getValue("string")),sortType:m("liquidity")},{id:"volume24h",Header:()=>o("common.24Volume"),accessor:e=>h.fromBigInt(BigInt(e.volume24h),8),align:"right",Cell:({cell:{value:e}})=>l(e.getValue("string")),minScreenSize:S.lg,sortType:m("volume24h")},{id:"saversApr",Header:()=>o("common.saversApr"),accessor:e=>e.saversAPR,align:"right",Cell:({cell:{value:e}})=>s||!e?t.jsx(r,{justify:"end",children:t.jsx(p,{spin:!0,name:"loader",size:16})}):e==="0"?"N/A":v(e),sortType:m("saversApr"),toolTip:t.jsx(j,{content:o("views.home.aprExplanation"),place:"bottom",children:t.jsx(T,{href:P,onClick:e=>e.stopPropagation(),target:"_blank",zIndex:1,children:t.jsx(p,{className:"p-1 absolute top-1.5 text-xs rounded-lg transform mx-1 hover:bg-btn-primary fill-btn-primary hover:fill-white",name:"question",size:16})})})},{id:"apr",Header:()=>o("common.APR"),accessor:e=>v(e.annualPercentageRate),align:"right",Cell:({cell:{value:e}})=>s||!e?t.jsx(r,{justify:"end",children:t.jsx(p,{spin:!0,name:"loader",size:16})}):e,sortType:m("apr"),toolTip:t.jsx(j,{content:o("views.home.aprExplanation"),place:"bottom",children:t.jsx(T,{href:P,onClick:e=>e.stopPropagation(),target:"_blank",zIndex:1,children:t.jsx(p,{className:"p-1 absolute top-1.5 text-xs rounded-lg transform mx-1 hover:bg-btn-primary fill-btn-primary hover:fill-white",name:"question",size:16})})})},{id:"action",Header:()=>o("common.action"),accessor:e=>x.fromStringSync(e.asset),Cell:({cell:{value:e}})=>t.jsxs(r,{row:!0,className:"gap-2",justify:"end",children:[t.jsx(C,{onClick:i=>{i.stopPropagation(),a(V(x.fromChainOrSignature(_.Ethereum),e))},variant:"outlineSecondary",children:o("common.swap")}),t.jsx(C,{onClick:i=>{i.stopPropagation(),a(E(e))},variant:"outlinePrimary",children:o("common.addLiquidity")})]}),disableSortBy:!0,minScreenSize:S.md}],[a,l,s])},ae=[{id:"liquidity",desc:!0}],le=({data:s,poolsLoading:a})=>{const l=n.useCallback(({original:u})=>{B(u.asset)},[]),c=se({poolsLoading:a});return t.jsx(r,{col:!0,center:!s.length,children:s.length?t.jsx(X,{sortable:!0,columns:c,data:s,initialSort:ae,onRowClick:l}):t.jsx(p,{spin:!0,name:"loader",size:32})})},re=n.memo(()=>{const[s,a]=n.useState(""),[l,c]=n.useState(4),{isMdActive:u}=z(),{pools:e,poolsLoading:i}=W(te[l]),g=n.useMemo(()=>s?e.filter(({asset:d})=>{const y=d.toString().toLowerCase(),f=s.toLowerCase();return y.includes(f)}):e,[e,s]),b=n.useCallback(d=>{a(d.target.value)},[]);return t.jsx(r,{col:!0,children:u&&t.jsxs(r,{col:!0,className:"gap-8",children:[t.jsx(w,{textStyle:"h3",children:o("common.pools")}),t.jsxs(r,{alignCenter:!0,className:"flex-wrap gap-2 lg:flex-row",justify:"between",children:[t.jsx(r,{className:"w-fit gap-2",children:t.jsx(G,{border:"rounded",icon:"search",onChange:b,placeholder:"Search",value:s})}),t.jsxs(r,{className:"w-fit gap-2",children:[t.jsx(w,{className:"pt-2",textStyle:"p",children:o("views.home.aprPeriodRange")}),t.jsx(F,{forceDropdown:!0,activeIndex:l,disableDropdown:!1,dropdownPlacement:"start-start",onChange:c,options:oe})]})]}),t.jsx(le,{data:g,poolsLoading:i})]})})}),ne=()=>t.jsxs(r,{col:!0,children:[t.jsx(U,{content:o("views.home.description"),keywords:"Liquidity, Pools, THUNDERChain, THUNDERSwap, DEFI, DEX",title:o("views.home.title")}),t.jsxs(r,{col:!0,className:"pt-2",children:[t.jsx("div",{className:"pb-4",children:t.jsx(ee,{})}),t.jsx(Q,{}),t.jsx(re,{})]})]}),ye=ne;export{ye as default};
