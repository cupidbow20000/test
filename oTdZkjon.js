import{ao as Yt,aq as bf,av as bo,aC as s7,au as sc,aD as a7,aE as Yp,aF as yf,aG as u7}from"./assets/index-BDcs8OaA.js";(function(){try{var t=typeof window<"u"?window:typeof bf<"u"?bf:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="3c0da3ca-732a-423a-bf37-8e78409faec8",t._sentryDebugIdIdentifier="sentry-dbid-3c0da3ca-732a-423a-bf37-8e78409faec8")}catch{}})();var f7=Object.defineProperty,c7=(t,e,r)=>e in t?f7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ha=(t,e,r)=>(c7(t,typeof e!="symbol"?e+"":e,r),r);function h7(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof bf<"u"?bf:typeof self<"u"?self:{};function ac(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z={},gn={},uc={};uc.byteLength=d7;uc.toByteArray=y7;uc.fromByteArray=v7;var an=[],xr=[],l7=typeof Uint8Array<"u"?Uint8Array:Array,Nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jo=0,p7=Nh.length;Jo<p7;++Jo)an[Jo]=Nh[Jo],xr[Nh.charCodeAt(Jo)]=Jo;xr[45]=62;xr[95]=63;function I3(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function d7(t){var e=I3(t),r=e[0],n=e[1];return(r+n)*3/4-n}function b7(t,e,r){return(e+r)*3/4-r}function y7(t){var e,r=I3(t),n=r[0],o=r[1],i=new l7(b7(t,n,o)),s=0,a=o>0?n-4:n,f;for(f=0;f<a;f+=4)e=xr[t.charCodeAt(f)]<<18|xr[t.charCodeAt(f+1)]<<12|xr[t.charCodeAt(f+2)]<<6|xr[t.charCodeAt(f+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=xr[t.charCodeAt(f)]<<2|xr[t.charCodeAt(f+1)]>>4,i[s++]=e&255),o===1&&(e=xr[t.charCodeAt(f)]<<10|xr[t.charCodeAt(f+1)]<<4|xr[t.charCodeAt(f+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function g7(t){return an[t>>18&63]+an[t>>12&63]+an[t>>6&63]+an[t&63]}function m7(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(g7(n));return o.join("")}function v7(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(m7(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(an[e>>2]+an[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(an[e>>10]+an[e>>4&63]+an[e<<2&63]+"=")),o.join("")}var Yd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yd.read=function(t,e,r,n,o){var i,s,a=o*8-n-1,f=(1<<a)-1,u=f>>1,c=-7,l=r?o-1:0,p=r?-1:1,y=t[e+l];for(l+=p,i=y&(1<<-c)-1,y>>=-c,c+=a;c>0;i=i*256+t[e+l],l+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=s*256+t[e+l],l+=p,c-=8);if(i===0)i=1-u;else{if(i===f)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(y?-1:1)*s*Math.pow(2,i-n)};Yd.write=function(t,e,r,n,o,i){var s,a,f,u=i*8-o-1,c=(1<<u)-1,l=c>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,v=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?e+=p/f:e+=p*Math.pow(2,1-l),e*f>=2&&(s++,f/=2),s+l>=c?(a=0,s=c):s+l>=1?(a=(e*f-1)*Math.pow(2,o),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[r+y]=a&255,y+=v,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+y]=s&255,y+=v,s/=256,u-=8);t[r+y-v]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=uc,r=Yd,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const d=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(d,w),d.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(d){if(d>o)throw new RangeError('The value "'+d+'" is invalid for option "size"');const w=new Uint8Array(d);return Object.setPrototypeOf(w,a.prototype),w}function a(d,w,k){if(typeof d=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(d)}return f(d,w,k)}a.poolSize=8192;function f(d,w,k){if(typeof d=="string")return p(d,w);if(ArrayBuffer.isView(d))return v(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(bt(d,ArrayBuffer)||d&&bt(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(d,SharedArrayBuffer)||d&&bt(d.buffer,SharedArrayBuffer)))return A(d,w,k);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const j=d.valueOf&&d.valueOf();if(j!=null&&j!==d)return a.from(j,w,k);const G=T(d);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return a.from(d[Symbol.toPrimitive]("string"),w,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}a.from=function(d,w,k){return f(d,w,k)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function c(d,w,k){return u(d),d<=0?s(d):w!==void 0?typeof k=="string"?s(d).fill(w,k):s(d).fill(w):s(d)}a.alloc=function(d,w,k){return c(d,w,k)};function l(d){return u(d),s(d<0?0:P(d)|0)}a.allocUnsafe=function(d){return l(d)},a.allocUnsafeSlow=function(d){return l(d)};function p(d,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const k=D(d,w)|0;let j=s(k);const G=j.write(d,w);return G!==k&&(j=j.slice(0,G)),j}function y(d){const w=d.length<0?0:P(d.length)|0,k=s(w);for(let j=0;j<w;j+=1)k[j]=d[j]&255;return k}function v(d){if(bt(d,Uint8Array)){const w=new Uint8Array(d);return A(w.buffer,w.byteOffset,w.byteLength)}return y(d)}function A(d,w,k){if(w<0||d.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<w+(k||0))throw new RangeError('"length" is outside of buffer bounds');let j;return w===void 0&&k===void 0?j=new Uint8Array(d):k===void 0?j=new Uint8Array(d,w):j=new Uint8Array(d,w,k),Object.setPrototypeOf(j,a.prototype),j}function T(d){if(a.isBuffer(d)){const w=P(d.length)|0,k=s(w);return k.length===0||d.copy(k,0,0,w),k}if(d.length!==void 0)return typeof d.length!="number"||wt(d.length)?s(0):y(d);if(d.type==="Buffer"&&Array.isArray(d.data))return y(d.data)}function P(d){if(d>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return d|0}function C(d){return+d!=d&&(d=0),a.alloc(+d)}a.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==a.prototype},a.compare=function(d,w){if(bt(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),bt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(d)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===w)return 0;let k=d.length,j=w.length;for(let G=0,X=Math.min(k,j);G<X;++G)if(d[G]!==w[G]){k=d[G],j=w[G];break}return k<j?-1:j<k?1:0},a.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(d,w){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return a.alloc(0);let k;if(w===void 0)for(w=0,k=0;k<d.length;++k)w+=d[k].length;const j=a.allocUnsafe(w);let G=0;for(k=0;k<d.length;++k){let X=d[k];if(bt(X,Uint8Array))G+X.length>j.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(j,G)):Uint8Array.prototype.set.call(j,X,G);else if(a.isBuffer(X))X.copy(j,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=X.length}return j};function D(d,w){if(a.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||bt(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const k=d.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&k===0)return 0;let G=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return lt(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return _t(d).length;default:if(G)return j?-1:lt(d).length;w=(""+w).toLowerCase(),G=!0}}a.byteLength=D;function F(d,w,k){let j=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,w>>>=0,k<=w))return"";for(d||(d="utf8");;)switch(d){case"hex":return b(this,w,k);case"utf8":case"utf-8":return g(this,w,k);case"ascii":return R(this,w,k);case"latin1":case"binary":return x(this,w,k);case"base64":return h(this,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,w,k);default:if(j)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),j=!0}}a.prototype._isBuffer=!0;function V(d,w,k){const j=d[w];d[w]=d[k],d[k]=j}a.prototype.swap16=function(){const d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<d;w+=2)V(this,w,w+1);return this},a.prototype.swap32=function(){const d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<d;w+=4)V(this,w,w+3),V(this,w+1,w+2);return this},a.prototype.swap64=function(){const d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<d;w+=8)V(this,w,w+7),V(this,w+1,w+6),V(this,w+2,w+5),V(this,w+3,w+4);return this},a.prototype.toString=function(){const d=this.length;return d===0?"":arguments.length===0?g(this,0,d):F.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(d){if(!a.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:a.compare(this,d)===0},a.prototype.inspect=function(){let d="";const w=t.INSPECT_MAX_BYTES;return d=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(d+=" ... "),"<Buffer "+d+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(d,w,k,j,G){if(bt(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(w===void 0&&(w=0),k===void 0&&(k=d?d.length:0),j===void 0&&(j=0),G===void 0&&(G=this.length),w<0||k>d.length||j<0||G>this.length)throw new RangeError("out of range index");if(j>=G&&w>=k)return 0;if(j>=G)return-1;if(w>=k)return 1;if(w>>>=0,k>>>=0,j>>>=0,G>>>=0,this===d)return 0;let X=G-j,nt=k-w;const ct=Math.min(X,nt),ft=this.slice(j,G),pt=d.slice(w,k);for(let mt=0;mt<ct;++mt)if(ft[mt]!==pt[mt]){X=ft[mt],nt=pt[mt];break}return X<nt?-1:nt<X?1:0};function U(d,w,k,j,G){if(d.length===0)return-1;if(typeof k=="string"?(j=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,wt(k)&&(k=G?0:d.length-1),k<0&&(k=d.length+k),k>=d.length){if(G)return-1;k=d.length-1}else if(k<0)if(G)k=0;else return-1;if(typeof w=="string"&&(w=a.from(w,j)),a.isBuffer(w))return w.length===0?-1:J(d,w,k,j,G);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(d,w,k):Uint8Array.prototype.lastIndexOf.call(d,w,k):J(d,[w],k,j,G);throw new TypeError("val must be string, number or Buffer")}function J(d,w,k,j,G){let X=1,nt=d.length,ct=w.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(d.length<2||w.length<2)return-1;X=2,nt/=2,ct/=2,k/=2}function ft(mt,ht){return X===1?mt[ht]:mt.readUInt16BE(ht*X)}let pt;if(G){let mt=-1;for(pt=k;pt<nt;pt++)if(ft(d,pt)===ft(w,mt===-1?0:pt-mt)){if(mt===-1&&(mt=pt),pt-mt+1===ct)return mt*X}else mt!==-1&&(pt-=pt-mt),mt=-1}else for(k+ct>nt&&(k=nt-ct),pt=k;pt>=0;pt--){let mt=!0;for(let ht=0;ht<ct;ht++)if(ft(d,pt+ht)!==ft(w,ht)){mt=!1;break}if(mt)return pt}return-1}a.prototype.includes=function(d,w,k){return this.indexOf(d,w,k)!==-1},a.prototype.indexOf=function(d,w,k){return U(this,d,w,k,!0)},a.prototype.lastIndexOf=function(d,w,k){return U(this,d,w,k,!1)};function tt(d,w,k,j){k=Number(k)||0;const G=d.length-k;j?(j=Number(j),j>G&&(j=G)):j=G;const X=w.length;j>X/2&&(j=X/2);let nt;for(nt=0;nt<j;++nt){const ct=parseInt(w.substr(nt*2,2),16);if(wt(ct))return nt;d[k+nt]=ct}return nt}function Q(d,w,k,j){return It(lt(w,d.length-k),d,k,j)}function st(d,w,k,j){return It(At(w),d,k,j)}function m(d,w,k,j){return It(_t(w),d,k,j)}function O(d,w,k,j){return It(ut(w,d.length-k),d,k,j)}a.prototype.write=function(d,w,k,j){if(w===void 0)j="utf8",k=this.length,w=0;else if(k===void 0&&typeof w=="string")j=w,k=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(k)?(k=k>>>0,j===void 0&&(j="utf8")):(j=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-w;if((k===void 0||k>G)&&(k=G),d.length>0&&(k<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let X=!1;for(;;)switch(j){case"hex":return tt(this,d,w,k);case"utf8":case"utf-8":return Q(this,d,w,k);case"ascii":case"latin1":case"binary":return st(this,d,w,k);case"base64":return m(this,d,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,d,w,k);default:if(X)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(d,w,k){return w===0&&k===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(w,k))}function g(d,w,k){k=Math.min(d.length,k);const j=[];let G=w;for(;G<k;){const X=d[G];let nt=null,ct=X>239?4:X>223?3:X>191?2:1;if(G+ct<=k){let ft,pt,mt,ht;switch(ct){case 1:X<128&&(nt=X);break;case 2:ft=d[G+1],(ft&192)===128&&(ht=(X&31)<<6|ft&63,ht>127&&(nt=ht));break;case 3:ft=d[G+1],pt=d[G+2],(ft&192)===128&&(pt&192)===128&&(ht=(X&15)<<12|(ft&63)<<6|pt&63,ht>2047&&(ht<55296||ht>57343)&&(nt=ht));break;case 4:ft=d[G+1],pt=d[G+2],mt=d[G+3],(ft&192)===128&&(pt&192)===128&&(mt&192)===128&&(ht=(X&15)<<18|(ft&63)<<12|(pt&63)<<6|mt&63,ht>65535&&ht<1114112&&(nt=ht))}}nt===null?(nt=65533,ct=1):nt>65535&&(nt-=65536,j.push(nt>>>10&1023|55296),nt=56320|nt&1023),j.push(nt),G+=ct}return M(j)}const _=4096;function M(d){const w=d.length;if(w<=_)return String.fromCharCode.apply(String,d);let k="",j=0;for(;j<w;)k+=String.fromCharCode.apply(String,d.slice(j,j+=_));return k}function R(d,w,k){let j="";k=Math.min(d.length,k);for(let G=w;G<k;++G)j+=String.fromCharCode(d[G]&127);return j}function x(d,w,k){let j="";k=Math.min(d.length,k);for(let G=w;G<k;++G)j+=String.fromCharCode(d[G]);return j}function b(d,w,k){const j=d.length;(!w||w<0)&&(w=0),(!k||k<0||k>j)&&(k=j);let G="";for(let X=w;X<k;++X)G+=I[d[X]];return G}function E(d,w,k){const j=d.slice(w,k);let G="";for(let X=0;X<j.length-1;X+=2)G+=String.fromCharCode(j[X]+j[X+1]*256);return G}a.prototype.slice=function(d,w){const k=this.length;d=~~d,w=w===void 0?k:~~w,d<0?(d+=k,d<0&&(d=0)):d>k&&(d=k),w<0?(w+=k,w<0&&(w=0)):w>k&&(w=k),w<d&&(w=d);const j=this.subarray(d,w);return Object.setPrototypeOf(j,a.prototype),j};function S(d,w,k){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+w>k)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(d,w,k){d=d>>>0,w=w>>>0,k||S(d,w,this.length);let j=this[d],G=1,X=0;for(;++X<w&&(G*=256);)j+=this[d+X]*G;return j},a.prototype.readUintBE=a.prototype.readUIntBE=function(d,w,k){d=d>>>0,w=w>>>0,k||S(d,w,this.length);let j=this[d+--w],G=1;for(;w>0&&(G*=256);)j+=this[d+--w]*G;return j},a.prototype.readUint8=a.prototype.readUInt8=function(d,w){return d=d>>>0,w||S(d,1,this.length),this[d]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(d,w){return d=d>>>0,w||S(d,2,this.length),this[d]|this[d+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(d,w){return d=d>>>0,w||S(d,2,this.length),this[d]<<8|this[d+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(d,w){return d=d>>>0,w||S(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(d,w){return d=d>>>0,w||S(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},a.prototype.readBigUInt64LE=N(function(d){d=d>>>0,it(d,"offset");const w=this[d],k=this[d+7];(w===void 0||k===void 0)&&at(d,this.length-8);const j=w+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,G=this[++d]+this[++d]*2**8+this[++d]*2**16+k*2**24;return BigInt(j)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=N(function(d){d=d>>>0,it(d,"offset");const w=this[d],k=this[d+7];(w===void 0||k===void 0)&&at(d,this.length-8);const j=w*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],G=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+k;return(BigInt(j)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(d,w,k){d=d>>>0,w=w>>>0,k||S(d,w,this.length);let j=this[d],G=1,X=0;for(;++X<w&&(G*=256);)j+=this[d+X]*G;return G*=128,j>=G&&(j-=Math.pow(2,8*w)),j},a.prototype.readIntBE=function(d,w,k){d=d>>>0,w=w>>>0,k||S(d,w,this.length);let j=w,G=1,X=this[d+--j];for(;j>0&&(G*=256);)X+=this[d+--j]*G;return G*=128,X>=G&&(X-=Math.pow(2,8*w)),X},a.prototype.readInt8=function(d,w){return d=d>>>0,w||S(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},a.prototype.readInt16LE=function(d,w){d=d>>>0,w||S(d,2,this.length);const k=this[d]|this[d+1]<<8;return k&32768?k|4294901760:k},a.prototype.readInt16BE=function(d,w){d=d>>>0,w||S(d,2,this.length);const k=this[d+1]|this[d]<<8;return k&32768?k|4294901760:k},a.prototype.readInt32LE=function(d,w){return d=d>>>0,w||S(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},a.prototype.readInt32BE=function(d,w){return d=d>>>0,w||S(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},a.prototype.readBigInt64LE=N(function(d){d=d>>>0,it(d,"offset");const w=this[d],k=this[d+7];(w===void 0||k===void 0)&&at(d,this.length-8);const j=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(k<<24);return(BigInt(j)<<BigInt(32))+BigInt(w+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),a.prototype.readBigInt64BE=N(function(d){d=d>>>0,it(d,"offset");const w=this[d],k=this[d+7];(w===void 0||k===void 0)&&at(d,this.length-8);const j=(w<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(j)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+k)}),a.prototype.readFloatLE=function(d,w){return d=d>>>0,w||S(d,4,this.length),r.read(this,d,!0,23,4)},a.prototype.readFloatBE=function(d,w){return d=d>>>0,w||S(d,4,this.length),r.read(this,d,!1,23,4)},a.prototype.readDoubleLE=function(d,w){return d=d>>>0,w||S(d,8,this.length),r.read(this,d,!0,52,8)},a.prototype.readDoubleBE=function(d,w){return d=d>>>0,w||S(d,8,this.length),r.read(this,d,!1,52,8)};function B(d,w,k,j,G,X){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>G||w<X)throw new RangeError('"value" argument is out of bounds');if(k+j>d.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(d,w,k,j){if(d=+d,w=w>>>0,k=k>>>0,!j){const nt=Math.pow(2,8*k)-1;B(this,d,w,k,nt,0)}let G=1,X=0;for(this[w]=d&255;++X<k&&(G*=256);)this[w+X]=d/G&255;return w+k},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(d,w,k,j){if(d=+d,w=w>>>0,k=k>>>0,!j){const nt=Math.pow(2,8*k)-1;B(this,d,w,k,nt,0)}let G=k-1,X=1;for(this[w+G]=d&255;--G>=0&&(X*=256);)this[w+G]=d/X&255;return w+k},a.prototype.writeUint8=a.prototype.writeUInt8=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,1,255,0),this[w]=d&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,2,65535,0),this[w]=d&255,this[w+1]=d>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,2,65535,0),this[w]=d>>>8,this[w+1]=d&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,4,4294967295,0),this[w+3]=d>>>24,this[w+2]=d>>>16,this[w+1]=d>>>8,this[w]=d&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,4,4294967295,0),this[w]=d>>>24,this[w+1]=d>>>16,this[w+2]=d>>>8,this[w+3]=d&255,w+4};function $(d,w,k,j,G){K(w,j,G,d,k,7);let X=Number(w&BigInt(4294967295));d[k++]=X,X=X>>8,d[k++]=X,X=X>>8,d[k++]=X,X=X>>8,d[k++]=X;let nt=Number(w>>BigInt(32)&BigInt(4294967295));return d[k++]=nt,nt=nt>>8,d[k++]=nt,nt=nt>>8,d[k++]=nt,nt=nt>>8,d[k++]=nt,k}function et(d,w,k,j,G){K(w,j,G,d,k,7);let X=Number(w&BigInt(4294967295));d[k+7]=X,X=X>>8,d[k+6]=X,X=X>>8,d[k+5]=X,X=X>>8,d[k+4]=X;let nt=Number(w>>BigInt(32)&BigInt(4294967295));return d[k+3]=nt,nt=nt>>8,d[k+2]=nt,nt=nt>>8,d[k+1]=nt,nt=nt>>8,d[k]=nt,k+8}a.prototype.writeBigUInt64LE=N(function(d,w=0){return $(this,d,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=N(function(d,w=0){return et(this,d,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(d,w,k,j){if(d=+d,w=w>>>0,!j){const ct=Math.pow(2,8*k-1);B(this,d,w,k,ct-1,-ct)}let G=0,X=1,nt=0;for(this[w]=d&255;++G<k&&(X*=256);)d<0&&nt===0&&this[w+G-1]!==0&&(nt=1),this[w+G]=(d/X>>0)-nt&255;return w+k},a.prototype.writeIntBE=function(d,w,k,j){if(d=+d,w=w>>>0,!j){const ct=Math.pow(2,8*k-1);B(this,d,w,k,ct-1,-ct)}let G=k-1,X=1,nt=0;for(this[w+G]=d&255;--G>=0&&(X*=256);)d<0&&nt===0&&this[w+G+1]!==0&&(nt=1),this[w+G]=(d/X>>0)-nt&255;return w+k},a.prototype.writeInt8=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,1,127,-128),d<0&&(d=255+d+1),this[w]=d&255,w+1},a.prototype.writeInt16LE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,2,32767,-32768),this[w]=d&255,this[w+1]=d>>>8,w+2},a.prototype.writeInt16BE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,2,32767,-32768),this[w]=d>>>8,this[w+1]=d&255,w+2},a.prototype.writeInt32LE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,4,2147483647,-2147483648),this[w]=d&255,this[w+1]=d>>>8,this[w+2]=d>>>16,this[w+3]=d>>>24,w+4},a.prototype.writeInt32BE=function(d,w,k){return d=+d,w=w>>>0,k||B(this,d,w,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[w]=d>>>24,this[w+1]=d>>>16,this[w+2]=d>>>8,this[w+3]=d&255,w+4},a.prototype.writeBigInt64LE=N(function(d,w=0){return $(this,d,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=N(function(d,w=0){return et(this,d,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ot(d,w,k,j,G,X){if(k+j>d.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function Z(d,w,k,j,G){return w=+w,k=k>>>0,G||ot(d,w,k,4),r.write(d,w,k,j,23,4),k+4}a.prototype.writeFloatLE=function(d,w,k){return Z(this,d,w,!0,k)},a.prototype.writeFloatBE=function(d,w,k){return Z(this,d,w,!1,k)};function q(d,w,k,j,G){return w=+w,k=k>>>0,G||ot(d,w,k,8),r.write(d,w,k,j,52,8),k+8}a.prototype.writeDoubleLE=function(d,w,k){return q(this,d,w,!0,k)},a.prototype.writeDoubleBE=function(d,w,k){return q(this,d,w,!1,k)},a.prototype.copy=function(d,w,k,j){if(!a.isBuffer(d))throw new TypeError("argument should be a Buffer");if(k||(k=0),!j&&j!==0&&(j=this.length),w>=d.length&&(w=d.length),w||(w=0),j>0&&j<k&&(j=k),j===k||d.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),d.length-w<j-k&&(j=d.length-w+k);const G=j-k;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,k,j):Uint8Array.prototype.set.call(d,this.subarray(k,j),w),G},a.prototype.fill=function(d,w,k,j){if(typeof d=="string"){if(typeof w=="string"?(j=w,w=0,k=this.length):typeof k=="string"&&(j=k,k=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(d.length===1){const X=d.charCodeAt(0);(j==="utf8"&&X<128||j==="latin1")&&(d=X)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(w<0||this.length<w||this.length<k)throw new RangeError("Out of range index");if(k<=w)return this;w=w>>>0,k=k===void 0?this.length:k>>>0,d||(d=0);let G;if(typeof d=="number")for(G=w;G<k;++G)this[G]=d;else{const X=a.isBuffer(d)?d:a.from(d,j),nt=X.length;if(nt===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(G=0;G<k-w;++G)this[G+w]=X[G%nt]}return this};const L={};function Y(d,w,k){L[d]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(d,w){return`The "${d}" argument must be of type number. Received type ${typeof w}`},TypeError),Y("ERR_OUT_OF_RANGE",function(d,w,k){let j=`The value of "${d}" is out of range.`,G=k;return Number.isInteger(k)&&Math.abs(k)>2**32?G=rt(String(k)):typeof k=="bigint"&&(G=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(G=rt(G)),G+="n"),j+=` It must be ${w}. Received ${G}`,j},RangeError);function rt(d){let w="",k=d.length;const j=d[0]==="-"?1:0;for(;k>=j+4;k-=3)w=`_${d.slice(k-3,k)}${w}`;return`${d.slice(0,k)}${w}`}function H(d,w,k){it(w,"offset"),(d[w]===void 0||d[w+k]===void 0)&&at(w,d.length-(k+1))}function K(d,w,k,j,G,X){if(d>k||d<w){const nt=typeof w=="bigint"?"n":"";let ct;throw X>3?w===0||w===BigInt(0)?ct=`>= 0${nt} and < 2${nt} ** ${(X+1)*8}${nt}`:ct=`>= -(2${nt} ** ${(X+1)*8-1}${nt}) and < 2 ** ${(X+1)*8-1}${nt}`:ct=`>= ${w}${nt} and <= ${k}${nt}`,new L.ERR_OUT_OF_RANGE("value",ct,d)}H(j,G,X)}function it(d,w){if(typeof d!="number")throw new L.ERR_INVALID_ARG_TYPE(w,"number",d)}function at(d,w,k){throw Math.floor(d)!==d?(it(d,k),new L.ERR_OUT_OF_RANGE(k||"offset","an integer",d)):w<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE(k||"offset",`>= ${k?1:0} and <= ${w}`,d)}const yt=/[^+/0-9A-Za-z-_]/g;function dt(d){if(d=d.split("=")[0],d=d.trim().replace(yt,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function lt(d,w){w=w||1/0;let k;const j=d.length;let G=null;const X=[];for(let nt=0;nt<j;++nt){if(k=d.charCodeAt(nt),k>55295&&k<57344){if(!G){if(k>56319){(w-=3)>-1&&X.push(239,191,189);continue}else if(nt+1===j){(w-=3)>-1&&X.push(239,191,189);continue}G=k;continue}if(k<56320){(w-=3)>-1&&X.push(239,191,189),G=k;continue}k=(G-55296<<10|k-56320)+65536}else G&&(w-=3)>-1&&X.push(239,191,189);if(G=null,k<128){if((w-=1)<0)break;X.push(k)}else if(k<2048){if((w-=2)<0)break;X.push(k>>6|192,k&63|128)}else if(k<65536){if((w-=3)<0)break;X.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((w-=4)<0)break;X.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return X}function At(d){const w=[];for(let k=0;k<d.length;++k)w.push(d.charCodeAt(k)&255);return w}function ut(d,w){let k,j,G;const X=[];for(let nt=0;nt<d.length&&!((w-=2)<0);++nt)k=d.charCodeAt(nt),j=k>>8,G=k%256,X.push(G),X.push(j);return X}function _t(d){return e.toByteArray(dt(d))}function It(d,w,k,j){let G;for(G=0;G<j&&!(G+k>=w.length||G>=d.length);++G)w[G+k]=d[G];return G}function bt(d,w){return d instanceof w||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===w.name}function wt(d){return d!==d}const I=function(){const d="0123456789abcdef",w=new Array(256);for(let k=0;k<16;++k){const j=k*16;for(let G=0;G<16;++G)w[j+G]=d[k]+d[G]}return w}();function N(d){return typeof BigInt>"u"?W:d}function W(){throw new Error("BigInt not supported")}})(gn);var T3={exports:{}},Ie=T3.exports={},on,sn;function Zp(){throw new Error("setTimeout has not been defined")}function Jp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?on=setTimeout:on=Zp}catch{on=Zp}try{typeof clearTimeout=="function"?sn=clearTimeout:sn=Jp}catch{sn=Jp}})();function O3(t){if(on===setTimeout)return setTimeout(t,0);if((on===Zp||!on)&&setTimeout)return on=setTimeout,setTimeout(t,0);try{return on(t,0)}catch{try{return on.call(null,t,0)}catch{return on.call(this,t,0)}}}function w7(t){if(sn===clearTimeout)return clearTimeout(t);if((sn===Jp||!sn)&&clearTimeout)return sn=clearTimeout,clearTimeout(t);try{return sn(t)}catch{try{return sn.call(null,t)}catch{return sn.call(this,t)}}}var jn=[],ws=!1,oo,Zu=-1;function _7(){!ws||!oo||(ws=!1,oo.length?jn=oo.concat(jn):Zu=-1,jn.length&&B3())}function B3(){if(!ws){var t=O3(_7);ws=!0;for(var e=jn.length;e;){for(oo=jn,jn=[];++Zu<e;)oo&&oo[Zu].run();Zu=-1,e=jn.length}oo=null,ws=!1,w7(t)}}Ie.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];jn.push(new M3(t,e)),jn.length===1&&!ws&&O3(B3)};function M3(t,e){this.fun=t,this.array=e}M3.prototype.run=function(){this.fun.apply(null,this.array)};Ie.title="browser";Ie.browser=!0;Ie.env={};Ie.argv=[];Ie.version="";Ie.versions={};function zn(){}Ie.on=zn;Ie.addListener=zn;Ie.once=zn;Ie.off=zn;Ie.removeListener=zn;Ie.removeAllListeners=zn;Ie.emit=zn;Ie.prependListener=zn;Ie.prependOnceListener=zn;Ie.listeners=function(t){return[]};Ie.binding=function(t){throw new Error("process.binding is not supported")};Ie.cwd=function(){return"/"};Ie.chdir=function(t){throw new Error("process.chdir is not supported")};Ie.umask=function(){return 0};var S7=T3.exports;(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gn,r=S7,n=s=>s&&s.__esModule?s:{default:s},o=n(r),i=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>o.default}),t.global=i})(z);var Bs={},fc={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.output=hr.exists=hr.hash=hr.bytes=hr.bool=hr.number=void 0;function gf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}hr.number=gf;function P3(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}hr.bool=P3;function Zd(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}hr.bytes=Zd;function x3(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gf(t.outputLen),gf(t.blockLen)}hr.hash=x3;function N3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}hr.exists=N3;function R3(t,e){Zd(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}hr.output=R3;const E7={number:gf,bool:P3,bytes:Zd,hash:x3,exists:N3,output:R3};hr.default=E7;var Jd={},cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.crypto=void 0;cc.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=cc,r=U=>U instanceof Uint8Array,n=U=>new Uint8Array(U.buffer,U.byteOffset,U.byteLength);t.u8=n;const o=U=>new Uint32Array(U.buffer,U.byteOffset,Math.floor(U.byteLength/4));t.u32=o;const i=U=>new DataView(U.buffer,U.byteOffset,U.byteLength);t.createView=i;const s=(U,J)=>U<<32-J|U>>>J;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(U,J)=>J.toString(16).padStart(2,"0"));function f(U){if(!r(U))throw new Error("Uint8Array expected");let J="";for(let tt=0;tt<U.length;tt++)J+=a[U[tt]];return J}t.bytesToHex=f;function u(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);const J=U.length;if(J%2)throw new Error("padded hex string expected, got unpadded hex of length "+J);const tt=new Uint8Array(J/2);for(let Q=0;Q<tt.length;Q++){const st=Q*2,m=U.slice(st,st+2),O=Number.parseInt(m,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");tt[Q]=O}return tt}t.hexToBytes=u;const c=async()=>{};t.nextTick=c;async function l(U,J,tt){let Q=Date.now();for(let st=0;st<U;st++){tt(st);const m=Date.now()-Q;m>=0&&m<J||(await(0,t.nextTick)(),Q+=m)}}t.asyncLoop=l;function p(U){if(typeof U!="string")throw new Error(`utf8ToBytes expected string, got ${typeof U}`);return new Uint8Array(new TextEncoder().encode(U))}t.utf8ToBytes=p;function y(U){if(typeof U=="string"&&(U=p(U)),!r(U))throw new Error(`expected Uint8Array, got ${typeof U}`);return U}t.toBytes=y;function v(...U){const J=new Uint8Array(U.reduce((Q,st)=>Q+st.length,0));let tt=0;return U.forEach(Q=>{if(!r(Q))throw new Error("Uint8Array expected");J.set(Q,tt),tt+=Q.length}),J}t.concatBytes=v;class A{clone(){return this._cloneInto()}}t.Hash=A;const T={}.toString;function P(U,J){if(J!==void 0&&T.call(J)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(U,J)}t.checkOpts=P;function C(U){const J=Q=>U().update(y(Q)).digest(),tt=U();return J.outputLen=tt.outputLen,J.blockLen=tt.blockLen,J.create=()=>U(),J}t.wrapConstructor=C;function D(U){const J=(Q,st)=>U(st).update(y(Q)).digest(),tt=U({});return J.outputLen=tt.outputLen,J.blockLen=tt.blockLen,J.create=Q=>U(Q),J}t.wrapConstructorWithOpts=D;function F(U){const J=(Q,st)=>U(st).update(y(Q)).digest(),tt=U({});return J.outputLen=tt.outputLen,J.blockLen=tt.blockLen,J.create=Q=>U(Q),J}t.wrapXOFConstructorWithOpts=F;function V(U=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(U));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=V})(Jd);Object.defineProperty(fc,"__esModule",{value:!0});fc.SHA2=void 0;const Rh=hr,la=Jd;function A7(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),f=n?4:0,u=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+u,a,n)}let k7=class extends la.Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,la.createView)(this.buffer)}update(t){(0,Rh.exists)(this);const{view:e,buffer:r,blockLen:n}=this;t=(0,la.toBytes)(t);const o=t.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){const a=(0,la.createView)(t);for(;n<=o-i;i+=n)this.process(a,i);continue}r.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Rh.exists)(this),(0,Rh.output)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:o}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let c=i;c<n;c++)e[c]=0;A7(r,n-8,BigInt(this.length*8),o),this.process(r,0);const s=(0,la.createView)(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=a/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<f;c++)s.setUint32(4*c,u[c],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return t.length=n,t.pos=s,t.finished=o,t.destroyed=i,n%e&&t.buffer.set(r),t}};fc.SHA2=k7;Object.defineProperty(Bs,"__esModule",{value:!0});Bs.sha224=Bs.sha256=void 0;const I7=fc,Pr=Jd,T7=(t,e,r)=>t&e^~t&r,O7=(t,e,r)=>t&e^t&r^e&r,B7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64);let U3=class extends I7.SHA2{constructor(){super(64,32,8,!1),this.A=Zn[0]|0,this.B=Zn[1]|0,this.C=Zn[2]|0,this.D=Zn[3]|0,this.E=Zn[4]|0,this.F=Zn[5]|0,this.G=Zn[6]|0,this.H=Zn[7]|0}get(){const{A:t,B:e,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[t,e,r,n,o,i,s,a]}set(t,e,r,n,o,i,s,a){this.A=t|0,this.B=e|0,this.C=r|0,this.D=n|0,this.E=o|0,this.F=i|0,this.G=s|0,this.H=a|0}process(t,e){for(let c=0;c<16;c++,e+=4)Jn[c]=t.getUint32(e,!1);for(let c=16;c<64;c++){const l=Jn[c-15],p=Jn[c-2],y=(0,Pr.rotr)(l,7)^(0,Pr.rotr)(l,18)^l>>>3,v=(0,Pr.rotr)(p,17)^(0,Pr.rotr)(p,19)^p>>>10;Jn[c]=v+Jn[c-7]+y+Jn[c-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:f,H:u}=this;for(let c=0;c<64;c++){const l=(0,Pr.rotr)(s,6)^(0,Pr.rotr)(s,11)^(0,Pr.rotr)(s,25),p=u+l+T7(s,a,f)+B7[c]+Jn[c]|0,y=((0,Pr.rotr)(r,2)^(0,Pr.rotr)(r,13)^(0,Pr.rotr)(r,22))+O7(r,n,o)|0;u=f,f=a,a=s,s=i+p|0,i=o,o=n,n=r,r=p+y|0}r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(r,n,o,i,s,a,f,u)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},M7=class extends U3{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Bs.sha256=(0,Pr.wrapConstructor)(()=>new U3);Bs.sha224=(0,Pr.wrapConstructor)(()=>new M7);function P7(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),f=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var v=0,A=0,T=0,P=y.length;T!==P&&y[T]===0;)T++,v++;for(var C=(P-T)*u+1>>>0,D=new Uint8Array(C);T!==P;){for(var F=y[T],V=0,U=C-1;(F!==0||V<A)&&U!==-1;U--,V++)F+=256*D[U]>>>0,D[U]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");A=V,T++}for(var J=C-A;J!==C&&D[J]===0;)J++;for(var tt=a.repeat(v);J<C;++J)tt+=t.charAt(D[J]);return tt}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var v=0,A=0,T=0;y[v]===a;)A++,v++;for(var P=(y.length-v)*f+1>>>0,C=new Uint8Array(P);y[v];){var D=e[y.charCodeAt(v)];if(D===255)return;for(var F=0,V=P-1;(D!==0||F<T)&&V!==-1;V--,F++)D+=s*C[V]>>>0,C[V]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");T=F,v++}for(var U=P-T;U!==P&&C[U]===0;)U++;for(var J=new Uint8Array(A+(P-U)),tt=A;U!==P;)J[tt++]=C[U++];return J}function p(y){var v=l(y);if(v)return v;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:l,decode:p}}var x7=P7;const N7=x7,R7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var U7=N7(R7),Uh=U7,C7=function(t){function e(i){var s=Uint8Array.from(i),a=t(s),f=s.length+4,u=new Uint8Array(f);return u.set(s,0),u.set(a.subarray(0,4),s.length),Uh.encode(u,f)}function r(i){var s=i.slice(0,-4),a=i.slice(-4),f=t(s);if(!(a[0]^f[0]|a[1]^f[1]|a[2]^f[2]|a[3]^f[3]))return s}function n(i){var s=Uh.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=Uh.decode(i),a=r(s);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}},{sha256:Hb}=Bs,H7=C7;function j7(t){return Hb(Hb(t))}var L7=H7(j7);const C3=ac(L7);/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */function Qd(t){var e=new Error;this.name=e.name="ValidationError",this.message=e.message=t,this.stack=e.stack}Qd.prototype=Object.create(Error.prototype);function D7(t,e){if(!t)throw new Qd(e)}var t0={ValidationError:Qd,validate:D7};/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */var mf=t0.validate,K7="qpzry9x8gf2tvdw0s3jn54khce6mua7l",jb={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function q7(t){mf(t instanceof Uint8Array,"Invalid data: "+t+".");for(var e="",r=0;r<t.length;++r){var n=t[r];mf(0<=n&&n<32,"Invalid value: "+n+"."),e+=K7[n]}return e}function F7(t){mf(typeof t=="string","Invalid base32-encoded string: "+t+".");for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];mf(n in jb,"Invalid value: "+n+"."),e[r]=jb[n]}return e}var G7={encode:q7,decode:F7},H3={exports:{}};(function(t){var e=function(r){var n=1e7,o=7,i=9007199254740992,s=p(i),a=Math.log(i);function f(I,N){return typeof I>"u"?f[0]:typeof N<"u"?+N==10?bt(I):yt(I,N):bt(I)}function u(I,N){this.value=I,this.sign=N,this.isSmall=!1}u.prototype=Object.create(f.prototype);function c(I){this.value=I,this.sign=I<0,this.isSmall=!0}c.prototype=Object.create(f.prototype);function l(I){return-i<I&&I<i}function p(I){return I<1e7?[I]:I<1e14?[I%1e7,Math.floor(I/1e7)]:[I%1e7,Math.floor(I/1e7)%1e7,Math.floor(I/1e14)]}function y(I){v(I);var N=I.length;if(N<4&&x(I,s)<0)switch(N){case 0:return 0;case 1:return I[0];case 2:return I[0]+I[1]*n;default:return I[0]+(I[1]+I[2]*n)*n}return I}function v(I){for(var N=I.length;I[--N]===0;);I.length=N+1}function A(I){for(var N=new Array(I),W=-1;++W<I;)N[W]=0;return N}function T(I){return I>0?Math.floor(I):Math.ceil(I)}function P(I,N){var W=I.length,d=N.length,w=new Array(W),k=0,j=n,G,X;for(X=0;X<d;X++)G=I[X]+N[X]+k,k=G>=j?1:0,w[X]=G-k*j;for(;X<W;)G=I[X]+k,k=G===j?1:0,w[X++]=G-k*j;return k>0&&w.push(k),w}function C(I,N){return I.length>=N.length?P(I,N):P(N,I)}function D(I,N){var W=I.length,d=new Array(W),w=n,k,j;for(j=0;j<W;j++)k=I[j]-w+N,N=Math.floor(k/w),d[j]=k-N*w,N+=1;for(;N>0;)d[j++]=N%w,N=Math.floor(N/w);return d}u.prototype.add=function(I){var N=bt(I);if(this.sign!==N.sign)return this.subtract(N.negate());var W=this.value,d=N.value;return N.isSmall?new u(D(W,Math.abs(d)),this.sign):new u(C(W,d),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(I){var N=bt(I),W=this.value;if(W<0!==N.sign)return this.subtract(N.negate());var d=N.value;if(N.isSmall){if(l(W+d))return new c(W+d);d=p(Math.abs(d))}return new u(D(d,Math.abs(W)),W<0)},c.prototype.plus=c.prototype.add;function F(I,N){var W=I.length,d=N.length,w=new Array(W),k=0,j=n,G,X;for(G=0;G<d;G++)X=I[G]-k-N[G],X<0?(X+=j,k=1):k=0,w[G]=X;for(G=d;G<W;G++){if(X=I[G]-k,X<0)X+=j;else{w[G++]=X;break}w[G]=X}for(;G<W;G++)w[G]=I[G];return v(w),w}function V(I,N,W){var d;return x(I,N)>=0?d=F(I,N):(d=F(N,I),W=!W),d=y(d),typeof d=="number"?(W&&(d=-d),new c(d)):new u(d,W)}function U(I,N,W){var d=I.length,w=new Array(d),k=-N,j=n,G,X;for(G=0;G<d;G++)X=I[G]+k,k=Math.floor(X/j),X%=j,w[G]=X<0?X+j:X;return w=y(w),typeof w=="number"?(W&&(w=-w),new c(w)):new u(w,W)}u.prototype.subtract=function(I){var N=bt(I);if(this.sign!==N.sign)return this.add(N.negate());var W=this.value,d=N.value;return N.isSmall?U(W,Math.abs(d),this.sign):V(W,d,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(I){var N=bt(I),W=this.value;if(W<0!==N.sign)return this.add(N.negate());var d=N.value;return N.isSmall?new c(W-d):U(d,Math.abs(W),W>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var I=this.sign,N=new c(-this.value);return N.sign=!I,N},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))};function J(I,N){var W=I.length,d=N.length,w=W+d,k=A(w),j=n,G,X,nt,ct,ft;for(nt=0;nt<W;++nt){ct=I[nt];for(var pt=0;pt<d;++pt)ft=N[pt],G=ct*ft+k[nt+pt],X=Math.floor(G/j),k[nt+pt]=G-X*j,k[nt+pt+1]+=X}return v(k),k}function tt(I,N){var W=I.length,d=new Array(W),w=n,k=0,j,G;for(G=0;G<W;G++)j=I[G]*N+k,k=Math.floor(j/w),d[G]=j-k*w;for(;k>0;)d[G++]=k%w,k=Math.floor(k/w);return d}function Q(I,N){for(var W=[];N-- >0;)W.push(0);return W.concat(I)}function st(I,N){var W=Math.max(I.length,N.length);if(W<=30)return J(I,N);W=Math.ceil(W/2);var d=I.slice(W),w=I.slice(0,W),k=N.slice(W),j=N.slice(0,W),G=st(w,j),X=st(d,k),nt=st(C(w,d),C(j,k)),ct=C(C(G,Q(F(F(nt,G),X),W)),Q(X,2*W));return v(ct),ct}function m(I,N){return-.012*I-.012*N+15e-6*I*N>0}u.prototype.multiply=function(I){var N=bt(I),W=this.value,d=N.value,w=this.sign!==N.sign,k;if(N.isSmall){if(d===0)return f[0];if(d===1)return this;if(d===-1)return this.negate();if(k=Math.abs(d),k<n)return new u(tt(W,k),w);d=p(k)}return m(W.length,d.length)?new u(st(W,d),w):new u(J(W,d),w)},u.prototype.times=u.prototype.multiply;function O(I,N,W){return I<n?new u(tt(N,I),W):new u(J(N,p(I)),W)}c.prototype._multiplyBySmall=function(I){return l(I.value*this.value)?new c(I.value*this.value):O(Math.abs(I.value),p(Math.abs(this.value)),this.sign!==I.sign)},u.prototype._multiplyBySmall=function(I){return I.value===0?f[0]:I.value===1?this:I.value===-1?this.negate():O(Math.abs(I.value),this.value,this.sign!==I.sign)},c.prototype.multiply=function(I){return bt(I)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply;function h(I){var N=I.length,W=A(N+N),d=n,w,k,j,G,X;for(j=0;j<N;j++){G=I[j],k=0-G*G;for(var nt=j;nt<N;nt++)X=I[nt],w=2*(G*X)+W[j+nt]+k,k=Math.floor(w/d),W[j+nt]=w-k*d;W[j+N]=k}return v(W),W}u.prototype.square=function(){return new u(h(this.value),!1)},c.prototype.square=function(){var I=this.value*this.value;return l(I)?new c(I):new u(h(p(Math.abs(this.value))),!1)};function g(I,N){var W=I.length,d=N.length,w=n,k=A(N.length),j=N[d-1],G=Math.ceil(w/(2*j)),X=tt(I,G),nt=tt(N,G),ct,ft,pt,mt,ht,zt,te;for(X.length<=W&&X.push(0),nt.push(0),j=nt[d-1],ft=W-d;ft>=0;ft--){for(ct=w-1,X[ft+d]!==j&&(ct=Math.floor((X[ft+d]*w+X[ft+d-1])/j)),pt=0,mt=0,zt=nt.length,ht=0;ht<zt;ht++)pt+=ct*nt[ht],te=Math.floor(pt/w),mt+=X[ft+ht]-(pt-te*w),pt=te,mt<0?(X[ft+ht]=mt+w,mt=-1):(X[ft+ht]=mt,mt=0);for(;mt!==0;){for(ct-=1,pt=0,ht=0;ht<zt;ht++)pt+=X[ft+ht]-w+nt[ht],pt<0?(X[ft+ht]=pt+w,pt=0):(X[ft+ht]=pt,pt=1);mt+=pt}k[ft]=ct}return X=M(X,G)[0],[y(k),y(X)]}function _(I,N){for(var W=I.length,d=N.length,w=[],k=[],j=n,G,X,nt,ct,ft;W;){if(k.unshift(I[--W]),v(k),x(k,N)<0){w.push(0);continue}X=k.length,nt=k[X-1]*j+k[X-2],ct=N[d-1]*j+N[d-2],X>d&&(nt=(nt+1)*j),G=Math.ceil(nt/ct);do{if(ft=tt(N,G),x(ft,k)<=0)break;G--}while(G);w.push(G),k=F(k,ft)}return w.reverse(),[y(w),y(k)]}function M(I,N){var W=I.length,d=A(W),w=n,k,j,G,X;for(G=0,k=W-1;k>=0;--k)X=G*w+I[k],j=T(X/N),G=X-j*N,d[k]=j|0;return[d,G|0]}function R(I,N){var W,d=bt(N),w=I.value,k=d.value,j;if(k===0)throw new Error("Cannot divide by zero");if(I.isSmall)return d.isSmall?[new c(T(w/k)),new c(w%k)]:[f[0],I];if(d.isSmall){if(k===1)return[I,f[0]];if(k==-1)return[I.negate(),f[0]];var G=Math.abs(k);if(G<n){W=M(w,G),j=y(W[0]);var X=W[1];return I.sign&&(X=-X),typeof j=="number"?(I.sign!==d.sign&&(j=-j),[new c(j),new c(X)]):[new u(j,I.sign!==d.sign),new c(X)]}k=p(G)}var nt=x(w,k);if(nt===-1)return[f[0],I];if(nt===0)return[f[I.sign===d.sign?1:-1],f[0]];w.length+k.length<=200?W=g(w,k):W=_(w,k),j=W[0];var ct=I.sign!==d.sign,ft=W[1],pt=I.sign;return typeof j=="number"?(ct&&(j=-j),j=new c(j)):j=new u(j,ct),typeof ft=="number"?(pt&&(ft=-ft),ft=new c(ft)):ft=new u(ft,pt),[j,ft]}u.prototype.divmod=function(I){var N=R(this,I);return{quotient:N[0],remainder:N[1]}},c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(I){return R(this,I)[0]},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(I){return R(this,I)[1]},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(I){var N=bt(I),W=this.value,d=N.value,w,k,j;if(d===0)return f[1];if(W===0)return f[0];if(W===1)return f[1];if(W===-1)return N.isEven()?f[1]:f[-1];if(N.sign)return f[0];if(!N.isSmall)throw new Error("The exponent "+N.toString()+" is too large.");if(this.isSmall&&l(w=Math.pow(W,d)))return new c(T(w));for(k=this,j=f[1];d&!0&&(j=j.times(k),--d),d!==0;)d/=2,k=k.square();return j},c.prototype.pow=u.prototype.pow,u.prototype.modPow=function(I,N){if(I=bt(I),N=bt(N),N.isZero())throw new Error("Cannot take modPow with modulus 0");for(var W=f[1],d=this.mod(N);I.isPositive();){if(d.isZero())return f[0];I.isOdd()&&(W=W.multiply(d).mod(N)),I=I.divide(2),d=d.square().mod(N)}return W},c.prototype.modPow=u.prototype.modPow;function x(I,N){if(I.length!==N.length)return I.length>N.length?1:-1;for(var W=I.length-1;W>=0;W--)if(I[W]!==N[W])return I[W]>N[W]?1:-1;return 0}u.prototype.compareAbs=function(I){var N=bt(I),W=this.value,d=N.value;return N.isSmall?1:x(W,d)},c.prototype.compareAbs=function(I){var N=bt(I),W=Math.abs(this.value),d=N.value;return N.isSmall?(d=Math.abs(d),W===d?0:W>d?1:-1):-1},u.prototype.compare=function(I){if(I===1/0)return-1;if(I===-1/0)return 1;var N=bt(I),W=this.value,d=N.value;return this.sign!==N.sign?N.sign?1:-1:N.isSmall?this.sign?-1:1:x(W,d)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(I){if(I===1/0)return-1;if(I===-1/0)return 1;var N=bt(I),W=this.value,d=N.value;return N.isSmall?W==d?0:W>d?1:-1:W<0!==N.sign?W<0?-1:1:W<0?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(I){return this.compare(I)===0},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(I){return this.compare(I)!==0},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(I){return this.compare(I)>0},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(I){return this.compare(I)<0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(I){return this.compare(I)>=0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(I){return this.compare(I)<=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},u.prototype.isDivisibleBy=function(I){var N=bt(I),W=N.value;return W===0?!1:W===1?!0:W===2?this.isEven():this.mod(N).equals(f[0])},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function b(I){var N=I.abs();if(N.isUnit())return!1;if(N.equals(2)||N.equals(3)||N.equals(5))return!0;if(N.isEven()||N.isDivisibleBy(3)||N.isDivisibleBy(5))return!1;if(N.lesser(49))return!0}function E(I,N){for(var W=I.prev(),d=W,w=0,k,j,G;d.isEven();)d=d.divide(2),w++;t:for(j=0;j<N.length;j++)if(!I.lesser(N[j])&&(G=e(N[j]).modPow(d,I),!(G.equals(f[1])||G.equals(W)))){for(k=w-1;k!=0;k--){if(G=G.square().mod(I),G.isUnit())return!1;if(G.equals(W))continue t}return!1}return!0}u.prototype.isPrime=function(I){var N=b(this);if(N!==r)return N;var W=this.abs(),d=W.bitLength();if(d<=64)return E(W,[2,325,9375,28178,450775,9780504,1795265022]);for(var w=Math.log(2)*d,k=Math.ceil(I===!0?2*Math.pow(w,2):w),j=[],G=0;G<k;G++)j.push(e(G+2));return E(W,j)},c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(I){var N=b(this);if(N!==r)return N;for(var W=this.abs(),d=I===r?5:I,w=[],k=0;k<d;k++)w.push(e.randBetween(2,W.minus(2)));return E(W,w)},c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(I){for(var N=e.zero,W=e.one,d=bt(I),w=this.abs(),k,j,G;!w.equals(e.zero);)k=d.divide(w),j=N,G=d,N=W,d=w,W=j.subtract(k.multiply(W)),w=G.subtract(k.multiply(w));if(!d.equals(1))throw new Error(this.toString()+" and "+I.toString()+" are not co-prime");return N.compare(0)===-1&&(N=N.add(I)),this.isNegative()?N.negate():N},c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var I=this.value;return this.sign?U(I,1,this.sign):new u(D(I,1),this.sign)},c.prototype.next=function(){var I=this.value;return I+1<i?new c(I+1):new u(s,!1)},u.prototype.prev=function(){var I=this.value;return this.sign?new u(D(I,1),!0):U(I,1,this.sign)},c.prototype.prev=function(){var I=this.value;return I-1>-i?new c(I-1):new u(s,!0)};for(var S=[1];2*S[S.length-1]<=n;)S.push(2*S[S.length-1]);var B=S.length,$=S[B-1];function et(I){return(typeof I=="number"||typeof I=="string")&&+Math.abs(I)<=n||I instanceof u&&I.value.length<=1}u.prototype.shiftLeft=function(I){if(!et(I))throw new Error(String(I)+" is too large for shifting.");if(I=+I,I<0)return this.shiftRight(-I);var N=this;if(N.isZero())return N;for(;I>=B;)N=N.multiply($),I-=B-1;return N.multiply(S[I])},c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(I){var N;if(!et(I))throw new Error(String(I)+" is too large for shifting.");if(I=+I,I<0)return this.shiftLeft(-I);for(var W=this;I>=B;){if(W.isZero()||W.isNegative()&&W.isUnit())return W;N=R(W,$),W=N[1].isNegative()?N[0].prev():N[0],I-=B-1}return N=R(W,S[I]),N[1].isNegative()?N[0].prev():N[0]},c.prototype.shiftRight=u.prototype.shiftRight;function ot(I,N,W){N=bt(N);for(var d=I.isNegative(),w=N.isNegative(),k=d?I.not():I,j=w?N.not():N,G=0,X=0,nt=null,ct=null,ft=[];!k.isZero()||!j.isZero();)nt=R(k,$),G=nt[1].toJSNumber(),d&&(G=$-1-G),ct=R(j,$),X=ct[1].toJSNumber(),w&&(X=$-1-X),k=nt[0],j=ct[0],ft.push(W(G,X));for(var pt=W(d?1:0,w?1:0)!==0?e(-1):e(0),mt=ft.length-1;mt>=0;mt-=1)pt=pt.multiply($).add(e(ft[mt]));return pt}u.prototype.not=function(){return this.negate().prev()},c.prototype.not=u.prototype.not,u.prototype.and=function(I){return ot(this,I,function(N,W){return N&W})},c.prototype.and=u.prototype.and,u.prototype.or=function(I){return ot(this,I,function(N,W){return N|W})},c.prototype.or=u.prototype.or,u.prototype.xor=function(I){return ot(this,I,function(N,W){return N^W})},c.prototype.xor=u.prototype.xor;var Z=1<<30,q=(n&-n)*(n&-n)|Z;function L(I){var N=I.value,W=typeof N=="number"?N|Z:N[0]+N[1]*n|q;return W&-W}function Y(I,N){if(N.compareTo(I)<=0){var W=Y(I,N.square(N)),d=W.p,w=W.e,k=d.multiply(N);return k.compareTo(I)<=0?{p:k,e:w*2+1}:{p:d,e:w*2}}return{p:e(1),e:0}}u.prototype.bitLength=function(){var I=this;return I.compareTo(e(0))<0&&(I=I.negate().subtract(e(1))),I.compareTo(e(0))===0?e(0):e(Y(I,e(2)).e).add(e(1))},c.prototype.bitLength=u.prototype.bitLength;function rt(I,N){return I=bt(I),N=bt(N),I.greater(N)?I:N}function H(I,N){return I=bt(I),N=bt(N),I.lesser(N)?I:N}function K(I,N){if(I=bt(I).abs(),N=bt(N).abs(),I.equals(N))return I;if(I.isZero())return N;if(N.isZero())return I;for(var W=f[1],d,w;I.isEven()&&N.isEven();)d=Math.min(L(I),L(N)),I=I.divide(d),N=N.divide(d),W=W.multiply(d);for(;I.isEven();)I=I.divide(L(I));do{for(;N.isEven();)N=N.divide(L(N));I.greater(N)&&(w=N,N=I,I=w),N=N.subtract(I)}while(!N.isZero());return W.isUnit()?I:I.multiply(W)}function it(I,N){return I=bt(I).abs(),N=bt(N).abs(),I.divide(K(I,N)).multiply(N)}function at(I,N){I=bt(I),N=bt(N);var W=H(I,N),d=rt(I,N),w=d.subtract(W).add(1);if(w.isSmall)return W.add(Math.floor(Math.random()*w));for(var k=w.value.length-1,j=[],G=!0,X=k;X>=0;X--){var nt=G?w.value[X]:n,ct=T(Math.random()*nt);j.unshift(ct),ct<nt&&(G=!1)}return j=y(j),W.add(typeof j=="number"?new c(j):new u(j,!1))}var yt=function(I,N){for(var W=I.length,w,d=Math.abs(N),w=0;w<W;w++){var k=I[w].toLowerCase();if(k!=="-"&&/[a-z0-9]/.test(k)){if(/[0-9]/.test(k)&&+k>=d){if(k==="1"&&d===1)continue;throw new Error(k+" is not a valid digit in base "+N+".")}else if(k.charCodeAt(0)-87>=d)throw new Error(k+" is not a valid digit in base "+N+".")}}if(2<=N&&N<=36&&W<=a/Math.log(N)){var j=parseInt(I,N);if(isNaN(j))throw new Error(k+" is not a valid digit in base "+N+".");return new c(parseInt(I,N))}N=bt(N);var G=[],X=I[0]==="-";for(w=X?1:0;w<I.length;w++){var k=I[w].toLowerCase(),nt=k.charCodeAt(0);if(48<=nt&&nt<=57)G.push(bt(k));else if(97<=nt&&nt<=122)G.push(bt(k.charCodeAt(0)-87));else if(k==="<"){var ct=w;do w++;while(I[w]!==">");G.push(bt(I.slice(ct+1,w)))}else throw new Error(k+" is not a valid character")}return dt(G,N,X)};function dt(I,N,W){var d=f[0],w=f[1],k;for(k=I.length-1;k>=0;k--)d=d.add(I[k].times(w)),w=w.times(N);return W?d.negate():d}function lt(I){return I<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(I):"<"+I+">"}function At(I,N){if(N=e(N),N.isZero()){if(I.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(N.equals(-1)){if(I.isZero())return{value:[0],isNegative:!1};if(I.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-I)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var W=Array.apply(null,Array(+I-1)).map(Array.prototype.valueOf,[0,1]);return W.unshift([1]),{value:[].concat.apply([],W),isNegative:!1}}var d=!1;if(I.isNegative()&&N.isPositive()&&(d=!0,I=I.abs()),N.equals(1))return I.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+I)).map(Number.prototype.valueOf,1),isNegative:d};for(var w=[],k=I,j;k.isNegative()||k.compareAbs(N)>=0;){j=k.divmod(N),k=j.quotient;var G=j.remainder;G.isNegative()&&(G=N.minus(G).abs(),k=k.next()),w.push(G.toJSNumber())}return w.push(k.toJSNumber()),{value:w.reverse(),isNegative:d}}function ut(I,N){var W=At(I,N);return(W.isNegative?"-":"")+W.value.map(lt).join("")}u.prototype.toArray=function(I){return At(this,I)},c.prototype.toArray=function(I){return At(this,I)},u.prototype.toString=function(I){if(I===r&&(I=10),I!==10)return ut(this,I);for(var N=this.value,W=N.length,d=String(N[--W]),w="0000000",k;--W>=0;)k=String(N[W]),d+=w.slice(k.length)+k;var j=this.sign?"-":"";return j+d},c.prototype.toString=function(I){return I===r&&(I=10),I!=10?ut(this,I):String(this.value)},u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf;function _t(I){if(l(+I)){var N=+I;if(N===T(N))return new c(N);throw new Error("Invalid integer: "+I)}var W=I[0]==="-";W&&(I=I.slice(1));var d=I.split(/e/i);if(d.length>2)throw new Error("Invalid integer: "+d.join("e"));if(d.length===2){var w=d[1];if(w[0]==="+"&&(w=w.slice(1)),w=+w,w!==T(w)||!l(w))throw new Error("Invalid integer: "+w+" is not a valid exponent.");var k=d[0],j=k.indexOf(".");if(j>=0&&(w-=k.length-j-1,k=k.slice(0,j)+k.slice(j+1)),w<0)throw new Error("Cannot include negative exponent part for integers");k+=new Array(w+1).join("0"),I=k}var G=/^([0-9][0-9]*)$/.test(I);if(!G)throw new Error("Invalid integer: "+I);for(var X=[],nt=I.length,ct=o,ft=nt-ct;nt>0;)X.push(+I.slice(ft,nt)),ft-=ct,ft<0&&(ft=0),nt-=ct;return v(X),new u(X,W)}function It(I){if(l(I)){if(I!==T(I))throw new Error(I+" is not an integer.");return new c(I)}return _t(I.toString())}function bt(I){return typeof I=="number"?It(I):typeof I=="string"?_t(I):I}for(var wt=0;wt<1e3;wt++)f[wt]=new c(wt),wt>0&&(f[-wt]=new c(-wt));return f.one=f[1],f.zero=f[0],f.minusOne=f[-1],f.max=rt,f.min=H,f.gcd=K,f.lcm=it,f.isInstance=function(I){return I instanceof u||I instanceof c},f.randBetween=at,f.fromArray=function(I,N,W){return dt(I.map(bt),bt(N||10),W)},f}();t.hasOwnProperty("exports")&&(t.exports=e)})(H3);var W7=H3.exports,Lb=t0.validate,V7=function(t,e,r,n){for(var o=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),i=(1<<r)-1,s=new Uint8Array(o),a=0,f=0,u=0,c=0;c<t.length;++c){var l=t[c];for(Lb(0<=l&&l>>e===0,"Invalid value: "+l+"."),f=f<<e|l,u+=e;u>=r;)u-=r,s[a]=f>>u&i,++a}return n?Lb(u<e&&(f<<r-u&i)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):u>0&&(s[a]=f<<r-u&i,++a),s};/**
 * @license
 * https://github.com/ealmansi/cashaddrjs
 * Copyright (c) 2017-2020 Emilio Almansi
 * Distributed under the MIT software license, see the accompanying
 * file LICENSE or http://www.opensource.org/licenses/mit-license.php.
 */var j3=G7,z7=W7,L3=V7,D3=t0,so=D3.validate;function $7(t,e,r){so(typeof t=="string"&&Z7(t),"Invalid prefix: "+t+"."),so(typeof e=="string","Invalid type: "+e+"."),so(r instanceof Uint8Array,"Invalid hash: "+r+".");var n=Qi(K3(t),new Uint8Array(1)),o=Q7(e)+e9(r),i=n9(Qi(new Uint8Array([o]),r)),s=Qi(Qi(n,i),new Uint8Array(8)),a=Qi(i,J7(q3(s)));return t+":"+j3.encode(a)}function X7(t){so(typeof t=="string"&&F3(t),"Invalid address: "+t+".");var e=t.toLowerCase().split(":");so(e.length===2,"Missing prefix: "+t+".");var r=e[0],n=j3.decode(e[1]);so(o9(r,n),"Invalid checksum: "+t+".");var o=i9(n.subarray(0,-8)),i=o[0],s=o.subarray(1);so(r9(i)===s.length*8,"Invalid hash size: "+t+".");var a=t9(i);return{prefix:r,type:a,hash:s}}var hc=D3.ValidationError,Y7=["bitcoincash","bchtest","bchreg"];function Z7(t){return F3(t)&&Y7.indexOf(t.toLowerCase())!==-1}function K3(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function J7(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function Q7(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new hc("Invalid type: "+t+".")}}function t9(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new hc("Invalid address type in version byte: "+t+".")}}function e9(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new hc("Invalid hash size: "+t.length+".")}}function r9(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function n9(t){return L3(t,8,5)}function i9(t){return L3(t,5,8,!0)}function Qi(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function q3(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=z7(1),n=0;n<t.length;++n){var o=t[n],i=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(o);for(var s=0;s<e.length;++s)i.shiftRight(s).and(1).equals(1)&&(r=r.xor(e[s]))}return r.xor(1)}function o9(t,e){var r=Qi(K3(t),new Uint8Array(1)),n=Qi(r,e);return q3(n).equals(0)}function F3(t){return t===t.toLowerCase()||t===t.toUpperCase()}var s9={encode:$7,decode:X7,ValidationError:hc};const G3=ac(s9);var W3=(t=>(t.Mainnet="mainnet",t.Testnet="testnet",t))(W3||{});const Ji={legacy:{mainnet:{p2pkh:0,p2sh:5},testnet:{p2pkh:111,p2sh:196}},bitpay:{mainnet:{p2pkh:28,p2sh:40},testnet:{p2pkh:111,p2sh:196}}};class _s extends Error{constructor(){super("Received an invalid Bitcoin Cash address as input."),this.stack=new Error().stack}}function a9(t){try{return lc(t),!0}catch{return!1}}function u9(t){var e;return(e=lc(t))==null?void 0:e.network}function vf(t){const e=lc(t);return e?.format==="legacy"?t:h9(e)}function e0(t){const e=lc(t);return l9(e)}function lc(t){try{return f9(t)}catch{}try{return c9(t)}catch{}throw new _s}function f9(t){try{const e=C3.decode(t);if(e.length!==21)throw new _s;const r=e[0],n=Array.prototype.slice.call(e,1);switch(r){case Ji.legacy.mainnet.p2pkh:return{hash:n,format:"legacy",network:"mainnet",type:"p2pkh"};case Ji.legacy.mainnet.p2sh:return{hash:n,format:"legacy",network:"mainnet",type:"p2sh"};case Ji.legacy.testnet.p2pkh:return{hash:n,format:"legacy",network:"testnet",type:"p2pkh"};case Ji.legacy.testnet.p2sh:return{hash:n,format:"legacy",network:"testnet",type:"p2sh"};case Ji.bitpay.mainnet.p2pkh:return{hash:n,format:"bitpay",network:"mainnet",type:"p2pkh"};case Ji.bitpay.mainnet.p2sh:return{hash:n,format:"bitpay",network:"mainnet",type:"p2sh"};default:throw new _s}}catch{throw new _s}}function c9(t){if(t.indexOf(":")!==-1)try{return Db(t)}catch{}else{const e=["bitcoincash","bchtest","bchreg"];for(const r of e)try{return Db(r+":"+t)}catch{}}throw new _s}function Db(t){try{const{hash:e,prefix:r,type:n}=G3.decode(t);return{format:"cashaddr",hash:Array.prototype.slice.call(e,0),network:r==="bitcoincash"?"mainnet":"testnet",type:n==="P2PKH"?"p2pkh":"p2sh"}}catch{throw new _s}}function h9(t){const e=Ji.legacy[t.network][t.type],r=z.Buffer.alloc(1+t.hash.length);return r[0]=e,r.set(t.hash,1),C3.encode(r)}function l9(t){const e=t.network==="mainnet"?"bitcoincash":"bchtest",r=t.type==="p2pkh"?"P2PKH":"P2SH",n=new Uint8Array(t.hash);return G3.encode(e,r,n)}var kr={},Ws={},Vs={},pc={},Qp={exports:{}};typeof Object.create=="function"?Qp.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Qp.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Lt=Qp.exports,td={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=gn,n=r.Buffer;function o(s,a){for(var f in s)a[f]=s[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=i);function i(s,a,f){return n(s,a,f)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(s,a,f){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,f)},i.alloc=function(s,a,f){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return a!==void 0?typeof f=="string"?u.fill(a,f):u.fill(a):u.fill(0),u},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(td,td.exports);var St=td.exports,ed={exports:{}},r0={exports:{}},Ss=typeof Reflect=="object"?Reflect:null,Kb=Ss&&typeof Ss.apply=="function"?Ss.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},Ju;Ss&&typeof Ss.ownKeys=="function"?Ju=Ss.ownKeys:Object.getOwnPropertySymbols?Ju=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ju=function(t){return Object.getOwnPropertyNames(t)};function p9(t){console&&console.warn&&console.warn(t)}var V3=Number.isNaN||function(t){return t!==t};function Qt(){Qt.init.call(this)}r0.exports=Qt;r0.exports.once=g9;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var qb=10;function dc(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return qb},set:function(t){if(typeof t!="number"||t<0||V3(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");qb=t}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||V3(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function z3(t){return t._maxListeners===void 0?Qt.defaultMaxListeners:t._maxListeners}Qt.prototype.getMaxListeners=function(){return z3(this)};Qt.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[t];if(a===void 0)return!1;if(typeof a=="function")Kb(a,this,e);else for(var f=a.length,u=J3(a,f),r=0;r<f;++r)Kb(u[r],this,e);return!0};function $3(t,e,r,n){var o,i,s;if(dc(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),s===void 0)s=i[e]=r,++t._eventsCount;else if(typeof s=="function"?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),o=z3(t),o>0&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,p9(a)}return t}Qt.prototype.addListener=function(t,e){return $3(this,t,e,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(t,e){return $3(this,t,e,!0)};function d9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function X3(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=d9.bind(n);return o.listener=r,n.wrapFn=o,o}Qt.prototype.once=function(t,e){return dc(e),this.on(t,X3(this,t,e)),this};Qt.prototype.prependOnceListener=function(t,e){return dc(e),this.prependListener(t,X3(this,t,e)),this};Qt.prototype.removeListener=function(t,e){var r,n,o,i,s;if(dc(e),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(o<0)return this;o===0?r.shift():b9(r,o),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,s||e)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(t){var e,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),i;for(n=0;n<o.length;++n)i=o[n],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function Y3(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?y9(o):J3(o,o.length)}Qt.prototype.listeners=function(t){return Y3(this,t,!0)};Qt.prototype.rawListeners=function(t){return Y3(this,t,!1)};Qt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Z3.call(t,e)};Qt.prototype.listenerCount=Z3;function Z3(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?Ju(this._events):[]};function J3(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function b9(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function y9(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function g9(t,e){return new Promise(function(r,n){function o(s){t.removeListener(e,i),n(s)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}Q3(t,e,i,{once:!0}),e!=="error"&&m9(t,o,{once:!0})})}function m9(t,e,r){typeof t.on=="function"&&Q3(t,"error",e,r)}function Q3(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(i){n.once&&t.removeEventListener(e,o),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var t6=r0.exports,e6=t6.EventEmitter,mi={},r6={},n0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,e);if(i.value!==n||i.enumerable!==!0)return!1}return!0},v9=n0,bc=function(){return v9()&&!!Symbol.toStringTag},Fb=typeof Symbol<"u"&&Symbol,w9=n0,n6=function(){return typeof Fb!="function"||typeof Symbol!="function"||typeof Fb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:w9()},Gb={foo:{}},_9=Object,i6=function(){return{__proto__:Gb}.foo===Gb.foo&&!({__proto__:null}instanceof _9)},S9="Function.prototype.bind called on incompatible ",E9=Object.prototype.toString,A9=Math.max,k9="[object Function]",Wb=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r},I9=function(t,e){for(var r=[],n=e||0,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r},T9=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},O9=function(t){var e=this;if(typeof e!="function"||E9.apply(e)!==k9)throw new TypeError(S9+e);for(var r=I9(arguments,1),n,o=function(){if(this instanceof n){var u=e.apply(this,Wb(r,arguments));return Object(u)===u?u:this}return e.apply(t,Wb(r,arguments))},i=A9(0,e.length-r.length),s=[],a=0;a<i;a++)s[a]="$"+a;if(n=Function("binder","return function ("+T9(s,",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n},B9=O9,i0=Function.prototype.bind||B9,M9=Function.prototype.call,P9=Object.prototype.hasOwnProperty,x9=i0,N9=x9.call(M9,P9),qt,Ms=SyntaxError,o6=Function,Es=TypeError,Ch=function(t){try{return o6('"use strict"; return ('+t+").constructor;")()}catch{}},yo=Object.getOwnPropertyDescriptor;if(yo)try{yo({},"")}catch{yo=null}var Hh=function(){throw new Es},R9=yo?function(){try{return arguments.callee,Hh}catch{try{return yo(arguments,"callee").get}catch{return Hh}}}():Hh,Qo=n6(),U9=i6(),Ue=Object.getPrototypeOf||(U9?function(t){return t.__proto__}:null),as={},C9=typeof Uint8Array>"u"||!Ue?qt:Ue(Uint8Array),go={"%AggregateError%":typeof AggregateError>"u"?qt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?qt:ArrayBuffer,"%ArrayIteratorPrototype%":Qo&&Ue?Ue([][Symbol.iterator]()):qt,"%AsyncFromSyncIteratorPrototype%":qt,"%AsyncFunction%":as,"%AsyncGenerator%":as,"%AsyncGeneratorFunction%":as,"%AsyncIteratorPrototype%":as,"%Atomics%":typeof Atomics>"u"?qt:Atomics,"%BigInt%":typeof BigInt>"u"?qt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?qt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?qt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?qt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?qt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?qt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?qt:FinalizationRegistry,"%Function%":o6,"%GeneratorFunction%":as,"%Int8Array%":typeof Int8Array>"u"?qt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?qt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?qt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Qo&&Ue?Ue(Ue([][Symbol.iterator]())):qt,"%JSON%":typeof JSON=="object"?JSON:qt,"%Map%":typeof Map>"u"?qt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Qo||!Ue?qt:Ue(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?qt:Promise,"%Proxy%":typeof Proxy>"u"?qt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?qt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?qt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Qo||!Ue?qt:Ue(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?qt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Qo&&Ue?Ue(""[Symbol.iterator]()):qt,"%Symbol%":Qo?Symbol:qt,"%SyntaxError%":Ms,"%ThrowTypeError%":R9,"%TypedArray%":C9,"%TypeError%":Es,"%Uint8Array%":typeof Uint8Array>"u"?qt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?qt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?qt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?qt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?qt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?qt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?qt:WeakSet};if(Ue)try{null.error}catch(t){var H9=Ue(Ue(t));go["%Error.prototype%"]=H9}var j9=function t(e){var r;if(e==="%AsyncFunction%")r=Ch("async function () {}");else if(e==="%GeneratorFunction%")r=Ch("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ch("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Ue&&(r=Ue(o.prototype))}return go[e]=r,r},Vb={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},eu=i0,wf=N9,L9=eu.call(Function.call,Array.prototype.concat),D9=eu.call(Function.apply,Array.prototype.splice),zb=eu.call(Function.call,String.prototype.replace),_f=eu.call(Function.call,String.prototype.slice),K9=eu.call(Function.call,RegExp.prototype.exec),q9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F9=/\\(\\)?/g,G9=function(t){var e=_f(t,0,1),r=_f(t,-1);if(e==="%"&&r!=="%")throw new Ms("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new Ms("invalid intrinsic syntax, expected opening `%`");var n=[];return zb(t,q9,function(o,i,s,a){n[n.length]=s?zb(a,F9,"$1"):i||o}),n},W9=function(t,e){var r=t,n;if(wf(Vb,r)&&(n=Vb[r],r="%"+n[0]+"%"),wf(go,r)){var o=go[r];if(o===as&&(o=j9(r)),typeof o>"u"&&!e)throw new Es("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new Ms("intrinsic "+t+" does not exist!")},ru=function(t,e){if(typeof t!="string"||t.length===0)throw new Es("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Es('"allowMissing" argument must be a boolean');if(K9(/^%?[^%]*%?$/,t)===null)throw new Ms("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=G9(t),n=r.length>0?r[0]:"",o=W9("%"+n+"%",e),i=o.name,s=o.value,a=!1,f=o.alias;f&&(n=f[0],D9(r,L9([0,1],f)));for(var u=1,c=!0;u<r.length;u+=1){var l=r[u],p=_f(l,0,1),y=_f(l,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new Ms("property names with quotes must have matching quotes");if((l==="constructor"||!c)&&(a=!0),n+="."+l,i="%"+n+"%",wf(go,i))s=go[i];else if(s!=null){if(!(l in s)){if(!e)throw new Es("base intrinsic for "+t+" exists, but the property is not available.");return}if(yo&&u+1>=r.length){var v=yo(s,l);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[l]}else c=wf(s,l),s=s[l];c&&!a&&(go[i]=s)}}return s},s6={exports:{}},V9=ru,rd=V9("%Object.defineProperty%",!0),nd=function(){if(rd)try{return rd({},"a",{value:1}),!0}catch{return!1}return!1};nd.hasArrayLengthDefineBug=function(){if(!nd())return null;try{return rd([],"length",{value:1}).length!==1}catch{return!0}};var o0=nd,z9="Function.prototype.bind called on incompatible ",jh=Array.prototype.slice,$9=Object.prototype.toString,X9="[object Function]",Y9=function(t){var e=this;if(typeof e!="function"||$9.call(e)!==X9)throw new TypeError(z9+e);for(var r=jh.call(arguments,1),n,o=function(){if(this instanceof n){var u=e.apply(this,r.concat(jh.call(arguments)));return Object(u)===u?u:this}else return e.apply(t,r.concat(jh.call(arguments)))},i=Math.max(0,e.length-r.length),s=[],a=0;a<i;a++)s.push("$"+a);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var f=function(){};f.prototype=e.prototype,n.prototype=new f,f.prototype=null}return n},Z9=Y9,s0=Function.prototype.bind||Z9,J9=s0,Q9=J9.call(Function.call,Object.prototype.hasOwnProperty),Ft,Ps=SyntaxError,a6=Function,As=TypeError,Lh=function(t){try{return a6('"use strict"; return ('+t+").constructor;")()}catch{}},mo=Object.getOwnPropertyDescriptor;if(mo)try{mo({},"")}catch{mo=null}var Dh=function(){throw new As},t_=mo?function(){try{return arguments.callee,Dh}catch{try{return mo(arguments,"callee").get}catch{return Dh}}}():Dh,ts=n6(),e_=i6(),Ce=Object.getPrototypeOf||(e_?function(t){return t.__proto__}:null),us={},r_=typeof Uint8Array>"u"||!Ce?Ft:Ce(Uint8Array),vo={"%AggregateError%":typeof AggregateError>"u"?Ft:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ft:ArrayBuffer,"%ArrayIteratorPrototype%":ts&&Ce?Ce([][Symbol.iterator]()):Ft,"%AsyncFromSyncIteratorPrototype%":Ft,"%AsyncFunction%":us,"%AsyncGenerator%":us,"%AsyncGeneratorFunction%":us,"%AsyncIteratorPrototype%":us,"%Atomics%":typeof Atomics>"u"?Ft:Atomics,"%BigInt%":typeof BigInt>"u"?Ft:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ft:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ft:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ft:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ft:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ft:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ft:FinalizationRegistry,"%Function%":a6,"%GeneratorFunction%":us,"%Int8Array%":typeof Int8Array>"u"?Ft:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ft:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ft:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ts&&Ce?Ce(Ce([][Symbol.iterator]())):Ft,"%JSON%":typeof JSON=="object"?JSON:Ft,"%Map%":typeof Map>"u"?Ft:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ts||!Ce?Ft:Ce(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ft:Promise,"%Proxy%":typeof Proxy>"u"?Ft:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ft:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ft:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ts||!Ce?Ft:Ce(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ft:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ts&&Ce?Ce(""[Symbol.iterator]()):Ft,"%Symbol%":ts?Symbol:Ft,"%SyntaxError%":Ps,"%ThrowTypeError%":t_,"%TypedArray%":r_,"%TypeError%":As,"%Uint8Array%":typeof Uint8Array>"u"?Ft:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ft:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ft:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ft:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ft:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ft:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ft:WeakSet};if(Ce)try{null.error}catch(t){var n_=Ce(Ce(t));vo["%Error.prototype%"]=n_}var i_=function t(e){var r;if(e==="%AsyncFunction%")r=Lh("async function () {}");else if(e==="%GeneratorFunction%")r=Lh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Lh("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Ce&&(r=Ce(o.prototype))}return vo[e]=r,r},$b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},nu=s0,Sf=Q9,o_=nu.call(Function.call,Array.prototype.concat),s_=nu.call(Function.apply,Array.prototype.splice),Xb=nu.call(Function.call,String.prototype.replace),Ef=nu.call(Function.call,String.prototype.slice),a_=nu.call(Function.call,RegExp.prototype.exec),u_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,f_=/\\(\\)?/g,c_=function(t){var e=Ef(t,0,1),r=Ef(t,-1);if(e==="%"&&r!=="%")throw new Ps("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new Ps("invalid intrinsic syntax, expected opening `%`");var n=[];return Xb(t,u_,function(o,i,s,a){n[n.length]=s?Xb(a,f_,"$1"):i||o}),n},h_=function(t,e){var r=t,n;if(Sf($b,r)&&(n=$b[r],r="%"+n[0]+"%"),Sf(vo,r)){var o=vo[r];if(o===us&&(o=i_(r)),typeof o>"u"&&!e)throw new As("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new Ps("intrinsic "+t+" does not exist!")},a0=function(t,e){if(typeof t!="string"||t.length===0)throw new As("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new As('"allowMissing" argument must be a boolean');if(a_(/^%?[^%]*%?$/,t)===null)throw new Ps("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=c_(t),n=r.length>0?r[0]:"",o=h_("%"+n+"%",e),i=o.name,s=o.value,a=!1,f=o.alias;f&&(n=f[0],s_(r,o_([0,1],f)));for(var u=1,c=!0;u<r.length;u+=1){var l=r[u],p=Ef(l,0,1),y=Ef(l,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new Ps("property names with quotes must have matching quotes");if((l==="constructor"||!c)&&(a=!0),n+="."+l,i="%"+n+"%",Sf(vo,i))s=vo[i];else if(s!=null){if(!(l in s)){if(!e)throw new As("base intrinsic for "+t+" exists, but the property is not available.");return}if(mo&&u+1>=r.length){var v=mo(s,l);c=!!v,c&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[l]}else c=Sf(s,l),s=s[l];c&&!a&&(vo[i]=s)}}return s},l_=a0,Qu=l_("%Object.getOwnPropertyDescriptor%",!0);if(Qu)try{Qu([],"length")}catch{Qu=null}var yc=Qu,p_=o0(),u0=ru,Ra=p_&&u0("%Object.defineProperty%",!0);if(Ra)try{Ra({},"a",{value:1})}catch{Ra=!1}var d_=u0("%SyntaxError%"),es=u0("%TypeError%"),Yb=yc,u6=function(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new es("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new es("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new es("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new es("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new es("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new es("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,a=!!Yb&&Yb(t,e);if(Ra)Ra(t,e,{configurable:i===null&&a?a.configurable:!i,enumerable:n===null&&a?a.enumerable:!n,value:r,writable:o===null&&a?a.writable:!o});else if(s||!n&&!o&&!i)t[e]=r;else throw new d_("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},f6=ru,Zb=u6,b_=o0(),Jb=yc,Qb=f6("%TypeError%"),y_=f6("%Math.floor%"),g_=function(t,e){if(typeof t!="function")throw new Qb("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||y_(e)!==e)throw new Qb("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,o=!0;if("length"in t&&Jb){var i=Jb(t,"length");i&&!i.configurable&&(n=!1),i&&!i.writable&&(o=!1)}return(n||o||!r)&&(b_?Zb(t,"length",e,!0,!0):Zb(t,"length",e)),t};(function(t){var e=i0,r=ru,n=g_,o=r("%TypeError%"),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,i),f=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}t.exports=function(l){if(typeof l!="function")throw new o("a function is required");var p=a(e,s,arguments);return n(p,1+u(0,l.length-(arguments.length-1)),!0)};var c=function(){return a(e,i,arguments)};f?f(t.exports,"apply",{value:c}):t.exports.apply=c})(s6);var gc=s6.exports,c6=ru,h6=gc,m_=h6(c6("String.prototype.indexOf")),mc=function(t,e){var r=c6(t,!!e);return typeof r=="function"&&m_(t,".prototype.")>-1?h6(r):r},v_=bc(),w_=mc,id=w_("Object.prototype.toString"),vc=function(t){return v_&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:id(t)==="[object Arguments]"},l6=function(t){return vc(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&id(t)!=="[object Array]"&&id(t.callee)==="[object Function]"},__=function(){return vc(arguments)}();vc.isLegacyArguments=l6;var S_=__?vc:l6,E_=Object.prototype.toString,A_=Function.prototype.toString,k_=/^\s*(?:function)?\*/,p6=bc(),Kh=Object.getPrototypeOf,I_=function(){if(!p6)return!1;try{return Function("return function*() {}")()}catch{}},qh,T_=function(t){if(typeof t!="function")return!1;if(k_.test(A_.call(t)))return!0;if(!p6){var e=E_.call(t);return e==="[object GeneratorFunction]"}if(!Kh)return!1;if(typeof qh>"u"){var r=I_();qh=r?Kh(r):!1}return Kh(t)===qh},d6=Function.prototype.toString,ys=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,od,tf;if(typeof ys=="function"&&typeof Object.defineProperty=="function")try{od=Object.defineProperty({},"length",{get:function(){throw tf}}),tf={},ys(function(){throw 42},null,od)}catch(t){t!==tf&&(ys=null)}else ys=null;var O_=/^\s*class\b/,sd=function(t){try{var e=d6.call(t);return O_.test(e)}catch{return!1}},Fh=function(t){try{return sd(t)?!1:(d6.call(t),!0)}catch{return!1}},ef=Object.prototype.toString,B_="[object Object]",M_="[object Function]",P_="[object GeneratorFunction]",x_="[object HTMLAllCollection]",N_="[object HTML document.all class]",R_="[object HTMLCollection]",U_=typeof Symbol=="function"&&!!Symbol.toStringTag,C_=!(0 in[,]),ad=function(){return!1};if(typeof document=="object"){var H_=document.all;ef.call(H_)===ef.call(document.all)&&(ad=function(t){if((C_||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=ef.call(t);return(e===x_||e===N_||e===R_||e===B_)&&t("")==null}catch{}return!1})}var j_=ys?function(t){if(ad(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{ys(t,null,od)}catch(e){if(e!==tf)return!1}return!sd(t)&&Fh(t)}:function(t){if(ad(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(U_)return Fh(t);if(sd(t))return!1;var e=ef.call(t);return e!==M_&&e!==P_&&!/^\[object HTML/.test(e)?!1:Fh(t)},L_=j_,D_=Object.prototype.toString,b6=Object.prototype.hasOwnProperty,K_=function(t,e,r){for(var n=0,o=t.length;n<o;n++)b6.call(t,n)&&(r==null?e(t[n],n,t):e.call(r,t[n],n,t))},q_=function(t,e,r){for(var n=0,o=t.length;n<o;n++)r==null?e(t.charAt(n),n,t):e.call(r,t.charAt(n),n,t)},F_=function(t,e,r){for(var n in t)b6.call(t,n)&&(r==null?e(t[n],n,t):e.call(r,t[n],n,t))},G_=function(t,e,r){if(!L_(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=r),D_.call(t)==="[object Array]"?K_(t,e,n):typeof t=="string"?q_(t,e,n):F_(t,e,n)},y6=G_,Gh=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],W_=typeof globalThis>"u"?Gt:globalThis,g6=function(){for(var t=[],e=0;e<Gh.length;e++)typeof W_[Gh[e]]=="function"&&(t[t.length]=Gh[e]);return t},Af=y6,V_=g6,ty=gc,f0=mc,rf=yc,z_=f0("Object.prototype.toString"),m6=bc(),ey=typeof globalThis>"u"?Gt:globalThis,ud=V_(),c0=f0("String.prototype.slice"),Wh=Object.getPrototypeOf,$_=f0("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},kf={__proto__:null};m6&&rf&&Wh?Af(ud,function(t){var e=new ey[t];if(Symbol.toStringTag in e){var r=Wh(e),n=rf(r,Symbol.toStringTag);if(!n){var o=Wh(r);n=rf(o,Symbol.toStringTag)}kf["$"+t]=ty(n.get)}}):Af(ud,function(t){var e=new ey[t],r=e.slice||e.set;r&&(kf["$"+t]=ty(r))});var X_=function(t){var e=!1;return Af(kf,function(r,n){if(!e)try{"$"+r(t)===n&&(e=c0(n,1))}catch{}}),e},Y_=function(t){var e=!1;return Af(kf,function(r,n){if(!e)try{r(t),e=c0(n,1)}catch{}}),e},Z_=function(t){if(!t||typeof t!="object")return!1;if(!m6){var e=c0(z_(t),8,-1);return $_(ud,e)>-1?e:e!=="Object"?!1:Y_(t)}return rf?X_(t):null},v6={exports:{}};(function(t){var e=s0,r=a0,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(c){var l=i(e,o,arguments);if(s&&a){var p=s(l,"length");p.configurable&&a(l,"length",{value:1+f(0,c.length-(arguments.length-1))})}return l};var u=function(){return i(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u})(v6);var w6=v6.exports,_6=a0,S6=w6,J_=S6(_6("String.prototype.indexOf")),Q_=function(t,e){var r=_6(t,!!e);return typeof r=="function"&&J_(t,".prototype.")>-1?S6(r):r},If=y6,tS=g6,ry=w6,h0=Q_,nf=yc,eS=h0("Object.prototype.toString"),E6=bc(),ny=typeof globalThis>"u"?Gt:globalThis,fd=tS(),l0=h0("String.prototype.slice"),Vh=Object.getPrototypeOf,rS=h0("Array.prototype.indexOf",!0)||function(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},Tf={__proto__:null};E6&&nf&&Vh?If(fd,function(t){var e=new ny[t];if(Symbol.toStringTag in e){var r=Vh(e),n=nf(r,Symbol.toStringTag);if(!n){var o=Vh(r);n=nf(o,Symbol.toStringTag)}Tf["$"+t]=ry(n.get)}}):If(fd,function(t){var e=new ny[t];Tf["$"+t]=ry(e.slice)});var nS=function(t){var e=!1;return If(Tf,function(r,n){if(!e)try{"$"+r(t)===n&&(e=l0(n,1))}catch{}}),e},iS=function(t){var e=!1;return If(Tf,function(r,n){if(!e)try{r(t),e=l0(n,1)}catch{}}),e},oS=function(t){if(!t||typeof t!="object")return!1;if(!E6){var e=l0(eS(t),8,-1);return rS(fd,e)>-1?e:e!=="Object"?!1:iS(t)}return nf?nS(t):null},sS=oS,aS=function(t){return!!sS(t)};(function(t){var e=S_,r=T_,n=Z_,o=aS;function i(ut){return ut.call.bind(ut)}var s=typeof BigInt<"u",a=typeof Symbol<"u",f=i(Object.prototype.toString),u=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),l=i(Boolean.prototype.valueOf);if(s)var p=i(BigInt.prototype.valueOf);if(a)var y=i(Symbol.prototype.valueOf);function v(ut,_t){if(typeof ut!="object")return!1;try{return _t(ut),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function A(ut){return typeof Promise<"u"&&ut instanceof Promise||ut!==null&&typeof ut=="object"&&typeof ut.then=="function"&&typeof ut.catch=="function"}t.isPromise=A;function T(ut){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ut):o(ut)||$(ut)}t.isArrayBufferView=T;function P(ut){return n(ut)==="Uint8Array"}t.isUint8Array=P;function C(ut){return n(ut)==="Uint8ClampedArray"}t.isUint8ClampedArray=C;function D(ut){return n(ut)==="Uint16Array"}t.isUint16Array=D;function F(ut){return n(ut)==="Uint32Array"}t.isUint32Array=F;function V(ut){return n(ut)==="Int8Array"}t.isInt8Array=V;function U(ut){return n(ut)==="Int16Array"}t.isInt16Array=U;function J(ut){return n(ut)==="Int32Array"}t.isInt32Array=J;function tt(ut){return n(ut)==="Float32Array"}t.isFloat32Array=tt;function Q(ut){return n(ut)==="Float64Array"}t.isFloat64Array=Q;function st(ut){return n(ut)==="BigInt64Array"}t.isBigInt64Array=st;function m(ut){return n(ut)==="BigUint64Array"}t.isBigUint64Array=m;function O(ut){return f(ut)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function h(ut){return typeof Map>"u"?!1:O.working?O(ut):ut instanceof Map}t.isMap=h;function g(ut){return f(ut)==="[object Set]"}g.working=typeof Set<"u"&&g(new Set);function _(ut){return typeof Set>"u"?!1:g.working?g(ut):ut instanceof Set}t.isSet=_;function M(ut){return f(ut)==="[object WeakMap]"}M.working=typeof WeakMap<"u"&&M(new WeakMap);function R(ut){return typeof WeakMap>"u"?!1:M.working?M(ut):ut instanceof WeakMap}t.isWeakMap=R;function x(ut){return f(ut)==="[object WeakSet]"}x.working=typeof WeakSet<"u"&&x(new WeakSet);function b(ut){return x(ut)}t.isWeakSet=b;function E(ut){return f(ut)==="[object ArrayBuffer]"}E.working=typeof ArrayBuffer<"u"&&E(new ArrayBuffer);function S(ut){return typeof ArrayBuffer>"u"?!1:E.working?E(ut):ut instanceof ArrayBuffer}t.isArrayBuffer=S;function B(ut){return f(ut)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function $(ut){return typeof DataView>"u"?!1:B.working?B(ut):ut instanceof DataView}t.isDataView=$;var et=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ot(ut){return f(ut)==="[object SharedArrayBuffer]"}function Z(ut){return typeof et>"u"?!1:(typeof ot.working>"u"&&(ot.working=ot(new et)),ot.working?ot(ut):ut instanceof et)}t.isSharedArrayBuffer=Z;function q(ut){return f(ut)==="[object AsyncFunction]"}t.isAsyncFunction=q;function L(ut){return f(ut)==="[object Map Iterator]"}t.isMapIterator=L;function Y(ut){return f(ut)==="[object Set Iterator]"}t.isSetIterator=Y;function rt(ut){return f(ut)==="[object Generator]"}t.isGeneratorObject=rt;function H(ut){return f(ut)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=H;function K(ut){return v(ut,u)}t.isNumberObject=K;function it(ut){return v(ut,c)}t.isStringObject=it;function at(ut){return v(ut,l)}t.isBooleanObject=at;function yt(ut){return s&&v(ut,p)}t.isBigIntObject=yt;function dt(ut){return a&&v(ut,y)}t.isSymbolObject=dt;function lt(ut){return K(ut)||it(ut)||at(ut)||yt(ut)||dt(ut)}t.isBoxedPrimitive=lt;function At(ut){return typeof Uint8Array<"u"&&(S(ut)||Z(ut))}t.isAnyArrayBuffer=At,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ut){Object.defineProperty(t,ut,{enumerable:!1,value:function(){throw new Error(ut+" is not supported in userland")}})})})(r6);var uS=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(B){for(var $=Object.keys(B),et={},ot=0;ot<$.length;ot++)et[$[ot]]=Object.getOwnPropertyDescriptor(B,$[ot]);return et},r=/%[sdj%]/g;t.format=function(B){if(!V(B)){for(var $=[],et=0;et<arguments.length;et++)$.push(s(arguments[et]));return $.join(" ")}for(var et=1,ot=arguments,Z=ot.length,q=String(B).replace(r,function(rt){if(rt==="%%")return"%";if(et>=Z)return rt;switch(rt){case"%s":return String(ot[et++]);case"%d":return Number(ot[et++]);case"%j":try{return JSON.stringify(ot[et++])}catch{return"[Circular]"}default:return rt}}),L=ot[et];et<Z;L=ot[++et])C(L)||!Q(L)?q+=" "+L:q+=" "+s(L);return q},t.deprecate=function(B,$){if(typeof z.process<"u"&&z.process.noDeprecation===!0)return B;if(typeof z.process>"u")return function(){return t.deprecate(B,$).apply(this,arguments)};var et=!1;function ot(){if(!et){if(z.process.throwDeprecation)throw new Error($);z.process.traceDeprecation?console.trace($):console.error($),et=!0}return B.apply(this,arguments)}return ot};var n={},o=/^$/;if(z.process.env.NODE_DEBUG){var i=z.process.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}t.debuglog=function(B){if(B=B.toUpperCase(),!n[B])if(o.test(B)){var $=z.process.pid;n[B]=function(){var et=t.format.apply(t,arguments);console.error("%s %d: %s",B,$,et)}}else n[B]=function(){};return n[B]};function s(B,$){var et={seen:[],stylize:f};return arguments.length>=3&&(et.depth=arguments[2]),arguments.length>=4&&(et.colors=arguments[3]),P($)?et.showHidden=$:$&&t._extend(et,$),J(et.showHidden)&&(et.showHidden=!1),J(et.depth)&&(et.depth=2),J(et.colors)&&(et.colors=!1),J(et.customInspect)&&(et.customInspect=!0),et.colors&&(et.stylize=a),c(et,B,et.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(B,$){var et=s.styles[$];return et?"\x1B["+s.colors[et][0]+"m"+B+"\x1B["+s.colors[et][1]+"m":B}function f(B,$){return B}function u(B){var $={};return B.forEach(function(et,ot){$[et]=!0}),$}function c(B,$,et){if(B.customInspect&&$&&O($.inspect)&&$.inspect!==t.inspect&&!($.constructor&&$.constructor.prototype===$)){var ot=$.inspect(et,B);return V(ot)||(ot=c(B,ot,et)),ot}var Z=l(B,$);if(Z)return Z;var q=Object.keys($),L=u(q);if(B.showHidden&&(q=Object.getOwnPropertyNames($)),m($)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return p($);if(q.length===0){if(O($)){var Y=$.name?": "+$.name:"";return B.stylize("[Function"+Y+"]","special")}if(tt($))return B.stylize(RegExp.prototype.toString.call($),"regexp");if(st($))return B.stylize(Date.prototype.toString.call($),"date");if(m($))return p($)}var rt="",H=!1,K=["{","}"];if(T($)&&(H=!0,K=["[","]"]),O($)){var it=$.name?": "+$.name:"";rt=" [Function"+it+"]"}if(tt($)&&(rt=" "+RegExp.prototype.toString.call($)),st($)&&(rt=" "+Date.prototype.toUTCString.call($)),m($)&&(rt=" "+p($)),q.length===0&&(!H||$.length==0))return K[0]+rt+K[1];if(et<0)return tt($)?B.stylize(RegExp.prototype.toString.call($),"regexp"):B.stylize("[Object]","special");B.seen.push($);var at;return H?at=y(B,$,et,L,q):at=q.map(function(yt){return v(B,$,et,L,yt,H)}),B.seen.pop(),A(at,rt,K)}function l(B,$){if(J($))return B.stylize("undefined","undefined");if(V($)){var et="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(et,"string")}if(F($))return B.stylize(""+$,"number");if(P($))return B.stylize(""+$,"boolean");if(C($))return B.stylize("null","null")}function p(B){return"["+Error.prototype.toString.call(B)+"]"}function y(B,$,et,ot,Z){for(var q=[],L=0,Y=$.length;L<Y;++L)x($,String(L))?q.push(v(B,$,et,ot,String(L),!0)):q.push("");return Z.forEach(function(rt){rt.match(/^\d+$/)||q.push(v(B,$,et,ot,rt,!0))}),q}function v(B,$,et,ot,Z,q){var L,Y,rt;if(rt=Object.getOwnPropertyDescriptor($,Z)||{value:$[Z]},rt.get?rt.set?Y=B.stylize("[Getter/Setter]","special"):Y=B.stylize("[Getter]","special"):rt.set&&(Y=B.stylize("[Setter]","special")),x(ot,Z)||(L="["+Z+"]"),Y||(B.seen.indexOf(rt.value)<0?(C(et)?Y=c(B,rt.value,null):Y=c(B,rt.value,et-1),Y.indexOf(`
`)>-1&&(q?Y=Y.split(`
`).map(function(H){return"  "+H}).join(`
`).slice(2):Y=`
`+Y.split(`
`).map(function(H){return"   "+H}).join(`
`))):Y=B.stylize("[Circular]","special")),J(L)){if(q&&Z.match(/^\d+$/))return Y;L=JSON.stringify(""+Z),L.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.slice(1,-1),L=B.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=B.stylize(L,"string"))}return L+": "+Y}function A(B,$,et){var ot=B.reduce(function(Z,q){return q.indexOf(`
`)>=0,Z+q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ot>60?et[0]+($===""?"":$+`
 `)+" "+B.join(`,
  `)+" "+et[1]:et[0]+$+" "+B.join(", ")+" "+et[1]}t.types=r6;function T(B){return Array.isArray(B)}t.isArray=T;function P(B){return typeof B=="boolean"}t.isBoolean=P;function C(B){return B===null}t.isNull=C;function D(B){return B==null}t.isNullOrUndefined=D;function F(B){return typeof B=="number"}t.isNumber=F;function V(B){return typeof B=="string"}t.isString=V;function U(B){return typeof B=="symbol"}t.isSymbol=U;function J(B){return B===void 0}t.isUndefined=J;function tt(B){return Q(B)&&g(B)==="[object RegExp]"}t.isRegExp=tt,t.types.isRegExp=tt;function Q(B){return typeof B=="object"&&B!==null}t.isObject=Q;function st(B){return Q(B)&&g(B)==="[object Date]"}t.isDate=st,t.types.isDate=st;function m(B){return Q(B)&&(g(B)==="[object Error]"||B instanceof Error)}t.isError=m,t.types.isNativeError=m;function O(B){return typeof B=="function"}t.isFunction=O;function h(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}t.isPrimitive=h,t.isBuffer=uS;function g(B){return Object.prototype.toString.call(B)}function _(B){return B<10?"0"+B.toString(10):B.toString(10)}var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var B=new Date,$=[_(B.getHours()),_(B.getMinutes()),_(B.getSeconds())].join(":");return[B.getDate(),M[B.getMonth()],$].join(" ")}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=Lt,t._extend=function(B,$){if(!$||!Q($))return B;for(var et=Object.keys($),ot=et.length;ot--;)B[et[ot]]=$[et[ot]];return B};function x(B,$){return Object.prototype.hasOwnProperty.call(B,$)}var b=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');if(b&&B[b]){var $=B[b];if(typeof $!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty($,b,{value:$,enumerable:!1,writable:!1,configurable:!0}),$}function $(){for(var et,ot,Z=new Promise(function(Y,rt){et=Y,ot=rt}),q=[],L=0;L<arguments.length;L++)q.push(arguments[L]);q.push(function(Y,rt){Y?ot(Y):et(rt)});try{B.apply(this,q)}catch(Y){ot(Y)}return Z}return Object.setPrototypeOf($,Object.getPrototypeOf(B)),b&&Object.defineProperty($,b,{value:$,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties($,e(B))},t.promisify.custom=b;function E(B,$){if(!B){var et=new Error("Promise was rejected with a falsy value");et.reason=B,B=et}return $(B)}function S(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function $(){for(var et=[],ot=0;ot<arguments.length;ot++)et.push(arguments[ot]);var Z=et.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var q=this,L=function(){return Z.apply(q,arguments)};B.apply(this,et).then(function(Y){z.process.nextTick(L.bind(null,null,Y))},function(Y){z.process.nextTick(E.bind(null,Y,L))})}return Object.setPrototypeOf($,Object.getPrototypeOf(B)),Object.defineProperties($,e(B)),$}t.callbackify=S})(mi);var zh,iy;function fS(){if(iy)return zh;iy=1;function t(v,A){var T=Object.keys(v);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(v);A&&(P=P.filter(function(C){return Object.getOwnPropertyDescriptor(v,C).enumerable})),T.push.apply(T,P)}return T}function e(v){for(var A=1;A<arguments.length;A++){var T=arguments[A]!=null?arguments[A]:{};A%2?t(Object(T),!0).forEach(function(P){r(v,P,T[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(T)):t(Object(T)).forEach(function(P){Object.defineProperty(v,P,Object.getOwnPropertyDescriptor(T,P))})}return v}function r(v,A,T){return A=s(A),A in v?Object.defineProperty(v,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):v[A]=T,v}function n(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function o(v,A){for(var T=0;T<A.length;T++){var P=A[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,s(P.key),P)}}function i(v,A,T){return A&&o(v.prototype,A),T&&o(v,T),Object.defineProperty(v,"prototype",{writable:!1}),v}function s(v){var A=a(v,"string");return typeof A=="symbol"?A:String(A)}function a(v,A){if(typeof v!="object"||v===null)return v;var T=v[Symbol.toPrimitive];if(T!==void 0){var P=T.call(v,A||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(v)}var f=gn,u=f.Buffer,c=mi,l=c.inspect,p=l&&l.custom||"inspect";function y(v,A,T){u.prototype.copy.call(v,A,T)}return zh=function(){function v(){n(this,v),this.head=null,this.tail=null,this.length=0}return i(v,[{key:"push",value:function(A){var T={data:A,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(A){var T={data:A,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var A=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,A}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(A){if(this.length===0)return"";for(var T=this.head,P=""+T.data;T=T.next;)P+=A+T.data;return P}},{key:"concat",value:function(A){if(this.length===0)return u.alloc(0);for(var T=u.allocUnsafe(A>>>0),P=this.head,C=0;P;)y(P.data,T,C),C+=P.data.length,P=P.next;return T}},{key:"consume",value:function(A,T){var P;return A<this.head.data.length?(P=this.head.data.slice(0,A),this.head.data=this.head.data.slice(A)):A===this.head.data.length?P=this.shift():P=T?this._getString(A):this._getBuffer(A),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(A){var T=this.head,P=1,C=T.data;for(A-=C.length;T=T.next;){var D=T.data,F=A>D.length?D.length:A;if(F===D.length?C+=D:C+=D.slice(0,A),A-=F,A===0){F===D.length?(++P,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=D.slice(F));break}++P}return this.length-=P,C}},{key:"_getBuffer",value:function(A){var T=u.allocUnsafe(A),P=this.head,C=1;for(P.data.copy(T),A-=P.data.length;P=P.next;){var D=P.data,F=A>D.length?D.length:A;if(D.copy(T,T.length-A,0,F),A-=F,A===0){F===D.length?(++C,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=D.slice(F));break}++C}return this.length-=C,T}},{key:p,value:function(A,T){return l(this,e(e({},T),{},{depth:0,customInspect:!1}))}}]),v}(),zh}function cS(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,z.process.nextTick(cd,this,t)):z.process.nextTick(cd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted?z.process.nextTick(of,r):(r._writableState.errorEmitted=!0,z.process.nextTick(oy,r,i)):z.process.nextTick(oy,r,i):e?(z.process.nextTick(of,r),e(i)):z.process.nextTick(of,r)}),this)}function oy(t,e){cd(t,e),of(t)}function of(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function hS(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function cd(t,e){t.emit("error",e)}function lS(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var A6={destroy:cS,undestroy:hS,errorOrDestroy:lS},Po={};function pS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var k6={};function jr(t,e,r){r||(r=Error);function n(i,s,a){return typeof e=="string"?e:e(i,s,a)}var o=function(i){pS(s,i);function s(a,f,u){return i.call(this,n(a,f,u))||this}return s}(r);o.prototype.name=r.name,o.prototype.code=t,k6[t]=o}function sy(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function dS(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function bS(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function yS(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}jr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);jr("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&dS(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var o;if(bS(t," argument"))o="The ".concat(t," ").concat(n," ").concat(sy(e,"type"));else{var i=yS(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(i," ").concat(n," ").concat(sy(e,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError);jr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");jr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});jr("ERR_STREAM_PREMATURE_CLOSE","Premature close");jr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});jr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");jr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");jr("ERR_STREAM_WRITE_AFTER_END","write after end");jr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);jr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);jr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Po.codes=k6;var gS=Po.codes.ERR_INVALID_OPT_VALUE;function mS(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function vS(t,e,r,n){var o=mS(e,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?r:"highWaterMark";throw new gS(i,o)}return Math.floor(o)}return t.objectMode?16:16*1024}var I6={getHighWaterMark:vS},wS=_S;function _S(t,e){if($h("noDeprecation"))return t;var r=!1;function n(){if(!r){if($h("throwDeprecation"))throw new Error(e);$h("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function $h(t){try{if(!Gt.localStorage)return!1}catch{return!1}var e=Gt.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Xh,ay;function T6(){if(ay)return Xh;ay=1,Xh=tt;function t(Z){var q=this;this.next=null,this.entry=null,this.finish=function(){ot(q,Z)}}var e;tt.WritableState=U;var r={deprecate:wS},n=e6,o=gn.Buffer,i=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(Z){return o.from(Z)}function a(Z){return o.isBuffer(Z)||Z instanceof i}var f=A6,u=I6,c=u.getHighWaterMark,l=Po.codes,p=l.ERR_INVALID_ARG_TYPE,y=l.ERR_METHOD_NOT_IMPLEMENTED,v=l.ERR_MULTIPLE_CALLBACK,A=l.ERR_STREAM_CANNOT_PIPE,T=l.ERR_STREAM_DESTROYED,P=l.ERR_STREAM_NULL_VALUES,C=l.ERR_STREAM_WRITE_AFTER_END,D=l.ERR_UNKNOWN_ENCODING,F=f.errorOrDestroy;Lt(tt,n);function V(){}function U(Z,q,L){e=e||xs(),Z=Z||{},typeof L!="boolean"&&(L=q instanceof e),this.objectMode=!!Z.objectMode,L&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=c(this,Z,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=Z.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(rt){M(q,rt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}U.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,q=[];Z;)q.push(Z),Z=Z.next;return q},function(){try{Object.defineProperty(U.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(tt,Symbol.hasInstance,{value:function(Z){return J.call(this,Z)?!0:this!==tt?!1:Z&&Z._writableState instanceof U}})):J=function(Z){return Z instanceof this};function tt(Z){e=e||xs();var q=this instanceof e;if(!q&&!J.call(tt,this))return new tt(Z);this._writableState=new U(Z,this,q),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),n.call(this)}tt.prototype.pipe=function(){F(this,new A)};function Q(Z,q){var L=new C;F(Z,L),z.process.nextTick(q,L)}function st(Z,q,L,Y){var rt;return L===null?rt=new P:typeof L!="string"&&!q.objectMode&&(rt=new p("chunk",["string","Buffer"],L)),rt?(F(Z,rt),z.process.nextTick(Y,rt),!1):!0}tt.prototype.write=function(Z,q,L){var Y=this._writableState,rt=!1,H=!Y.objectMode&&a(Z);return H&&!o.isBuffer(Z)&&(Z=s(Z)),typeof q=="function"&&(L=q,q=null),H?q="buffer":q||(q=Y.defaultEncoding),typeof L!="function"&&(L=V),Y.ending?Q(this,L):(H||st(this,Y,Z,L))&&(Y.pendingcb++,rt=O(this,Y,H,Z,q,L)),rt},tt.prototype.cork=function(){this._writableState.corked++},tt.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&b(this,Z))},tt.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new D(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function m(Z,q,L){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof q=="string"&&(q=o.from(q,L)),q}Object.defineProperty(tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(Z,q,L,Y,rt,H){if(!L){var K=m(q,Y,rt);Y!==K&&(L=!0,rt="buffer",Y=K)}var it=q.objectMode?1:Y.length;q.length+=it;var at=q.length<q.highWaterMark;if(at||(q.needDrain=!0),q.writing||q.corked){var yt=q.lastBufferedRequest;q.lastBufferedRequest={chunk:Y,encoding:rt,isBuf:L,callback:H,next:null},yt?yt.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else h(Z,q,!1,it,Y,rt,H);return at}function h(Z,q,L,Y,rt,H,K){q.writelen=Y,q.writecb=K,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new T("write")):L?Z._writev(rt,q.onwrite):Z._write(rt,H,q.onwrite),q.sync=!1}function g(Z,q,L,Y,rt){--q.pendingcb,L?(z.process.nextTick(rt,Y),z.process.nextTick($,Z,q),Z._writableState.errorEmitted=!0,F(Z,Y)):(rt(Y),Z._writableState.errorEmitted=!0,F(Z,Y),$(Z,q))}function _(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function M(Z,q){var L=Z._writableState,Y=L.sync,rt=L.writecb;if(typeof rt!="function")throw new v;if(_(L),q)g(Z,L,Y,q,rt);else{var H=E(L)||Z.destroyed;!H&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&b(Z,L),Y?z.process.nextTick(R,Z,L,H,rt):R(Z,L,H,rt)}}function R(Z,q,L,Y){L||x(Z,q),q.pendingcb--,Y(),$(Z,q)}function x(Z,q){q.length===0&&q.needDrain&&(q.needDrain=!1,Z.emit("drain"))}function b(Z,q){q.bufferProcessing=!0;var L=q.bufferedRequest;if(Z._writev&&L&&L.next){var Y=q.bufferedRequestCount,rt=new Array(Y),H=q.corkedRequestsFree;H.entry=L;for(var K=0,it=!0;L;)rt[K]=L,L.isBuf||(it=!1),L=L.next,K+=1;rt.allBuffers=it,h(Z,q,!0,q.length,rt,"",H.finish),q.pendingcb++,q.lastBufferedRequest=null,H.next?(q.corkedRequestsFree=H.next,H.next=null):q.corkedRequestsFree=new t(q),q.bufferedRequestCount=0}else{for(;L;){var at=L.chunk,yt=L.encoding,dt=L.callback,lt=q.objectMode?1:at.length;if(h(Z,q,!1,lt,at,yt,dt),L=L.next,q.bufferedRequestCount--,q.writing)break}L===null&&(q.lastBufferedRequest=null)}q.bufferedRequest=L,q.bufferProcessing=!1}tt.prototype._write=function(Z,q,L){L(new y("_write()"))},tt.prototype._writev=null,tt.prototype.end=function(Z,q,L){var Y=this._writableState;return typeof Z=="function"?(L=Z,Z=null,q=null):typeof q=="function"&&(L=q,q=null),Z!=null&&this.write(Z,q),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||et(this,Y,L),this},Object.defineProperty(tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function E(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function S(Z,q){Z._final(function(L){q.pendingcb--,L&&F(Z,L),q.prefinished=!0,Z.emit("prefinish"),$(Z,q)})}function B(Z,q){!q.prefinished&&!q.finalCalled&&(typeof Z._final=="function"&&!q.destroyed?(q.pendingcb++,q.finalCalled=!0,z.process.nextTick(S,Z,q)):(q.prefinished=!0,Z.emit("prefinish")))}function $(Z,q){var L=E(q);if(L&&(B(Z,q),q.pendingcb===0&&(q.finished=!0,Z.emit("finish"),q.autoDestroy))){var Y=Z._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&Z.destroy()}return L}function et(Z,q,L){q.ending=!0,$(Z,q),L&&(q.finished?z.process.nextTick(L):Z.once("finish",L)),q.ended=!0,Z.writable=!1}function ot(Z,q,L){var Y=Z.entry;for(Z.entry=null;Y;){var rt=Y.callback;q.pendingcb--,rt(L),Y=Y.next}q.corkedRequestsFree.next=Z}return Object.defineProperty(tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),tt.prototype.destroy=f.destroy,tt.prototype._undestroy=f.undestroy,tt.prototype._destroy=function(Z,q){q(Z)},Xh}var Yh,uy;function xs(){if(uy)return Yh;uy=1;var t=Object.keys||function(u){var c=[];for(var l in u)c.push(l);return c};Yh=s;var e=B6(),r=T6();Lt(s,e);for(var n=t(r.prototype),o=0;o<n.length;o++){var i=n[o];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(u){if(!(this instanceof s))return new s(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||z.process.nextTick(f,this)}function f(u){u.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Yh}var Of={},p0=St.Buffer,fy=p0.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function SS(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ES(t){var e=SS(t);if(typeof e!="string"&&(p0.isEncoding===fy||!fy(t)))throw new Error("Unknown encoding: "+t);return e||t}Of.StringDecoder=iu;function iu(t){this.encoding=ES(t);var e;switch(this.encoding){case"utf16le":this.text=BS,this.end=MS,e=4;break;case"utf8":this.fillLast=IS,e=4;break;case"base64":this.text=PS,this.end=xS,e=3;break;default:this.write=NS,this.end=RS;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p0.allocUnsafe(e)}iu.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};iu.prototype.end=OS;iu.prototype.text=TS;iu.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Zh(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function AS(t,e,r){var n=e.length-1;if(n<r)return 0;var o=Zh(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||o===-2?0:(o=Zh(e[n]),o>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||o===-2?0:(o=Zh(e[n]),o>=0?(o>0&&(o===2?o=0:t.lastNeed=o-3),o):0))}function kS(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function IS(t){var e=this.lastTotal-this.lastNeed,r=kS(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function TS(t,e){var r=AS(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function OS(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function BS(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function MS(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function PS(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function xS(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function NS(t){return t.toString(this.encoding)}function RS(t){return t&&t.length?this.write(t):""}var cy=Po.codes.ERR_STREAM_PREMATURE_CLOSE;function US(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}function CS(){}function HS(t){return t.setHeader&&typeof t.abort=="function"}function O6(t,e,r){if(typeof e=="function")return O6(t,null,e);e||(e={}),r=US(r||CS);var n=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,i=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){o=!1,s=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,f=!0,o||r.call(t)},c=function(y){r.call(t,y)},l=function(){var y;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(y=new cy),r.call(t,y);if(o&&!s)return(!t._writableState||!t._writableState.ended)&&(y=new cy),r.call(t,y)},p=function(){t.req.on("finish",a)};return HS(t)?(t.on("complete",a),t.on("abort",l),t.req?p():t.on("request",p)):o&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",p),t.req&&t.req.removeListener("finish",a),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",l)}}var d0=O6,Jh,hy;function jS(){if(hy)return Jh;hy=1;var t;function e(D,F,V){return F=r(F),F in D?Object.defineProperty(D,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):D[F]=V,D}function r(D){var F=n(D,"string");return typeof F=="symbol"?F:String(F)}function n(D,F){if(typeof D!="object"||D===null)return D;var V=D[Symbol.toPrimitive];if(V!==void 0){var U=V.call(D,F||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(D)}var o=d0,i=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),f=Symbol("ended"),u=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function p(D,F){return{value:D,done:F}}function y(D){var F=D[i];if(F!==null){var V=D[l].read();V!==null&&(D[u]=null,D[i]=null,D[s]=null,F(p(V,!1)))}}function v(D){z.process.nextTick(y,D)}function A(D,F){return function(V,U){D.then(function(){if(F[f]){V(p(void 0,!0));return}F[c](V,U)},U)}}var T=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var D=this,F=this[a];if(F!==null)return Promise.reject(F);if(this[f])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(tt,Q){z.process.nextTick(function(){D[a]?Q(D[a]):tt(p(void 0,!0))})});var V=this[u],U;if(V)U=new Promise(A(V,this));else{var J=this[l].read();if(J!==null)return Promise.resolve(p(J,!1));U=new Promise(this[c])}return this[u]=U,U}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var D=this;return new Promise(function(F,V){D[l].destroy(null,function(U){if(U){V(U);return}F(p(void 0,!0))})})}),t),T),C=function(D){var F,V=Object.create(P,(F={},e(F,l,{value:D,writable:!0}),e(F,i,{value:null,writable:!0}),e(F,s,{value:null,writable:!0}),e(F,a,{value:null,writable:!0}),e(F,f,{value:D._readableState.endEmitted,writable:!0}),e(F,c,{value:function(U,J){var tt=V[l].read();tt?(V[u]=null,V[i]=null,V[s]=null,U(p(tt,!1))):(V[i]=U,V[s]=J)},writable:!0}),F));return V[u]=null,o(D,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=V[s];J!==null&&(V[u]=null,V[i]=null,V[s]=null,J(U)),V[a]=U;return}var tt=V[i];tt!==null&&(V[u]=null,V[i]=null,V[s]=null,tt(p(void 0,!0))),V[f]=!0}),D.on("readable",v.bind(null,V)),V};return Jh=C,Jh}var ly,py;function LS(){return py||(py=1,ly=function(){throw new Error("Readable.from is not available in the browser")}),ly}var Qh,dy;function B6(){if(dy)return Qh;dy=1,Qh=Q;var t;Q.ReadableState=tt,t6.EventEmitter;var e=function(H,K){return H.listeners(K).length},r=e6,n=gn.Buffer,o=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(H){return n.from(H)}function s(H){return n.isBuffer(H)||H instanceof o}var a=mi,f;a&&a.debuglog?f=a.debuglog("stream"):f=function(){};var u=fS(),c=A6,l=I6,p=l.getHighWaterMark,y=Po.codes,v=y.ERR_INVALID_ARG_TYPE,A=y.ERR_STREAM_PUSH_AFTER_EOF,T=y.ERR_METHOD_NOT_IMPLEMENTED,P=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,D,F;Lt(Q,r);var V=c.errorOrDestroy,U=["error","close","destroy","pause","resume"];function J(H,K,it){if(typeof H.prependListener=="function")return H.prependListener(K,it);!H._events||!H._events[K]?H.on(K,it):Array.isArray(H._events[K])?H._events[K].unshift(it):H._events[K]=[it,H._events[K]]}function tt(H,K,it){t=t||xs(),H=H||{},typeof it!="boolean"&&(it=K instanceof t),this.objectMode=!!H.objectMode,it&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=p(this,H,"readableHighWaterMark",it),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(C||(C=Of.StringDecoder),this.decoder=new C(H.encoding),this.encoding=H.encoding)}function Q(H){if(t=t||xs(),!(this instanceof Q))return new Q(H);var K=this instanceof t;this._readableState=new tt(H,this,K),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),r.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),Q.prototype.destroy=c.destroy,Q.prototype._undestroy=c.undestroy,Q.prototype._destroy=function(H,K){K(H)},Q.prototype.push=function(H,K){var it=this._readableState,at;return it.objectMode?at=!0:typeof H=="string"&&(K=K||it.defaultEncoding,K!==it.encoding&&(H=n.from(H,K),K=""),at=!0),st(this,H,K,!1,at)},Q.prototype.unshift=function(H){return st(this,H,null,!0,!1)};function st(H,K,it,at,yt){f("readableAddChunk",K);var dt=H._readableState;if(K===null)dt.reading=!1,M(H,dt);else{var lt;if(yt||(lt=O(dt,K)),lt)V(H,lt);else if(dt.objectMode||K&&K.length>0)if(typeof K!="string"&&!dt.objectMode&&Object.getPrototypeOf(K)!==n.prototype&&(K=i(K)),at)dt.endEmitted?V(H,new P):m(H,dt,K,!0);else if(dt.ended)V(H,new A);else{if(dt.destroyed)return!1;dt.reading=!1,dt.decoder&&!it?(K=dt.decoder.write(K),dt.objectMode||K.length!==0?m(H,dt,K,!1):b(H,dt)):m(H,dt,K,!1)}else at||(dt.reading=!1,b(H,dt))}return!dt.ended&&(dt.length<dt.highWaterMark||dt.length===0)}function m(H,K,it,at){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,H.emit("data",it)):(K.length+=K.objectMode?1:it.length,at?K.buffer.unshift(it):K.buffer.push(it),K.needReadable&&R(H)),b(H,K)}function O(H,K){var it;return!s(K)&&typeof K!="string"&&K!==void 0&&!H.objectMode&&(it=new v("chunk",["string","Buffer","Uint8Array"],K)),it}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(H){C||(C=Of.StringDecoder);var K=new C(H);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var it=this._readableState.buffer.head,at="";it!==null;)at+=K.write(it.data),it=it.next;return this._readableState.buffer.clear(),at!==""&&this._readableState.buffer.push(at),this._readableState.length=at.length,this};var h=1073741824;function g(H){return H>=h?H=h:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function _(H,K){return H<=0||K.length===0&&K.ended?0:K.objectMode?1:H!==H?K.flowing&&K.length?K.buffer.head.data.length:K.length:(H>K.highWaterMark&&(K.highWaterMark=g(H)),H<=K.length?H:K.ended?K.length:(K.needReadable=!0,0))}Q.prototype.read=function(H){f("read",H),H=parseInt(H,10);var K=this._readableState,it=H;if(H!==0&&(K.emittedReadable=!1),H===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return f("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?L(this):R(this),null;if(H=_(H,K),H===0&&K.ended)return K.length===0&&L(this),null;var at=K.needReadable;f("need readable",at),(K.length===0||K.length-H<K.highWaterMark)&&(at=!0,f("length less than watermark",at)),K.ended||K.reading?(at=!1,f("reading or ended",at)):at&&(f("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(H=_(it,K)));var yt;return H>0?yt=q(H,K):yt=null,yt===null?(K.needReadable=K.length<=K.highWaterMark,H=0):(K.length-=H,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),it!==H&&K.ended&&L(this)),yt!==null&&this.emit("data",yt),yt};function M(H,K){if(f("onEofChunk"),!K.ended){if(K.decoder){var it=K.decoder.end();it&&it.length&&(K.buffer.push(it),K.length+=K.objectMode?1:it.length)}K.ended=!0,K.sync?R(H):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,x(H)))}}function R(H){var K=H._readableState;f("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(f("emitReadable",K.flowing),K.emittedReadable=!0,z.process.nextTick(x,H))}function x(H){var K=H._readableState;f("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(H.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(H)}function b(H,K){K.readingMore||(K.readingMore=!0,z.process.nextTick(E,H,K))}function E(H,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var it=K.length;if(f("maybeReadMore read 0"),H.read(0),it===K.length)break}K.readingMore=!1}Q.prototype._read=function(H){V(this,new T("_read()"))},Q.prototype.pipe=function(H,K){var it=this,at=this._readableState;switch(at.pipesCount){case 0:at.pipes=H;break;case 1:at.pipes=[at.pipes,H];break;default:at.pipes.push(H);break}at.pipesCount+=1,f("pipe count=%d opts=%j",at.pipesCount,K);var yt=(!K||K.end!==!1)&&H!==z.process.stdout&&H!==z.process.stderr,dt=yt?At:W;at.endEmitted?z.process.nextTick(dt):it.once("end",dt),H.on("unpipe",lt);function lt(d,w){f("onunpipe"),d===it&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,It())}function At(){f("onend"),H.end()}var ut=S(it);H.on("drain",ut);var _t=!1;function It(){f("cleanup"),H.removeListener("close",I),H.removeListener("finish",N),H.removeListener("drain",ut),H.removeListener("error",wt),H.removeListener("unpipe",lt),it.removeListener("end",At),it.removeListener("end",W),it.removeListener("data",bt),_t=!0,at.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&ut()}it.on("data",bt);function bt(d){f("ondata");var w=H.write(d);f("dest.write",w),w===!1&&((at.pipesCount===1&&at.pipes===H||at.pipesCount>1&&rt(at.pipes,H)!==-1)&&!_t&&(f("false write response, pause",at.awaitDrain),at.awaitDrain++),it.pause())}function wt(d){f("onerror",d),W(),H.removeListener("error",wt),e(H,"error")===0&&V(H,d)}J(H,"error",wt);function I(){H.removeListener("finish",N),W()}H.once("close",I);function N(){f("onfinish"),H.removeListener("close",I),W()}H.once("finish",N);function W(){f("unpipe"),it.unpipe(H)}return H.emit("pipe",it),at.flowing||(f("pipe resume"),it.resume()),H};function S(H){return function(){var K=H._readableState;f("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&e(H,"data")&&(K.flowing=!0,Z(H))}}Q.prototype.unpipe=function(H){var K=this._readableState,it={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return H&&H!==K.pipes?this:(H||(H=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,H&&H.emit("unpipe",this,it),this);if(!H){var at=K.pipes,yt=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var dt=0;dt<yt;dt++)at[dt].emit("unpipe",this,{hasUnpiped:!1});return this}var lt=rt(K.pipes,H);return lt===-1?this:(K.pipes.splice(lt,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),H.emit("unpipe",this,it),this)},Q.prototype.on=function(H,K){var it=r.prototype.on.call(this,H,K),at=this._readableState;return H==="data"?(at.readableListening=this.listenerCount("readable")>0,at.flowing!==!1&&this.resume()):H==="readable"&&!at.endEmitted&&!at.readableListening&&(at.readableListening=at.needReadable=!0,at.flowing=!1,at.emittedReadable=!1,f("on readable",at.length,at.reading),at.length?R(this):at.reading||z.process.nextTick($,this)),it},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(H,K){var it=r.prototype.removeListener.call(this,H,K);return H==="readable"&&z.process.nextTick(B,this),it},Q.prototype.removeAllListeners=function(H){var K=r.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&z.process.nextTick(B,this),K};function B(H){var K=H._readableState;K.readableListening=H.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:H.listenerCount("data")>0&&H.resume()}function $(H){f("readable nexttick read 0"),H.read(0)}Q.prototype.resume=function(){var H=this._readableState;return H.flowing||(f("resume"),H.flowing=!H.readableListening,et(this,H)),H.paused=!1,this};function et(H,K){K.resumeScheduled||(K.resumeScheduled=!0,z.process.nextTick(ot,H,K))}function ot(H,K){f("resume",K.reading),K.reading||H.read(0),K.resumeScheduled=!1,H.emit("resume"),Z(H),K.flowing&&!K.reading&&H.read(0)}Q.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(H){var K=H._readableState;for(f("flow",K.flowing);K.flowing&&H.read()!==null;);}Q.prototype.wrap=function(H){var K=this,it=this._readableState,at=!1;H.on("end",function(){if(f("wrapped end"),it.decoder&&!it.ended){var lt=it.decoder.end();lt&&lt.length&&K.push(lt)}K.push(null)}),H.on("data",function(lt){if(f("wrapped data"),it.decoder&&(lt=it.decoder.write(lt)),!(it.objectMode&&lt==null)&&!(!it.objectMode&&(!lt||!lt.length))){var At=K.push(lt);At||(at=!0,H.pause())}});for(var yt in H)this[yt]===void 0&&typeof H[yt]=="function"&&(this[yt]=function(lt){return function(){return H[lt].apply(H,arguments)}}(yt));for(var dt=0;dt<U.length;dt++)H.on(U[dt],this.emit.bind(this,U[dt]));return this._read=function(lt){f("wrapped _read",lt),at&&(at=!1,H.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=jS()),D(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),Q._fromList=q,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function q(H,K){if(K.length===0)return null;var it;return K.objectMode?it=K.buffer.shift():!H||H>=K.length?(K.decoder?it=K.buffer.join(""):K.buffer.length===1?it=K.buffer.first():it=K.buffer.concat(K.length),K.buffer.clear()):it=K.buffer.consume(H,K.decoder),it}function L(H){var K=H._readableState;f("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,z.process.nextTick(Y,K,H))}function Y(H,K){if(f("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,K.readable=!1,K.emit("end"),H.autoDestroy)){var it=K._writableState;(!it||it.autoDestroy&&it.finished)&&K.destroy()}}typeof Symbol=="function"&&(Q.from=function(H,K){return F===void 0&&(F=LS()),F(Q,H,K)});function rt(H,K){for(var it=0,at=H.length;it<at;it++)if(H[it]===K)return it;return-1}return Qh}var M6=Fn,wc=Po.codes,DS=wc.ERR_METHOD_NOT_IMPLEMENTED,KS=wc.ERR_MULTIPLE_CALLBACK,qS=wc.ERR_TRANSFORM_ALREADY_TRANSFORMING,FS=wc.ERR_TRANSFORM_WITH_LENGTH_0,_c=xs();Lt(Fn,_c);function GS(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new KS);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Fn(t){if(!(this instanceof Fn))return new Fn(t);_c.call(this,t),this._transformState={afterTransform:GS.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",WS)}function WS(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){by(t,e,r)}):by(this,null,null)}Fn.prototype.push=function(t,e){return this._transformState.needTransform=!1,_c.prototype.push.call(this,t,e)};Fn.prototype._transform=function(t,e,r){r(new DS("_transform()"))};Fn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Fn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Fn.prototype._destroy=function(t,e){_c.prototype._destroy.call(this,t,function(r){e(r)})};function by(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new FS;if(t._transformState.transforming)throw new qS;return t.push(null)}var VS=La,P6=M6;Lt(La,P6);function La(t){if(!(this instanceof La))return new La(t);P6.call(this,t)}La.prototype._transform=function(t,e,r){r(null,t)};var tl;function zS(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var x6=Po.codes,$S=x6.ERR_MISSING_ARGS,XS=x6.ERR_STREAM_DESTROYED;function YS(t){if(t)throw t}function ZS(t){return t.setHeader&&typeof t.abort=="function"}function JS(t,e,r,n){n=zS(n);var o=!1;t.on("close",function(){o=!0}),tl===void 0&&(tl=d0),tl(t,{readable:e,writable:r},function(s){if(s)return n(s);o=!0,n()});var i=!1;return function(s){if(!o&&!i){if(i=!0,ZS(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new XS("pipe"))}}}function yy(t){t()}function QS(t,e){return t.pipe(e)}function tE(t){return!t.length||typeof t[t.length-1]!="function"?YS:t.pop()}function eE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=tE(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new $S("streams");var o,i=e.map(function(s,a){var f=a<e.length-1,u=a>0;return JS(s,f,u,function(c){o||(o=c),c&&i.forEach(yy),!f&&(i.forEach(yy),n(o))})});return e.reduce(QS)}var rE=eE;(function(t,e){e=t.exports=B6(),e.Stream=e,e.Readable=e,e.Writable=T6(),e.Duplex=xs(),e.Transform=M6,e.PassThrough=VS,e.finished=d0,e.pipeline=rE})(ed,ed.exports);var b0=ed.exports,Bf=St.Buffer,N6=b0.Transform,nE=Lt;function iE(t,e){if(!Bf.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Ai(t){N6.call(this),this._block=Bf.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}nE(Ai,N6);Ai.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)};Ai.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ai.prototype.update=function(t,e){if(iE(t,"Data"),this._finalized)throw new Error("Digest already called");Bf.isBuffer(t)||(t=Bf.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var i=0,s=t.length*8;s>0;++i)this._length[i]+=s,s=this._length[i]/4294967296|0,s>0&&(this._length[i]-=4294967296*s);return this};Ai.prototype._update=function(){throw new Error("_update is not implemented")};Ai.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ai.prototype._digest=function(){throw new Error("_digest is not implemented")};var R6=Ai,oE=Lt,U6=R6,sE=St.Buffer,aE=new Array(16);function Sc(){U6.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}oE(Sc,U6);Sc.prototype._update=function(){for(var t=aE,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,o=this._c,i=this._d;r=Je(r,n,o,i,t[0],3614090360,7),i=Je(i,r,n,o,t[1],3905402710,12),o=Je(o,i,r,n,t[2],606105819,17),n=Je(n,o,i,r,t[3],3250441966,22),r=Je(r,n,o,i,t[4],4118548399,7),i=Je(i,r,n,o,t[5],1200080426,12),o=Je(o,i,r,n,t[6],2821735955,17),n=Je(n,o,i,r,t[7],4249261313,22),r=Je(r,n,o,i,t[8],1770035416,7),i=Je(i,r,n,o,t[9],2336552879,12),o=Je(o,i,r,n,t[10],4294925233,17),n=Je(n,o,i,r,t[11],2304563134,22),r=Je(r,n,o,i,t[12],1804603682,7),i=Je(i,r,n,o,t[13],4254626195,12),o=Je(o,i,r,n,t[14],2792965006,17),n=Je(n,o,i,r,t[15],1236535329,22),r=Qe(r,n,o,i,t[1],4129170786,5),i=Qe(i,r,n,o,t[6],3225465664,9),o=Qe(o,i,r,n,t[11],643717713,14),n=Qe(n,o,i,r,t[0],3921069994,20),r=Qe(r,n,o,i,t[5],3593408605,5),i=Qe(i,r,n,o,t[10],38016083,9),o=Qe(o,i,r,n,t[15],3634488961,14),n=Qe(n,o,i,r,t[4],3889429448,20),r=Qe(r,n,o,i,t[9],568446438,5),i=Qe(i,r,n,o,t[14],3275163606,9),o=Qe(o,i,r,n,t[3],4107603335,14),n=Qe(n,o,i,r,t[8],1163531501,20),r=Qe(r,n,o,i,t[13],2850285829,5),i=Qe(i,r,n,o,t[2],4243563512,9),o=Qe(o,i,r,n,t[7],1735328473,14),n=Qe(n,o,i,r,t[12],2368359562,20),r=tr(r,n,o,i,t[5],4294588738,4),i=tr(i,r,n,o,t[8],2272392833,11),o=tr(o,i,r,n,t[11],1839030562,16),n=tr(n,o,i,r,t[14],4259657740,23),r=tr(r,n,o,i,t[1],2763975236,4),i=tr(i,r,n,o,t[4],1272893353,11),o=tr(o,i,r,n,t[7],4139469664,16),n=tr(n,o,i,r,t[10],3200236656,23),r=tr(r,n,o,i,t[13],681279174,4),i=tr(i,r,n,o,t[0],3936430074,11),o=tr(o,i,r,n,t[3],3572445317,16),n=tr(n,o,i,r,t[6],76029189,23),r=tr(r,n,o,i,t[9],3654602809,4),i=tr(i,r,n,o,t[12],3873151461,11),o=tr(o,i,r,n,t[15],530742520,16),n=tr(n,o,i,r,t[2],3299628645,23),r=er(r,n,o,i,t[0],4096336452,6),i=er(i,r,n,o,t[7],1126891415,10),o=er(o,i,r,n,t[14],2878612391,15),n=er(n,o,i,r,t[5],4237533241,21),r=er(r,n,o,i,t[12],1700485571,6),i=er(i,r,n,o,t[3],2399980690,10),o=er(o,i,r,n,t[10],4293915773,15),n=er(n,o,i,r,t[1],2240044497,21),r=er(r,n,o,i,t[8],1873313359,6),i=er(i,r,n,o,t[15],4264355552,10),o=er(o,i,r,n,t[6],2734768916,15),n=er(n,o,i,r,t[13],1309151649,21),r=er(r,n,o,i,t[4],4149444226,6),i=er(i,r,n,o,t[11],3174756917,10),o=er(o,i,r,n,t[2],718787259,15),n=er(n,o,i,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+o|0,this._d=this._d+i|0};Sc.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=sE.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Ec(t,e){return t<<e|t>>>32-e}function Je(t,e,r,n,o,i,s){return Ec(t+(e&r|~e&n)+o+i|0,s)+e|0}function Qe(t,e,r,n,o,i,s){return Ec(t+(e&n|r&~n)+o+i|0,s)+e|0}function tr(t,e,r,n,o,i,s){return Ec(t+(e^r^n)+o+i|0,s)+e|0}function er(t,e,r,n,o,i,s){return Ec(t+(r^(e|~n))+o+i|0,s)+e|0}var y0=Sc,el=gn.Buffer,uE=Lt,C6=R6,fE=new Array(16),pa=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],da=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ba=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ya=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ga=[0,1518500249,1859775393,2400959708,2840853838],ma=[1352829926,1548603684,1836072691,2053994217,0];function Ac(){C6.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}uE(Ac,C6);Ac.prototype._update=function(){for(var t=fE,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=this._a|0,f=this._b|0,u=this._c|0,c=this._d|0,l=this._e|0,p=0;p<80;p+=1){var y,v;p<16?(y=gy(r,n,o,i,s,t[pa[p]],ga[0],ba[p]),v=_y(a,f,u,c,l,t[da[p]],ma[0],ya[p])):p<32?(y=my(r,n,o,i,s,t[pa[p]],ga[1],ba[p]),v=wy(a,f,u,c,l,t[da[p]],ma[1],ya[p])):p<48?(y=vy(r,n,o,i,s,t[pa[p]],ga[2],ba[p]),v=vy(a,f,u,c,l,t[da[p]],ma[2],ya[p])):p<64?(y=wy(r,n,o,i,s,t[pa[p]],ga[3],ba[p]),v=my(a,f,u,c,l,t[da[p]],ma[3],ya[p])):(y=_y(r,n,o,i,s,t[pa[p]],ga[4],ba[p]),v=gy(a,f,u,c,l,t[da[p]],ma[4],ya[p])),r=s,s=i,i=Io(o,10),o=n,n=y,a=l,l=c,c=Io(u,10),u=f,f=v}var A=this._b+o+c|0;this._b=this._c+i+l|0,this._c=this._d+s+a|0,this._d=this._e+r+f|0,this._e=this._a+n+u|0,this._a=A};Ac.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=el.alloc?el.alloc(20):new el(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Io(t,e){return t<<e|t>>>32-e}function gy(t,e,r,n,o,i,s,a){return Io(t+(e^r^n)+i+s|0,a)+o|0}function my(t,e,r,n,o,i,s,a){return Io(t+(e&r|~e&n)+i+s|0,a)+o|0}function vy(t,e,r,n,o,i,s,a){return Io(t+((e|~r)^n)+i+s|0,a)+o|0}function wy(t,e,r,n,o,i,s,a){return Io(t+(e&n|r&~n)+i+s|0,a)+o|0}function _y(t,e,r,n,o,i,s,a){return Io(t+(e^(r|~n))+i+s|0,a)+o|0}var g0=Ac,H6={exports:{}},j6=St.Buffer;function kc(t,e){this._block=j6.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}kc.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=j6.from(t,e));for(var r=this._block,n=this._blockSize,o=t.length,i=this._len,s=0;s<o;){for(var a=i%n,f=Math.min(o-s,n-a),u=0;u<f;u++)r[a+u]=t[s+u];i+=f,s+=f,i%n===0&&this._update(r)}return this._len+=o,this};kc.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,o=(r-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i};kc.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var zs=kc,cE=Lt,L6=zs,hE=St.Buffer,lE=[1518500249,1859775393,-1894007588,-899497514],pE=new Array(80);function ou(){this.init(),this._w=pE,L6.call(this,64,56)}cE(ou,L6);ou.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function dE(t){return t<<5|t>>>27}function bE(t){return t<<30|t>>>2}function yE(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}ou.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var f=0;f<80;++f){var u=~~(f/20),c=dE(r)+yE(u,n,o,i)+s+e[f]+lE[u]|0;s=i,i=o,o=bE(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0};ou.prototype._hash=function(){var t=hE.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var gE=ou,mE=Lt,D6=zs,vE=St.Buffer,wE=[1518500249,1859775393,-1894007588,-899497514],_E=new Array(80);function su(){this.init(),this._w=_E,D6.call(this,64,56)}mE(su,D6);su.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function SE(t){return t<<1|t>>>31}function EE(t){return t<<5|t>>>27}function AE(t){return t<<30|t>>>2}function kE(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}su.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=SE(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var f=0;f<80;++f){var u=~~(f/20),c=EE(r)+kE(u,n,o,i)+s+e[f]+wE[u]|0;s=i,i=o,o=AE(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0};su.prototype._hash=function(){var t=vE.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var IE=su,TE=Lt,K6=zs,OE=St.Buffer,BE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ME=new Array(64);function au(){this.init(),this._w=ME,K6.call(this,64,56)}TE(au,K6);au.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function PE(t,e,r){return r^t&(e^r)}function xE(t,e,r){return t&e|r&(t|e)}function NE(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function RE(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function UE(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function CE(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}au.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=this._f|0,f=this._g|0,u=this._h|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<64;++c)e[c]=CE(e[c-2])+e[c-7]+UE(e[c-15])+e[c-16]|0;for(var l=0;l<64;++l){var p=u+RE(s)+PE(s,a,f)+BE[l]+e[l]|0,y=NE(r)+xE(r,n,o)|0;u=f,f=a,a=s,s=i+p|0,i=o,o=n,n=r,r=p+y|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=f+this._g|0,this._h=u+this._h|0};au.prototype._hash=function(){var t=OE.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var q6=au,HE=Lt,jE=q6,LE=zs,DE=St.Buffer,KE=new Array(64);function Ic(){this.init(),this._w=KE,LE.call(this,64,56)}HE(Ic,jE);Ic.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ic.prototype._hash=function(){var t=DE.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var qE=Ic,FE=Lt,F6=zs,GE=St.Buffer,Sy=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],WE=new Array(160);function uu(){this.init(),this._w=WE,F6.call(this,128,112)}FE(uu,F6);uu.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ey(t,e,r){return r^t&(e^r)}function Ay(t,e,r){return t&e|r&(t|e)}function ky(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Iy(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function VE(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function zE(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function $E(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function XE(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Re(t,e){return t>>>0<e>>>0?1:0}uu.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,o=this._ch|0,i=this._dh|0,s=this._eh|0,a=this._fh|0,f=this._gh|0,u=this._hh|0,c=this._al|0,l=this._bl|0,p=this._cl|0,y=this._dl|0,v=this._el|0,A=this._fl|0,T=this._gl|0,P=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var D=e[C-30],F=e[C-15*2+1],V=VE(D,F),U=zE(F,D);D=e[C-2*2],F=e[C-2*2+1];var J=$E(D,F),tt=XE(F,D),Q=e[C-7*2],st=e[C-7*2+1],m=e[C-16*2],O=e[C-16*2+1],h=U+st|0,g=V+Q+Re(h,U)|0;h=h+tt|0,g=g+J+Re(h,tt)|0,h=h+O|0,g=g+m+Re(h,O)|0,e[C]=g,e[C+1]=h}for(var _=0;_<160;_+=2){g=e[_],h=e[_+1];var M=Ay(r,n,o),R=Ay(c,l,p),x=ky(r,c),b=ky(c,r),E=Iy(s,v),S=Iy(v,s),B=Sy[_],$=Sy[_+1],et=Ey(s,a,f),ot=Ey(v,A,T),Z=P+S|0,q=u+E+Re(Z,P)|0;Z=Z+ot|0,q=q+et+Re(Z,ot)|0,Z=Z+$|0,q=q+B+Re(Z,$)|0,Z=Z+h|0,q=q+g+Re(Z,h)|0;var L=b+R|0,Y=x+M+Re(L,b)|0;u=f,P=T,f=a,T=A,a=s,A=v,v=y+Z|0,s=i+q+Re(v,y)|0,i=o,y=p,o=n,p=l,n=r,l=c,c=Z+L|0,r=q+Y+Re(c,Z)|0}this._al=this._al+c|0,this._bl=this._bl+l|0,this._cl=this._cl+p|0,this._dl=this._dl+y|0,this._el=this._el+v|0,this._fl=this._fl+A|0,this._gl=this._gl+T|0,this._hl=this._hl+P|0,this._ah=this._ah+r+Re(this._al,c)|0,this._bh=this._bh+n+Re(this._bl,l)|0,this._ch=this._ch+o+Re(this._cl,p)|0,this._dh=this._dh+i+Re(this._dl,y)|0,this._eh=this._eh+s+Re(this._el,v)|0,this._fh=this._fh+a+Re(this._fl,A)|0,this._gh=this._gh+f+Re(this._gl,T)|0,this._hh=this._hh+u+Re(this._hl,P)|0};uu.prototype._hash=function(){var t=GE.allocUnsafe(64);function e(r,n,o){t.writeInt32BE(r,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var G6=uu,YE=Lt,ZE=G6,JE=zs,QE=St.Buffer,tA=new Array(160);function Tc(){this.init(),this._w=tA,JE.call(this,128,112)}YE(Tc,ZE);Tc.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Tc.prototype._hash=function(){var t=QE.allocUnsafe(48);function e(r,n,o){t.writeInt32BE(r,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var eA=Tc,xo=H6.exports=function(t){t=t.toLowerCase();var e=xo[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};xo.sha=gE;xo.sha1=IE;xo.sha224=qE;xo.sha256=q6;xo.sha384=eA;xo.sha512=G6;var m0=H6.exports,W6=St.Buffer,V6=b0.Transform,rA=Of.StringDecoder,nA=Lt;function Xr(t){V6.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}nA(Xr,V6);Xr.prototype.update=function(t,e,r){typeof t=="string"&&(t=W6.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};Xr.prototype.setAutoPadding=function(){};Xr.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Xr.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Xr.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Xr.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(o){n=o}finally{r(n)}};Xr.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Xr.prototype._finalOrDigest=function(t){var e=this.__final()||W6.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Xr.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new rA(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var ki=Xr,iA=Lt,oA=y0,sA=g0,aA=m0,z6=ki;function Oc(t){z6.call(this,"digest"),this._hash=t}iA(Oc,z6);Oc.prototype._update=function(t){this._hash.update(t)};Oc.prototype._final=function(){return this._hash.digest()};var $n=function(t){return t=t.toLowerCase(),t==="md5"?new oA:t==="rmd160"||t==="ripemd160"?new sA:new Oc(aA(t))},uA=Lt,ao=St.Buffer,$6=ki,fA=ao.alloc(128),rs=64;function Bc(t,e){$6.call(this,"digest"),typeof e=="string"&&(e=ao.from(e)),this._alg=t,this._key=e,e.length>rs?e=t(e):e.length<rs&&(e=ao.concat([e,fA],rs));for(var r=this._ipad=ao.allocUnsafe(rs),n=this._opad=ao.allocUnsafe(rs),o=0;o<rs;o++)r[o]=e[o]^54,n[o]=e[o]^92;this._hash=[r]}uA(Bc,$6);Bc.prototype._update=function(t){this._hash.push(t)};Bc.prototype._final=function(){var t=this._alg(ao.concat(this._hash));return this._alg(ao.concat([this._opad,t]))};var cA=Bc,hA=y0,X6=function(t){return new hA().update(t).digest()},lA=Lt,pA=cA,Y6=ki,Ia=St.Buffer,dA=X6,hd=g0,ld=m0,bA=Ia.alloc(128);function Da(t,e){Y6.call(this,"digest"),typeof e=="string"&&(e=Ia.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new hd:ld(t);e=n.update(e).digest()}else e.length<r&&(e=Ia.concat([e,bA],r));for(var o=this._ipad=Ia.allocUnsafe(r),i=this._opad=Ia.allocUnsafe(r),s=0;s<r;s++)o[s]=e[s]^54,i[s]=e[s]^92;this._hash=t==="rmd160"?new hd:ld(t),this._hash.update(o)}lA(Da,Y6);Da.prototype._update=function(t){this._hash.update(t)};Da.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new hd:ld(this._alg);return e.update(this._opad).update(t).digest()};var $s=function(t,e){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new Da("rmd160",e):t==="md5"?new pA(dA,e):new Da(t,e)};Object.defineProperty(pc,"__esModule",{value:!0});const rl=$n,yA=$s;function gA(t){const e=rl("sha256").update(t).digest();try{return rl("rmd160").update(e).digest()}catch{return rl("ripemd160").update(e).digest()}}pc.hash160=gA;function mA(t,e){return yA("sha512",t).update(e).digest()}pc.hmacSHA512=mA;var Eu=St.Buffer;function vA(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),f=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=Eu.from(y)),!Eu.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var v=0,A=0,T=0,P=y.length;T!==P&&y[T]===0;)T++,v++;for(var C=(P-T)*u+1>>>0,D=new Uint8Array(C);T!==P;){for(var F=y[T],V=0,U=C-1;(F!==0||V<A)&&U!==-1;U--,V++)F+=256*D[U]>>>0,D[U]=F%s>>>0,F=F/s>>>0;if(F!==0)throw new Error("Non-zero carry");A=V,T++}for(var J=C-A;J!==C&&D[J]===0;)J++;for(var tt=a.repeat(v);J<C;++J)tt+=t.charAt(D[J]);return tt}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return Eu.alloc(0);for(var v=0,A=0,T=0;y[v]===a;)A++,v++;for(var P=(y.length-v)*f+1>>>0,C=new Uint8Array(P);y[v];){var D=e[y.charCodeAt(v)];if(D===255)return;for(var F=0,V=P-1;(D!==0||F<T)&&V!==-1;V--,F++)D+=s*C[V]>>>0,C[V]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");T=F,v++}for(var U=P-T;U!==P&&C[U]===0;)U++;var J=Eu.allocUnsafe(A+(P-U));J.fill(0,0,A);for(var tt=A;U!==P;)J[tt++]=C[U++];return J}function p(y){var v=l(y);if(v)return v;throw new Error("Non-base"+s+" character")}return{encode:c,decodeUnsafe:l,decode:p}}var wA=vA,_A=wA,SA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",EA=_A(SA),nl=EA,AA=St.Buffer,kA=function(t){function e(i){var s=t(i);return nl.encode(AA.concat([i,s],i.length+4))}function r(i){var s=i.slice(0,-4),a=i.slice(-4),f=t(s);if(!(a[0]^f[0]|a[1]^f[1]|a[2]^f[2]|a[3]^f[3]))return s}function n(i){var s=nl.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=nl.decode(i),a=r(s);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}},Ty=$n,IA=kA;function TA(t){var e=Ty("sha256").update(t).digest();return Ty("sha256").update(e).digest()}var No=IA(TA),Z6={exports:{}};(function(t){(function(e,r){function n(m,O){if(!m)throw new Error(O||"Assertion failed")}function o(m,O){m.super_=O;var h=function(){};h.prototype=O.prototype,m.prototype=new h,m.prototype.constructor=m}function i(m,O,h){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((O==="le"||O==="be")&&(h=O,O=10),this._init(m||0,O||10,h||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=gn.Buffer}catch{}i.isBN=function(m){return m instanceof i?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===i.wordSize&&Array.isArray(m.words)},i.max=function(m,O){return m.cmp(O)>0?m:O},i.min=function(m,O){return m.cmp(O)<0?m:O},i.prototype._init=function(m,O,h){if(typeof m=="number")return this._initNumber(m,O,h);if(typeof m=="object")return this._initArray(m,O,h);O==="hex"&&(O=16),n(O===(O|0)&&O>=2&&O<=36),m=m.toString().replace(/\s+/g,"");var g=0;m[0]==="-"&&(g++,this.negative=1),g<m.length&&(O===16?this._parseHex(m,g,h):(this._parseBase(m,O,g),h==="le"&&this._initArray(this.toArray(),O,h)))},i.prototype._initNumber=function(m,O,h){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(n(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),O,h)},i.prototype._initArray=function(m,O,h){if(n(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var _,M,R=0;if(h==="be")for(g=m.length-1,_=0;g>=0;g-=3)M=m[g]|m[g-1]<<8|m[g-2]<<16,this.words[_]|=M<<R&67108863,this.words[_+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(h==="le")for(g=0,_=0;g<m.length;g+=3)M=m[g]|m[g+1]<<8|m[g+2]<<16,this.words[_]|=M<<R&67108863,this.words[_+1]=M>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this.strip()};function a(m,O){var h=m.charCodeAt(O);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function f(m,O,h){var g=a(m,h);return h-1>=O&&(g|=a(m,h-1)<<4),g}i.prototype._parseHex=function(m,O,h){this.length=Math.ceil((m.length-O)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var _=0,M=0,R;if(h==="be")for(g=m.length-1;g>=O;g-=2)R=f(m,O,g)<<_,this.words[M]|=R&67108863,_>=18?(_-=18,M+=1,this.words[M]|=R>>>26):_+=8;else{var x=m.length-O;for(g=x%2===0?O+1:O;g<m.length;g+=2)R=f(m,O,g)<<_,this.words[M]|=R&67108863,_>=18?(_-=18,M+=1,this.words[M]|=R>>>26):_+=8}this.strip()};function u(m,O,h,g){for(var _=0,M=Math.min(m.length,h),R=O;R<M;R++){var x=m.charCodeAt(R)-48;_*=g,x>=49?_+=x-49+10:x>=17?_+=x-17+10:_+=x}return _}i.prototype._parseBase=function(m,O,h){this.words=[0],this.length=1;for(var g=0,_=1;_<=67108863;_*=O)g++;g--,_=_/O|0;for(var M=m.length-h,R=M%g,x=Math.min(M,M-R)+h,b=0,E=h;E<x;E+=g)b=u(m,E,E+g,O),this.imuln(_),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(R!==0){var S=1;for(b=u(m,E,m.length,O),E=0;E<R;E++)S*=O;this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},i.prototype.copy=function(m){m.words=new Array(this.length);for(var O=0;O<this.length;O++)m.words[O]=this.words[O];m.length=this.length,m.negative=this.negative,m.red=this.red},i.prototype.clone=function(){var m=new i(null);return this.copy(m),m},i.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(m,O){m=m||10,O=O|0||1;var h;if(m===16||m==="hex"){h="";for(var g=0,_=0,M=0;M<this.length;M++){var R=this.words[M],x=((R<<g|_)&16777215).toString(16);_=R>>>24-g&16777215,_!==0||M!==this.length-1?h=c[6-x.length]+x+h:h=x+h,g+=2,g>=26&&(g-=26,M--)}for(_!==0&&(h=_.toString(16)+h);h.length%O!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(m===(m|0)&&m>=2&&m<=36){var b=l[m],E=p[m];h="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(E).toString(m);S=S.idivn(E),S.isZero()?h=B+h:h=c[b-B.length]+B+h}for(this.isZero()&&(h="0"+h);h.length%O!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(m,O){return n(typeof s<"u"),this.toArrayLike(s,m,O)},i.prototype.toArray=function(m,O){return this.toArrayLike(Array,m,O)},i.prototype.toArrayLike=function(m,O,h){var g=this.byteLength(),_=h||Math.max(1,g);n(g<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0"),this.strip();var M=O==="le",R=new m(_),x,b,E=this.clone();if(M){for(b=0;!E.isZero();b++)x=E.andln(255),E.iushrn(8),R[b]=x;for(;b<_;b++)R[b]=0}else{for(b=0;b<_-g;b++)R[b]=0;for(b=0;!E.isZero();b++)x=E.andln(255),E.iushrn(8),R[_-b-1]=x}return R},Math.clz32?i.prototype._countBits=function(m){return 32-Math.clz32(m)}:i.prototype._countBits=function(m){var O=m,h=0;return O>=4096&&(h+=13,O>>>=13),O>=64&&(h+=7,O>>>=7),O>=8&&(h+=4,O>>>=4),O>=2&&(h+=2,O>>>=2),h+O},i.prototype._zeroBits=function(m){if(m===0)return 26;var O=m,h=0;return O&8191||(h+=13,O>>>=13),O&127||(h+=7,O>>>=7),O&15||(h+=4,O>>>=4),O&3||(h+=2,O>>>=2),O&1||h++,h},i.prototype.bitLength=function(){var m=this.words[this.length-1],O=this._countBits(m);return(this.length-1)*26+O};function y(m){for(var O=new Array(m.bitLength()),h=0;h<O.length;h++){var g=h/26|0,_=h%26;O[h]=(m.words[g]&1<<_)>>>_}return O}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,O=0;O<this.length;O++){var h=this._zeroBits(this.words[O]);if(m+=h,h!==26)break}return m},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},i.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var O=0;O<m.length;O++)this.words[O]=this.words[O]|m.words[O];return this.strip()},i.prototype.ior=function(m){return n((this.negative|m.negative)===0),this.iuor(m)},i.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},i.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},i.prototype.iuand=function(m){var O;this.length>m.length?O=m:O=this;for(var h=0;h<O.length;h++)this.words[h]=this.words[h]&m.words[h];return this.length=O.length,this.strip()},i.prototype.iand=function(m){return n((this.negative|m.negative)===0),this.iuand(m)},i.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},i.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},i.prototype.iuxor=function(m){var O,h;this.length>m.length?(O=this,h=m):(O=m,h=this);for(var g=0;g<h.length;g++)this.words[g]=O.words[g]^h.words[g];if(this!==O)for(;g<O.length;g++)this.words[g]=O.words[g];return this.length=O.length,this.strip()},i.prototype.ixor=function(m){return n((this.negative|m.negative)===0),this.iuxor(m)},i.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},i.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},i.prototype.inotn=function(m){n(typeof m=="number"&&m>=0);var O=Math.ceil(m/26)|0,h=m%26;this._expand(O),h>0&&O--;for(var g=0;g<O;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(m){return this.clone().inotn(m)},i.prototype.setn=function(m,O){n(typeof m=="number"&&m>=0);var h=m/26|0,g=m%26;return this._expand(h+1),O?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(m){var O;if(this.negative!==0&&m.negative===0)return this.negative=0,O=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,O=this.isub(m),m.negative=1,O._normSign();var h,g;this.length>m.length?(h=this,g=m):(h=m,g=this);for(var _=0,M=0;M<g.length;M++)O=(h.words[M]|0)+(g.words[M]|0)+_,this.words[M]=O&67108863,_=O>>>26;for(;_!==0&&M<h.length;M++)O=(h.words[M]|0)+_,this.words[M]=O&67108863,_=O>>>26;if(this.length=h.length,_!==0)this.words[this.length]=_,this.length++;else if(h!==this)for(;M<h.length;M++)this.words[M]=h.words[M];return this},i.prototype.add=function(m){var O;return m.negative!==0&&this.negative===0?(m.negative=0,O=this.sub(m),m.negative^=1,O):m.negative===0&&this.negative!==0?(this.negative=0,O=m.sub(this),this.negative=1,O):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},i.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var O=this.iadd(m);return m.negative=1,O._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var h=this.cmp(m);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,_;h>0?(g=this,_=m):(g=m,_=this);for(var M=0,R=0;R<_.length;R++)O=(g.words[R]|0)-(_.words[R]|0)+M,M=O>>26,this.words[R]=O&67108863;for(;M!==0&&R<g.length;R++)O=(g.words[R]|0)+M,M=O>>26,this.words[R]=O&67108863;if(M===0&&R<g.length&&g!==this)for(;R<g.length;R++)this.words[R]=g.words[R];return this.length=Math.max(this.length,R),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(m){return this.clone().isub(m)};function v(m,O,h){h.negative=O.negative^m.negative;var g=m.length+O.length|0;h.length=g,g=g-1|0;var _=m.words[0]|0,M=O.words[0]|0,R=_*M,x=R&67108863,b=R/67108864|0;h.words[0]=x;for(var E=1;E<g;E++){for(var S=b>>>26,B=b&67108863,$=Math.min(E,O.length-1),et=Math.max(0,E-m.length+1);et<=$;et++){var ot=E-et|0;_=m.words[ot]|0,M=O.words[et]|0,R=_*M+B,S+=R/67108864|0,B=R&67108863}h.words[E]=B|0,b=S|0}return b!==0?h.words[E]=b|0:h.length--,h.strip()}var A=function(m,O,h){var g=m.words,_=O.words,M=h.words,R=0,x,b,E,S=g[0]|0,B=S&8191,$=S>>>13,et=g[1]|0,ot=et&8191,Z=et>>>13,q=g[2]|0,L=q&8191,Y=q>>>13,rt=g[3]|0,H=rt&8191,K=rt>>>13,it=g[4]|0,at=it&8191,yt=it>>>13,dt=g[5]|0,lt=dt&8191,At=dt>>>13,ut=g[6]|0,_t=ut&8191,It=ut>>>13,bt=g[7]|0,wt=bt&8191,I=bt>>>13,N=g[8]|0,W=N&8191,d=N>>>13,w=g[9]|0,k=w&8191,j=w>>>13,G=_[0]|0,X=G&8191,nt=G>>>13,ct=_[1]|0,ft=ct&8191,pt=ct>>>13,mt=_[2]|0,ht=mt&8191,zt=mt>>>13,te=_[3]|0,Ot=te&8191,he=te>>>13,le=_[4]|0,Bt=le&8191,pe=le>>>13,de=_[5]|0,Mt=de&8191,be=de>>>13,ye=_[6]|0,Pt=ye&8191,ge=ye>>>13,me=_[7]|0,xt=me&8191,ve=me>>>13,we=_[8]|0,Nt=we&8191,_e=we>>>13,Se=_[9]|0,Rt=Se&8191,Ee=Se>>>13;h.negative=m.negative^O.negative,h.length=19,x=Math.imul(B,X),b=Math.imul(B,nt),b=b+Math.imul($,X)|0,E=Math.imul($,nt);var ae=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(ae>>>26)|0,ae&=67108863,x=Math.imul(ot,X),b=Math.imul(ot,nt),b=b+Math.imul(Z,X)|0,E=Math.imul(Z,nt),x=x+Math.imul(B,ft)|0,b=b+Math.imul(B,pt)|0,b=b+Math.imul($,ft)|0,E=E+Math.imul($,pt)|0;var ue=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(ue>>>26)|0,ue&=67108863,x=Math.imul(L,X),b=Math.imul(L,nt),b=b+Math.imul(Y,X)|0,E=Math.imul(Y,nt),x=x+Math.imul(ot,ft)|0,b=b+Math.imul(ot,pt)|0,b=b+Math.imul(Z,ft)|0,E=E+Math.imul(Z,pt)|0,x=x+Math.imul(B,ht)|0,b=b+Math.imul(B,zt)|0,b=b+Math.imul($,ht)|0,E=E+Math.imul($,zt)|0;var Mi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,x=Math.imul(H,X),b=Math.imul(H,nt),b=b+Math.imul(K,X)|0,E=Math.imul(K,nt),x=x+Math.imul(L,ft)|0,b=b+Math.imul(L,pt)|0,b=b+Math.imul(Y,ft)|0,E=E+Math.imul(Y,pt)|0,x=x+Math.imul(ot,ht)|0,b=b+Math.imul(ot,zt)|0,b=b+Math.imul(Z,ht)|0,E=E+Math.imul(Z,zt)|0,x=x+Math.imul(B,Ot)|0,b=b+Math.imul(B,he)|0,b=b+Math.imul($,Ot)|0,E=E+Math.imul($,he)|0;var Pi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,x=Math.imul(at,X),b=Math.imul(at,nt),b=b+Math.imul(yt,X)|0,E=Math.imul(yt,nt),x=x+Math.imul(H,ft)|0,b=b+Math.imul(H,pt)|0,b=b+Math.imul(K,ft)|0,E=E+Math.imul(K,pt)|0,x=x+Math.imul(L,ht)|0,b=b+Math.imul(L,zt)|0,b=b+Math.imul(Y,ht)|0,E=E+Math.imul(Y,zt)|0,x=x+Math.imul(ot,Ot)|0,b=b+Math.imul(ot,he)|0,b=b+Math.imul(Z,Ot)|0,E=E+Math.imul(Z,he)|0,x=x+Math.imul(B,Bt)|0,b=b+Math.imul(B,pe)|0,b=b+Math.imul($,Bt)|0,E=E+Math.imul($,pe)|0;var xi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(xi>>>26)|0,xi&=67108863,x=Math.imul(lt,X),b=Math.imul(lt,nt),b=b+Math.imul(At,X)|0,E=Math.imul(At,nt),x=x+Math.imul(at,ft)|0,b=b+Math.imul(at,pt)|0,b=b+Math.imul(yt,ft)|0,E=E+Math.imul(yt,pt)|0,x=x+Math.imul(H,ht)|0,b=b+Math.imul(H,zt)|0,b=b+Math.imul(K,ht)|0,E=E+Math.imul(K,zt)|0,x=x+Math.imul(L,Ot)|0,b=b+Math.imul(L,he)|0,b=b+Math.imul(Y,Ot)|0,E=E+Math.imul(Y,he)|0,x=x+Math.imul(ot,Bt)|0,b=b+Math.imul(ot,pe)|0,b=b+Math.imul(Z,Bt)|0,E=E+Math.imul(Z,pe)|0,x=x+Math.imul(B,Mt)|0,b=b+Math.imul(B,be)|0,b=b+Math.imul($,Mt)|0,E=E+Math.imul($,be)|0;var Ni=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,x=Math.imul(_t,X),b=Math.imul(_t,nt),b=b+Math.imul(It,X)|0,E=Math.imul(It,nt),x=x+Math.imul(lt,ft)|0,b=b+Math.imul(lt,pt)|0,b=b+Math.imul(At,ft)|0,E=E+Math.imul(At,pt)|0,x=x+Math.imul(at,ht)|0,b=b+Math.imul(at,zt)|0,b=b+Math.imul(yt,ht)|0,E=E+Math.imul(yt,zt)|0,x=x+Math.imul(H,Ot)|0,b=b+Math.imul(H,he)|0,b=b+Math.imul(K,Ot)|0,E=E+Math.imul(K,he)|0,x=x+Math.imul(L,Bt)|0,b=b+Math.imul(L,pe)|0,b=b+Math.imul(Y,Bt)|0,E=E+Math.imul(Y,pe)|0,x=x+Math.imul(ot,Mt)|0,b=b+Math.imul(ot,be)|0,b=b+Math.imul(Z,Mt)|0,E=E+Math.imul(Z,be)|0,x=x+Math.imul(B,Pt)|0,b=b+Math.imul(B,ge)|0,b=b+Math.imul($,Pt)|0,E=E+Math.imul($,ge)|0;var Ri=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,x=Math.imul(wt,X),b=Math.imul(wt,nt),b=b+Math.imul(I,X)|0,E=Math.imul(I,nt),x=x+Math.imul(_t,ft)|0,b=b+Math.imul(_t,pt)|0,b=b+Math.imul(It,ft)|0,E=E+Math.imul(It,pt)|0,x=x+Math.imul(lt,ht)|0,b=b+Math.imul(lt,zt)|0,b=b+Math.imul(At,ht)|0,E=E+Math.imul(At,zt)|0,x=x+Math.imul(at,Ot)|0,b=b+Math.imul(at,he)|0,b=b+Math.imul(yt,Ot)|0,E=E+Math.imul(yt,he)|0,x=x+Math.imul(H,Bt)|0,b=b+Math.imul(H,pe)|0,b=b+Math.imul(K,Bt)|0,E=E+Math.imul(K,pe)|0,x=x+Math.imul(L,Mt)|0,b=b+Math.imul(L,be)|0,b=b+Math.imul(Y,Mt)|0,E=E+Math.imul(Y,be)|0,x=x+Math.imul(ot,Pt)|0,b=b+Math.imul(ot,ge)|0,b=b+Math.imul(Z,Pt)|0,E=E+Math.imul(Z,ge)|0,x=x+Math.imul(B,xt)|0,b=b+Math.imul(B,ve)|0,b=b+Math.imul($,xt)|0,E=E+Math.imul($,ve)|0;var Ui=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,x=Math.imul(W,X),b=Math.imul(W,nt),b=b+Math.imul(d,X)|0,E=Math.imul(d,nt),x=x+Math.imul(wt,ft)|0,b=b+Math.imul(wt,pt)|0,b=b+Math.imul(I,ft)|0,E=E+Math.imul(I,pt)|0,x=x+Math.imul(_t,ht)|0,b=b+Math.imul(_t,zt)|0,b=b+Math.imul(It,ht)|0,E=E+Math.imul(It,zt)|0,x=x+Math.imul(lt,Ot)|0,b=b+Math.imul(lt,he)|0,b=b+Math.imul(At,Ot)|0,E=E+Math.imul(At,he)|0,x=x+Math.imul(at,Bt)|0,b=b+Math.imul(at,pe)|0,b=b+Math.imul(yt,Bt)|0,E=E+Math.imul(yt,pe)|0,x=x+Math.imul(H,Mt)|0,b=b+Math.imul(H,be)|0,b=b+Math.imul(K,Mt)|0,E=E+Math.imul(K,be)|0,x=x+Math.imul(L,Pt)|0,b=b+Math.imul(L,ge)|0,b=b+Math.imul(Y,Pt)|0,E=E+Math.imul(Y,ge)|0,x=x+Math.imul(ot,xt)|0,b=b+Math.imul(ot,ve)|0,b=b+Math.imul(Z,xt)|0,E=E+Math.imul(Z,ve)|0,x=x+Math.imul(B,Nt)|0,b=b+Math.imul(B,_e)|0,b=b+Math.imul($,Nt)|0,E=E+Math.imul($,_e)|0;var Ci=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,x=Math.imul(k,X),b=Math.imul(k,nt),b=b+Math.imul(j,X)|0,E=Math.imul(j,nt),x=x+Math.imul(W,ft)|0,b=b+Math.imul(W,pt)|0,b=b+Math.imul(d,ft)|0,E=E+Math.imul(d,pt)|0,x=x+Math.imul(wt,ht)|0,b=b+Math.imul(wt,zt)|0,b=b+Math.imul(I,ht)|0,E=E+Math.imul(I,zt)|0,x=x+Math.imul(_t,Ot)|0,b=b+Math.imul(_t,he)|0,b=b+Math.imul(It,Ot)|0,E=E+Math.imul(It,he)|0,x=x+Math.imul(lt,Bt)|0,b=b+Math.imul(lt,pe)|0,b=b+Math.imul(At,Bt)|0,E=E+Math.imul(At,pe)|0,x=x+Math.imul(at,Mt)|0,b=b+Math.imul(at,be)|0,b=b+Math.imul(yt,Mt)|0,E=E+Math.imul(yt,be)|0,x=x+Math.imul(H,Pt)|0,b=b+Math.imul(H,ge)|0,b=b+Math.imul(K,Pt)|0,E=E+Math.imul(K,ge)|0,x=x+Math.imul(L,xt)|0,b=b+Math.imul(L,ve)|0,b=b+Math.imul(Y,xt)|0,E=E+Math.imul(Y,ve)|0,x=x+Math.imul(ot,Nt)|0,b=b+Math.imul(ot,_e)|0,b=b+Math.imul(Z,Nt)|0,E=E+Math.imul(Z,_e)|0,x=x+Math.imul(B,Rt)|0,b=b+Math.imul(B,Ee)|0,b=b+Math.imul($,Rt)|0,E=E+Math.imul($,Ee)|0;var Hi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,x=Math.imul(k,ft),b=Math.imul(k,pt),b=b+Math.imul(j,ft)|0,E=Math.imul(j,pt),x=x+Math.imul(W,ht)|0,b=b+Math.imul(W,zt)|0,b=b+Math.imul(d,ht)|0,E=E+Math.imul(d,zt)|0,x=x+Math.imul(wt,Ot)|0,b=b+Math.imul(wt,he)|0,b=b+Math.imul(I,Ot)|0,E=E+Math.imul(I,he)|0,x=x+Math.imul(_t,Bt)|0,b=b+Math.imul(_t,pe)|0,b=b+Math.imul(It,Bt)|0,E=E+Math.imul(It,pe)|0,x=x+Math.imul(lt,Mt)|0,b=b+Math.imul(lt,be)|0,b=b+Math.imul(At,Mt)|0,E=E+Math.imul(At,be)|0,x=x+Math.imul(at,Pt)|0,b=b+Math.imul(at,ge)|0,b=b+Math.imul(yt,Pt)|0,E=E+Math.imul(yt,ge)|0,x=x+Math.imul(H,xt)|0,b=b+Math.imul(H,ve)|0,b=b+Math.imul(K,xt)|0,E=E+Math.imul(K,ve)|0,x=x+Math.imul(L,Nt)|0,b=b+Math.imul(L,_e)|0,b=b+Math.imul(Y,Nt)|0,E=E+Math.imul(Y,_e)|0,x=x+Math.imul(ot,Rt)|0,b=b+Math.imul(ot,Ee)|0,b=b+Math.imul(Z,Rt)|0,E=E+Math.imul(Z,Ee)|0;var ji=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(ji>>>26)|0,ji&=67108863,x=Math.imul(k,ht),b=Math.imul(k,zt),b=b+Math.imul(j,ht)|0,E=Math.imul(j,zt),x=x+Math.imul(W,Ot)|0,b=b+Math.imul(W,he)|0,b=b+Math.imul(d,Ot)|0,E=E+Math.imul(d,he)|0,x=x+Math.imul(wt,Bt)|0,b=b+Math.imul(wt,pe)|0,b=b+Math.imul(I,Bt)|0,E=E+Math.imul(I,pe)|0,x=x+Math.imul(_t,Mt)|0,b=b+Math.imul(_t,be)|0,b=b+Math.imul(It,Mt)|0,E=E+Math.imul(It,be)|0,x=x+Math.imul(lt,Pt)|0,b=b+Math.imul(lt,ge)|0,b=b+Math.imul(At,Pt)|0,E=E+Math.imul(At,ge)|0,x=x+Math.imul(at,xt)|0,b=b+Math.imul(at,ve)|0,b=b+Math.imul(yt,xt)|0,E=E+Math.imul(yt,ve)|0,x=x+Math.imul(H,Nt)|0,b=b+Math.imul(H,_e)|0,b=b+Math.imul(K,Nt)|0,E=E+Math.imul(K,_e)|0,x=x+Math.imul(L,Rt)|0,b=b+Math.imul(L,Ee)|0,b=b+Math.imul(Y,Rt)|0,E=E+Math.imul(Y,Ee)|0;var Li=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Li>>>26)|0,Li&=67108863,x=Math.imul(k,Ot),b=Math.imul(k,he),b=b+Math.imul(j,Ot)|0,E=Math.imul(j,he),x=x+Math.imul(W,Bt)|0,b=b+Math.imul(W,pe)|0,b=b+Math.imul(d,Bt)|0,E=E+Math.imul(d,pe)|0,x=x+Math.imul(wt,Mt)|0,b=b+Math.imul(wt,be)|0,b=b+Math.imul(I,Mt)|0,E=E+Math.imul(I,be)|0,x=x+Math.imul(_t,Pt)|0,b=b+Math.imul(_t,ge)|0,b=b+Math.imul(It,Pt)|0,E=E+Math.imul(It,ge)|0,x=x+Math.imul(lt,xt)|0,b=b+Math.imul(lt,ve)|0,b=b+Math.imul(At,xt)|0,E=E+Math.imul(At,ve)|0,x=x+Math.imul(at,Nt)|0,b=b+Math.imul(at,_e)|0,b=b+Math.imul(yt,Nt)|0,E=E+Math.imul(yt,_e)|0,x=x+Math.imul(H,Rt)|0,b=b+Math.imul(H,Ee)|0,b=b+Math.imul(K,Rt)|0,E=E+Math.imul(K,Ee)|0;var Di=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Di>>>26)|0,Di&=67108863,x=Math.imul(k,Bt),b=Math.imul(k,pe),b=b+Math.imul(j,Bt)|0,E=Math.imul(j,pe),x=x+Math.imul(W,Mt)|0,b=b+Math.imul(W,be)|0,b=b+Math.imul(d,Mt)|0,E=E+Math.imul(d,be)|0,x=x+Math.imul(wt,Pt)|0,b=b+Math.imul(wt,ge)|0,b=b+Math.imul(I,Pt)|0,E=E+Math.imul(I,ge)|0,x=x+Math.imul(_t,xt)|0,b=b+Math.imul(_t,ve)|0,b=b+Math.imul(It,xt)|0,E=E+Math.imul(It,ve)|0,x=x+Math.imul(lt,Nt)|0,b=b+Math.imul(lt,_e)|0,b=b+Math.imul(At,Nt)|0,E=E+Math.imul(At,_e)|0,x=x+Math.imul(at,Rt)|0,b=b+Math.imul(at,Ee)|0,b=b+Math.imul(yt,Rt)|0,E=E+Math.imul(yt,Ee)|0;var Ki=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,x=Math.imul(k,Mt),b=Math.imul(k,be),b=b+Math.imul(j,Mt)|0,E=Math.imul(j,be),x=x+Math.imul(W,Pt)|0,b=b+Math.imul(W,ge)|0,b=b+Math.imul(d,Pt)|0,E=E+Math.imul(d,ge)|0,x=x+Math.imul(wt,xt)|0,b=b+Math.imul(wt,ve)|0,b=b+Math.imul(I,xt)|0,E=E+Math.imul(I,ve)|0,x=x+Math.imul(_t,Nt)|0,b=b+Math.imul(_t,_e)|0,b=b+Math.imul(It,Nt)|0,E=E+Math.imul(It,_e)|0,x=x+Math.imul(lt,Rt)|0,b=b+Math.imul(lt,Ee)|0,b=b+Math.imul(At,Rt)|0,E=E+Math.imul(At,Ee)|0;var qi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(qi>>>26)|0,qi&=67108863,x=Math.imul(k,Pt),b=Math.imul(k,ge),b=b+Math.imul(j,Pt)|0,E=Math.imul(j,ge),x=x+Math.imul(W,xt)|0,b=b+Math.imul(W,ve)|0,b=b+Math.imul(d,xt)|0,E=E+Math.imul(d,ve)|0,x=x+Math.imul(wt,Nt)|0,b=b+Math.imul(wt,_e)|0,b=b+Math.imul(I,Nt)|0,E=E+Math.imul(I,_e)|0,x=x+Math.imul(_t,Rt)|0,b=b+Math.imul(_t,Ee)|0,b=b+Math.imul(It,Rt)|0,E=E+Math.imul(It,Ee)|0;var Fi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,x=Math.imul(k,xt),b=Math.imul(k,ve),b=b+Math.imul(j,xt)|0,E=Math.imul(j,ve),x=x+Math.imul(W,Nt)|0,b=b+Math.imul(W,_e)|0,b=b+Math.imul(d,Nt)|0,E=E+Math.imul(d,_e)|0,x=x+Math.imul(wt,Rt)|0,b=b+Math.imul(wt,Ee)|0,b=b+Math.imul(I,Rt)|0,E=E+Math.imul(I,Ee)|0;var Gi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,x=Math.imul(k,Nt),b=Math.imul(k,_e),b=b+Math.imul(j,Nt)|0,E=Math.imul(j,_e),x=x+Math.imul(W,Rt)|0,b=b+Math.imul(W,Ee)|0,b=b+Math.imul(d,Rt)|0,E=E+Math.imul(d,Ee)|0;var Wi=(R+x|0)+((b&8191)<<13)|0;R=(E+(b>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,x=Math.imul(k,Rt),b=Math.imul(k,Ee),b=b+Math.imul(j,Rt)|0,E=Math.imul(j,Ee);var Vi=(R+x|0)+((b&8191)<<13)|0;return R=(E+(b>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,M[0]=ae,M[1]=ue,M[2]=Mi,M[3]=Pi,M[4]=xi,M[5]=Ni,M[6]=Ri,M[7]=Ui,M[8]=Ci,M[9]=Hi,M[10]=ji,M[11]=Li,M[12]=Di,M[13]=Ki,M[14]=qi,M[15]=Fi,M[16]=Gi,M[17]=Wi,M[18]=Vi,R!==0&&(M[19]=R,h.length++),h};Math.imul||(A=v);function T(m,O,h){h.negative=O.negative^m.negative,h.length=m.length+O.length;for(var g=0,_=0,M=0;M<h.length-1;M++){var R=_;_=0;for(var x=g&67108863,b=Math.min(M,O.length-1),E=Math.max(0,M-m.length+1);E<=b;E++){var S=M-E,B=m.words[S]|0,$=O.words[E]|0,et=B*$,ot=et&67108863;R=R+(et/67108864|0)|0,ot=ot+x|0,x=ot&67108863,R=R+(ot>>>26)|0,_+=R>>>26,R&=67108863}h.words[M]=x,g=R,R=_}return g!==0?h.words[M]=g:h.length--,h.strip()}function P(m,O,h){var g=new C;return g.mulp(m,O,h)}i.prototype.mulTo=function(m,O){var h,g=this.length+m.length;return this.length===10&&m.length===10?h=A(this,m,O):g<63?h=v(this,m,O):g<1024?h=T(this,m,O):h=P(this,m,O),h};function C(m,O){this.x=m,this.y=O}C.prototype.makeRBT=function(m){for(var O=new Array(m),h=i.prototype._countBits(m)-1,g=0;g<m;g++)O[g]=this.revBin(g,h,m);return O},C.prototype.revBin=function(m,O,h){if(m===0||m===h-1)return m;for(var g=0,_=0;_<O;_++)g|=(m&1)<<O-_-1,m>>=1;return g},C.prototype.permute=function(m,O,h,g,_,M){for(var R=0;R<M;R++)g[R]=O[m[R]],_[R]=h[m[R]]},C.prototype.transform=function(m,O,h,g,_,M){this.permute(M,m,O,h,g,_);for(var R=1;R<_;R<<=1)for(var x=R<<1,b=Math.cos(2*Math.PI/x),E=Math.sin(2*Math.PI/x),S=0;S<_;S+=x)for(var B=b,$=E,et=0;et<R;et++){var ot=h[S+et],Z=g[S+et],q=h[S+et+R],L=g[S+et+R],Y=B*q-$*L;L=B*L+$*q,q=Y,h[S+et]=ot+q,g[S+et]=Z+L,h[S+et+R]=ot-q,g[S+et+R]=Z-L,et!==x&&(Y=b*B-E*$,$=b*$+E*B,B=Y)}},C.prototype.guessLen13b=function(m,O){var h=Math.max(O,m)|1,g=h&1,_=0;for(h=h/2|0;h;h=h>>>1)_++;return 1<<_+1+g},C.prototype.conjugate=function(m,O,h){if(!(h<=1))for(var g=0;g<h/2;g++){var _=m[g];m[g]=m[h-g-1],m[h-g-1]=_,_=O[g],O[g]=-O[h-g-1],O[h-g-1]=-_}},C.prototype.normalize13b=function(m,O){for(var h=0,g=0;g<O/2;g++){var _=Math.round(m[2*g+1]/O)*8192+Math.round(m[2*g]/O)+h;m[g]=_&67108863,_<67108864?h=0:h=_/67108864|0}return m},C.prototype.convert13b=function(m,O,h,g){for(var _=0,M=0;M<O;M++)_=_+(m[M]|0),h[2*M]=_&8191,_=_>>>13,h[2*M+1]=_&8191,_=_>>>13;for(M=2*O;M<g;++M)h[M]=0;n(_===0),n((_&-8192)===0)},C.prototype.stub=function(m){for(var O=new Array(m),h=0;h<m;h++)O[h]=0;return O},C.prototype.mulp=function(m,O,h){var g=2*this.guessLen13b(m.length,O.length),_=this.makeRBT(g),M=this.stub(g),R=new Array(g),x=new Array(g),b=new Array(g),E=new Array(g),S=new Array(g),B=new Array(g),$=h.words;$.length=g,this.convert13b(m.words,m.length,R,g),this.convert13b(O.words,O.length,E,g),this.transform(R,M,x,b,g,_),this.transform(E,M,S,B,g,_);for(var et=0;et<g;et++){var ot=x[et]*S[et]-b[et]*B[et];b[et]=x[et]*B[et]+b[et]*S[et],x[et]=ot}return this.conjugate(x,b,g),this.transform(x,b,$,M,g,_),this.conjugate($,M,g),this.normalize13b($,g),h.negative=m.negative^O.negative,h.length=m.length+O.length,h.strip()},i.prototype.mul=function(m){var O=new i(null);return O.words=new Array(this.length+m.length),this.mulTo(m,O)},i.prototype.mulf=function(m){var O=new i(null);return O.words=new Array(this.length+m.length),P(this,m,O)},i.prototype.imul=function(m){return this.clone().mulTo(m,this)},i.prototype.imuln=function(m){n(typeof m=="number"),n(m<67108864);for(var O=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*m,_=(g&67108863)+(O&67108863);O>>=26,O+=g/67108864|0,O+=_>>>26,this.words[h]=_&67108863}return O!==0&&(this.words[h]=O,this.length++),this},i.prototype.muln=function(m){return this.clone().imuln(m)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(m){var O=y(m);if(O.length===0)return new i(1);for(var h=this,g=0;g<O.length&&O[g]===0;g++,h=h.sqr());if(++g<O.length)for(var _=h.sqr();g<O.length;g++,_=_.sqr())O[g]!==0&&(h=h.mul(_));return h},i.prototype.iushln=function(m){n(typeof m=="number"&&m>=0);var O=m%26,h=(m-O)/26,g=67108863>>>26-O<<26-O,_;if(O!==0){var M=0;for(_=0;_<this.length;_++){var R=this.words[_]&g,x=(this.words[_]|0)-R<<O;this.words[_]=x|M,M=R>>>26-O}M&&(this.words[_]=M,this.length++)}if(h!==0){for(_=this.length-1;_>=0;_--)this.words[_+h]=this.words[_];for(_=0;_<h;_++)this.words[_]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(m){return n(this.negative===0),this.iushln(m)},i.prototype.iushrn=function(m,O,h){n(typeof m=="number"&&m>=0);var g;O?g=(O-O%26)/26:g=0;var _=m%26,M=Math.min((m-_)/26,this.length),R=67108863^67108863>>>_<<_,x=h;if(g-=M,g=Math.max(0,g),x){for(var b=0;b<M;b++)x.words[b]=this.words[b];x.length=M}if(M!==0)if(this.length>M)for(this.length-=M,b=0;b<this.length;b++)this.words[b]=this.words[b+M];else this.words[0]=0,this.length=1;var E=0;for(b=this.length-1;b>=0&&(E!==0||b>=g);b--){var S=this.words[b]|0;this.words[b]=E<<26-_|S>>>_,E=S&R}return x&&E!==0&&(x.words[x.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(m,O,h){return n(this.negative===0),this.iushrn(m,O,h)},i.prototype.shln=function(m){return this.clone().ishln(m)},i.prototype.ushln=function(m){return this.clone().iushln(m)},i.prototype.shrn=function(m){return this.clone().ishrn(m)},i.prototype.ushrn=function(m){return this.clone().iushrn(m)},i.prototype.testn=function(m){n(typeof m=="number"&&m>=0);var O=m%26,h=(m-O)/26,g=1<<O;if(this.length<=h)return!1;var _=this.words[h];return!!(_&g)},i.prototype.imaskn=function(m){n(typeof m=="number"&&m>=0);var O=m%26,h=(m-O)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(O!==0&&h++,this.length=Math.min(h,this.length),O!==0){var g=67108863^67108863>>>O<<O;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(m){return this.clone().imaskn(m)},i.prototype.iaddn=function(m){return n(typeof m=="number"),n(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},i.prototype._iaddn=function(m){this.words[0]+=m;for(var O=0;O<this.length&&this.words[O]>=67108864;O++)this.words[O]-=67108864,O===this.length-1?this.words[O+1]=1:this.words[O+1]++;return this.length=Math.max(this.length,O+1),this},i.prototype.isubn=function(m){if(n(typeof m=="number"),n(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var O=0;O<this.length&&this.words[O]<0;O++)this.words[O]+=67108864,this.words[O+1]-=1;return this.strip()},i.prototype.addn=function(m){return this.clone().iaddn(m)},i.prototype.subn=function(m){return this.clone().isubn(m)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(m,O,h){var g=m.length+h,_;this._expand(g);var M,R=0;for(_=0;_<m.length;_++){M=(this.words[_+h]|0)+R;var x=(m.words[_]|0)*O;M-=x&67108863,R=(M>>26)-(x/67108864|0),this.words[_+h]=M&67108863}for(;_<this.length-h;_++)M=(this.words[_+h]|0)+R,R=M>>26,this.words[_+h]=M&67108863;if(R===0)return this.strip();for(n(R===-1),R=0,_=0;_<this.length;_++)M=-(this.words[_]|0)+R,R=M>>26,this.words[_]=M&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(m,O){var h=this.length-m.length,g=this.clone(),_=m,M=_.words[_.length-1]|0,R=this._countBits(M);h=26-R,h!==0&&(_=_.ushln(h),g.iushln(h),M=_.words[_.length-1]|0);var x=g.length-_.length,b;if(O!=="mod"){b=new i(null),b.length=x+1,b.words=new Array(b.length);for(var E=0;E<b.length;E++)b.words[E]=0}var S=g.clone()._ishlnsubmul(_,1,x);S.negative===0&&(g=S,b&&(b.words[x]=1));for(var B=x-1;B>=0;B--){var $=(g.words[_.length+B]|0)*67108864+(g.words[_.length+B-1]|0);for($=Math.min($/M|0,67108863),g._ishlnsubmul(_,$,B);g.negative!==0;)$--,g.negative=0,g._ishlnsubmul(_,1,B),g.isZero()||(g.negative^=1);b&&(b.words[B]=$)}return b&&b.strip(),g.strip(),O!=="div"&&h!==0&&g.iushrn(h),{div:b||null,mod:g}},i.prototype.divmod=function(m,O,h){if(n(!m.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,_,M;return this.negative!==0&&m.negative===0?(M=this.neg().divmod(m,O),O!=="mod"&&(g=M.div.neg()),O!=="div"&&(_=M.mod.neg(),h&&_.negative!==0&&_.iadd(m)),{div:g,mod:_}):this.negative===0&&m.negative!==0?(M=this.divmod(m.neg(),O),O!=="mod"&&(g=M.div.neg()),{div:g,mod:M.mod}):this.negative&m.negative?(M=this.neg().divmod(m.neg(),O),O!=="div"&&(_=M.mod.neg(),h&&_.negative!==0&&_.isub(m)),{div:M.div,mod:_}):m.length>this.length||this.cmp(m)<0?{div:new i(0),mod:this}:m.length===1?O==="div"?{div:this.divn(m.words[0]),mod:null}:O==="mod"?{div:null,mod:new i(this.modn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new i(this.modn(m.words[0]))}:this._wordDiv(m,O)},i.prototype.div=function(m){return this.divmod(m,"div",!1).div},i.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},i.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},i.prototype.divRound=function(m){var O=this.divmod(m);if(O.mod.isZero())return O.div;var h=O.div.negative!==0?O.mod.isub(m):O.mod,g=m.ushrn(1),_=m.andln(1),M=h.cmp(g);return M<0||_===1&&M===0?O.div:O.div.negative!==0?O.div.isubn(1):O.div.iaddn(1)},i.prototype.modn=function(m){n(m<=67108863);for(var O=(1<<26)%m,h=0,g=this.length-1;g>=0;g--)h=(O*h+(this.words[g]|0))%m;return h},i.prototype.idivn=function(m){n(m<=67108863);for(var O=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+O*67108864;this.words[h]=g/m|0,O=g%m}return this.strip()},i.prototype.divn=function(m){return this.clone().idivn(m)},i.prototype.egcd=function(m){n(m.negative===0),n(!m.isZero());var O=this,h=m.clone();O.negative!==0?O=O.umod(m):O=O.clone();for(var g=new i(1),_=new i(0),M=new i(0),R=new i(1),x=0;O.isEven()&&h.isEven();)O.iushrn(1),h.iushrn(1),++x;for(var b=h.clone(),E=O.clone();!O.isZero();){for(var S=0,B=1;!(O.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(O.iushrn(S);S-- >0;)(g.isOdd()||_.isOdd())&&(g.iadd(b),_.isub(E)),g.iushrn(1),_.iushrn(1);for(var $=0,et=1;!(h.words[0]&et)&&$<26;++$,et<<=1);if($>0)for(h.iushrn($);$-- >0;)(M.isOdd()||R.isOdd())&&(M.iadd(b),R.isub(E)),M.iushrn(1),R.iushrn(1);O.cmp(h)>=0?(O.isub(h),g.isub(M),_.isub(R)):(h.isub(O),M.isub(g),R.isub(_))}return{a:M,b:R,gcd:h.iushln(x)}},i.prototype._invmp=function(m){n(m.negative===0),n(!m.isZero());var O=this,h=m.clone();O.negative!==0?O=O.umod(m):O=O.clone();for(var g=new i(1),_=new i(0),M=h.clone();O.cmpn(1)>0&&h.cmpn(1)>0;){for(var R=0,x=1;!(O.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(O.iushrn(R);R-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);for(var b=0,E=1;!(h.words[0]&E)&&b<26;++b,E<<=1);if(b>0)for(h.iushrn(b);b-- >0;)_.isOdd()&&_.iadd(M),_.iushrn(1);O.cmp(h)>=0?(O.isub(h),g.isub(_)):(h.isub(O),_.isub(g))}var S;return O.cmpn(1)===0?S=g:S=_,S.cmpn(0)<0&&S.iadd(m),S},i.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var O=this.clone(),h=m.clone();O.negative=0,h.negative=0;for(var g=0;O.isEven()&&h.isEven();g++)O.iushrn(1),h.iushrn(1);do{for(;O.isEven();)O.iushrn(1);for(;h.isEven();)h.iushrn(1);var _=O.cmp(h);if(_<0){var M=O;O=h,h=M}else if(_===0||h.cmpn(1)===0)break;O.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(m){return this.egcd(m).a.umod(m)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(m){return this.words[0]&m},i.prototype.bincn=function(m){n(typeof m=="number");var O=m%26,h=(m-O)/26,g=1<<O;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var _=g,M=h;_!==0&&M<this.length;M++){var R=this.words[M]|0;R+=_,_=R>>>26,R&=67108863,this.words[M]=R}return _!==0&&(this.words[M]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(m){var O=m<0;if(this.negative!==0&&!O)return-1;if(this.negative===0&&O)return 1;this.strip();var h;if(this.length>1)h=1;else{O&&(m=-m),n(m<=67108863,"Number is too big");var g=this.words[0]|0;h=g===m?0:g<m?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var O=this.ucmp(m);return this.negative!==0?-O|0:O},i.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var O=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,_=m.words[h]|0;if(g!==_){g<_?O=-1:g>_&&(O=1);break}}return O},i.prototype.gtn=function(m){return this.cmpn(m)===1},i.prototype.gt=function(m){return this.cmp(m)===1},i.prototype.gten=function(m){return this.cmpn(m)>=0},i.prototype.gte=function(m){return this.cmp(m)>=0},i.prototype.ltn=function(m){return this.cmpn(m)===-1},i.prototype.lt=function(m){return this.cmp(m)===-1},i.prototype.lten=function(m){return this.cmpn(m)<=0},i.prototype.lte=function(m){return this.cmp(m)<=0},i.prototype.eqn=function(m){return this.cmpn(m)===0},i.prototype.eq=function(m){return this.cmp(m)===0},i.red=function(m){return new Q(m)},i.prototype.toRed=function(m){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(m){return this.red=m,this},i.prototype.forceRed=function(m){return n(!this.red,"Already a number in reduction context"),this._forceRed(m)},i.prototype.redAdd=function(m){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},i.prototype.redIAdd=function(m){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},i.prototype.redSub=function(m){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},i.prototype.redISub=function(m){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},i.prototype.redShl=function(m){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},i.prototype.redMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},i.prototype.redIMul=function(m){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(m){return n(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var D={k256:null,p224:null,p192:null,p25519:null};function F(m,O){this.name=m,this.p=new i(O,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var m=new i(null);return m.words=new Array(Math.ceil(this.n/13)),m},F.prototype.ireduce=function(m){var O=m,h;do this.split(O,this.tmp),O=this.imulK(O),O=O.iadd(this.tmp),h=O.bitLength();while(h>this.n);var g=h<this.n?-1:O.ucmp(this.p);return g===0?(O.words[0]=0,O.length=1):g>0?O.isub(this.p):O.strip!==void 0?O.strip():O._strip(),O},F.prototype.split=function(m,O){m.iushrn(this.n,0,O)},F.prototype.imulK=function(m){return m.imul(this.k)};function V(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(V,F),V.prototype.split=function(m,O){for(var h=4194303,g=Math.min(m.length,9),_=0;_<g;_++)O.words[_]=m.words[_];if(O.length=g,m.length<=9){m.words[0]=0,m.length=1;return}var M=m.words[9];for(O.words[O.length++]=M&h,_=10;_<m.length;_++){var R=m.words[_]|0;m.words[_-10]=(R&h)<<4|M>>>22,M=R}M>>>=22,m.words[_-10]=M,M===0&&m.length>10?m.length-=10:m.length-=9},V.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var O=0,h=0;h<m.length;h++){var g=m.words[h]|0;O+=g*977,m.words[h]=O&67108863,O=g*64+(O/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function U(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(U,F);function J(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(J,F);function tt(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(tt,F),tt.prototype.imulK=function(m){for(var O=0,h=0;h<m.length;h++){var g=(m.words[h]|0)*19+O,_=g&67108863;g>>>=26,m.words[h]=_,O=g}return O!==0&&(m.words[m.length++]=O),m},i._prime=function(m){if(D[m])return D[m];var O;if(m==="k256")O=new V;else if(m==="p224")O=new U;else if(m==="p192")O=new J;else if(m==="p25519")O=new tt;else throw new Error("Unknown prime "+m);return D[m]=O,O};function Q(m){if(typeof m=="string"){var O=i._prime(m);this.m=O.p,this.prime=O}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}Q.prototype._verify1=function(m){n(m.negative===0,"red works only with positives"),n(m.red,"red works only with red numbers")},Q.prototype._verify2=function(m,O){n((m.negative|O.negative)===0,"red works only with positives"),n(m.red&&m.red===O.red,"red works only with red numbers")},Q.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):m.umod(this.m)._forceRed(this)},Q.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},Q.prototype.add=function(m,O){this._verify2(m,O);var h=m.add(O);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},Q.prototype.iadd=function(m,O){this._verify2(m,O);var h=m.iadd(O);return h.cmp(this.m)>=0&&h.isub(this.m),h},Q.prototype.sub=function(m,O){this._verify2(m,O);var h=m.sub(O);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},Q.prototype.isub=function(m,O){this._verify2(m,O);var h=m.isub(O);return h.cmpn(0)<0&&h.iadd(this.m),h},Q.prototype.shl=function(m,O){return this._verify1(m),this.imod(m.ushln(O))},Q.prototype.imul=function(m,O){return this._verify2(m,O),this.imod(m.imul(O))},Q.prototype.mul=function(m,O){return this._verify2(m,O),this.imod(m.mul(O))},Q.prototype.isqr=function(m){return this.imul(m,m.clone())},Q.prototype.sqr=function(m){return this.mul(m,m)},Q.prototype.sqrt=function(m){if(m.isZero())return m.clone();var O=this.m.andln(3);if(n(O%2===1),O===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(m,h)}for(var g=this.m.subn(1),_=0;!g.isZero()&&g.andln(1)===0;)_++,g.iushrn(1);n(!g.isZero());var M=new i(1).toRed(this),R=M.redNeg(),x=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,x).cmp(R)!==0;)b.redIAdd(R);for(var E=this.pow(b,g),S=this.pow(m,g.addn(1).iushrn(1)),B=this.pow(m,g),$=_;B.cmp(M)!==0;){for(var et=B,ot=0;et.cmp(M)!==0;ot++)et=et.redSqr();n(ot<$);var Z=this.pow(E,new i(1).iushln($-ot-1));S=S.redMul(Z),E=Z.redSqr(),B=B.redMul(E),$=ot}return S},Q.prototype.invm=function(m){var O=m._invmp(this.m);return O.negative!==0?(O.negative=0,this.imod(O).redNeg()):this.imod(O)},Q.prototype.pow=function(m,O){if(O.isZero())return new i(1).toRed(this);if(O.cmpn(1)===0)return m.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=m;for(var _=2;_<g.length;_++)g[_]=this.mul(g[_-1],m);var M=g[0],R=0,x=0,b=O.bitLength()%26;for(b===0&&(b=26),_=O.length-1;_>=0;_--){for(var E=O.words[_],S=b-1;S>=0;S--){var B=E>>S&1;if(M!==g[0]&&(M=this.sqr(M)),B===0&&R===0){x=0;continue}R<<=1,R|=B,x++,!(x!==h&&(_!==0||S!==0))&&(M=this.mul(M,g[R]),x=0,R=0)}b=26}return M},Q.prototype.convertTo=function(m){var O=m.umod(this.m);return O===m?O.clone():O},Q.prototype.convertFrom=function(m){var O=m.clone();return O.red=null,O},i.mont=function(m){return new st(m)};function st(m){Q.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(st,Q),st.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},st.prototype.convertFrom=function(m){var O=this.imod(m.mul(this.rinv));return O.red=null,O},st.prototype.imul=function(m,O){if(m.isZero()||O.isZero())return m.words[0]=0,m.length=1,m;var h=m.imul(O),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(g).iushrn(this.shift),M=_;return _.cmp(this.m)>=0?M=_.isub(this.m):_.cmpn(0)<0&&(M=_.iadd(this.m)),M._forceRed(this)},st.prototype.mul=function(m,O){if(m.isZero()||O.isZero())return new i(0)._forceRed(this);var h=m.mul(O),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=h.isub(g).iushrn(this.shift),M=_;return _.cmp(this.m)>=0?M=_.isub(this.m):_.cmpn(0)<0&&(M=_.iadd(this.m)),M._forceRed(this)},st.prototype.invm=function(m){var O=this.imod(m._invmp(this.m).mul(this.r2));return O._forceRed(this)}})(t,Gt)})(Z6);var Pe=Z6.exports,Oy={};const OA="elliptic",BA="6.5.4",MA="EC cryptography",PA="lib/elliptic.js",xA=["lib"],NA={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},RA={type:"git",url:"git@github.com:indutny/elliptic"},UA=["EC","Elliptic","curve","Cryptography"],CA="Fedor Indutny <fedor@indutny.com>",HA="MIT",jA={url:"https://github.com/indutny/elliptic/issues"},LA="https://github.com/indutny/elliptic",DA={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},KA={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},qA={name:OA,version:BA,description:MA,main:PA,files:xA,scripts:NA,repository:RA,keywords:UA,author:CA,license:HA,bugs:jA,homepage:LA,devDependencies:DA,dependencies:KA};var Ir={},Lr=J6;function J6(t,e){if(!t)throw new Error(e||"Assertion failed")}J6.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var v0={};(function(t){var e=t;function r(i,s){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var f=0;f<i.length;f++)a[f]=i[f]|0;return a}if(s==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var f=0;f<i.length;f+=2)a.push(parseInt(i[f]+i[f+1],16))}else for(var f=0;f<i.length;f++){var u=i.charCodeAt(f),c=u>>8,l=u&255;c?a.push(c,l):a.push(l)}return a}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var s="",a=0;a<i.length;a++)s+=n(i[a].toString(16));return s}e.toHex=o,e.encode=function(i,s){return s==="hex"?o(i):i}})(v0);(function(t){var e=t,r=Pe,n=Lr,o=v0;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(c,l,p){var y=new Array(Math.max(c.bitLength(),p)+1);y.fill(0);for(var v=1<<l+1,A=c.clone(),T=0;T<y.length;T++){var P,C=A.andln(v-1);A.isOdd()?(C>(v>>1)-1?P=(v>>1)-C:P=C,A.isubn(P)):P=0,y[T]=P,A.iushrn(1)}return y}e.getNAF=i;function s(c,l){var p=[[],[]];c=c.clone(),l=l.clone();for(var y=0,v=0,A;c.cmpn(-y)>0||l.cmpn(-v)>0;){var T=c.andln(3)+y&3,P=l.andln(3)+v&3;T===3&&(T=-1),P===3&&(P=-1);var C;T&1?(A=c.andln(7)+y&7,(A===3||A===5)&&P===2?C=-T:C=T):C=0,p[0].push(C);var D;P&1?(A=l.andln(7)+v&7,(A===3||A===5)&&T===2?D=-P:D=P):D=0,p[1].push(D),2*y===C+1&&(y=1-y),2*v===D+1&&(v=1-v),c.iushrn(1),l.iushrn(1)}return p}e.getJSF=s;function a(c,l,p){var y="_"+l;c.prototype[l]=function(){return this[y]!==void 0?this[y]:this[y]=p.call(this)}}e.cachedProperty=a;function f(c){return typeof c=="string"?e.toArray(c,"hex"):c}e.parseBytes=f;function u(c){return new r(c,"hex","le")}e.intFromLE=u})(Ir);var Au={exports:{}},Ut={},pd={exports:{}},il=65536,FA=4294967295;function GA(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var WA=St.Buffer,Mf=Gt.crypto||Gt.msCrypto;Mf&&Mf.getRandomValues?pd.exports=VA:pd.exports=GA;function VA(t,e){if(t>FA)throw new RangeError("requested too many random bytes");var r=WA.allocUnsafe(t);if(t>0)if(t>il)for(var n=0;n<t;n+=il)Mf.getRandomValues(r.slice(n,n+il));else Mf.getRandomValues(r);return typeof e=="function"?z.process.nextTick(function(){e(null,r)}):r}var Xn=pd.exports;const zA={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},$A={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},XA={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},YA={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},ZA={sign:"ecdsa",hash:"sha256",id:""},JA={sign:"ecdsa",hash:"sha224",id:""},QA={sign:"ecdsa",hash:"sha384",id:""},tk={sign:"ecdsa",hash:"sha512",id:""},ek={sign:"dsa",hash:"sha1",id:""},rk={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},nk={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},Q6={sha224WithRSAEncryption:zA,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:$A,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:XA,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:YA,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:ZA,sha224:JA,sha384:QA,sha512:tk,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:ek,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:rk,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:nk,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var By,My;function ik(){return My||(My=1,By=Q6),By}var ol={},sl,Py;function tv(){if(Py)return sl;Py=1;var t=Math.pow(2,30)-1;return sl=function(e,r){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>t||r!==r)throw new TypeError("Bad key length")},sl}var al,xy;function ev(){if(xy)return al;xy=1;var t;if(Gt.process&&Gt.process.browser)t="utf-8";else if(Gt.process&&Gt.process.version){var e=parseInt(z.process.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return al=t,al}var ul,Ny;function rv(){if(Ny)return ul;Ny=1;var t=St.Buffer;return ul=function(e,r,n){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,r);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},ul}var fl,Ry;function nv(){if(Ry)return fl;Ry=1;var t=X6,e=g0,r=m0,n=St.Buffer,o=tv(),i=ev(),s=rv(),a=n.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function u(p,y,v){var A=c(p),T=p==="sha512"||p==="sha384"?128:64;y.length>T?y=A(y):y.length<T&&(y=n.concat([y,a],T));for(var P=n.allocUnsafe(T+f[p]),C=n.allocUnsafe(T+f[p]),D=0;D<T;D++)P[D]=y[D]^54,C[D]=y[D]^92;var F=n.allocUnsafe(T+v+4);P.copy(F,0,0,T),this.ipad1=F,this.ipad2=P,this.opad=C,this.alg=p,this.blocksize=T,this.hash=A,this.size=f[p]}u.prototype.run=function(p,y){p.copy(y,this.blocksize);var v=this.hash(y);return v.copy(this.opad,this.blocksize),this.hash(this.opad)};function c(p){function y(A){return r(p).update(A).digest()}function v(A){return new e().update(A).digest()}return p==="rmd160"||p==="ripemd160"?v:p==="md5"?t:y}function l(p,y,v,A,T){o(v,A),p=s(p,i,"Password"),y=s(y,i,"Salt"),T=T||"sha1";var P=new u(T,p,y.length),C=n.allocUnsafe(A),D=n.allocUnsafe(y.length+4);y.copy(D,0,0,y.length);for(var F=0,V=f[T],U=Math.ceil(A/V),J=1;J<=U;J++){D.writeUInt32BE(J,y.length);for(var tt=P.run(D,P.ipad1),Q=tt,st=1;st<v;st++){Q=P.run(Q,P.ipad2);for(var m=0;m<V;m++)tt[m]^=Q[m]}tt.copy(C,F),F+=V}return C}return fl=l,fl}var cl,Uy;function ok(){if(Uy)return cl;Uy=1;var t=St.Buffer,e=tv(),r=ev(),n=nv(),o=rv(),i,s=Gt.crypto&&Gt.crypto.subtle,a={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function u(v){if(Gt.process&&!Gt.process.browser||!s||!s.importKey||!s.deriveBits)return Promise.resolve(!1);if(f[v]!==void 0)return f[v];i=i||t.alloc(8);var A=p(i,i,10,128,v).then(function(){return!0}).catch(function(){return!1});return f[v]=A,A}var c;function l(){return c||(Gt.process&&Gt.process.nextTick?c=Gt.process.nextTick:Gt.queueMicrotask?c=Gt.queueMicrotask:Gt.setImmediate?c=Gt.setImmediate:c=Gt.setTimeout,c)}function p(v,A,T,P,C){return s.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(D){return s.deriveBits({name:"PBKDF2",salt:A,iterations:T,hash:{name:C}},D,P<<3)}).then(function(D){return t.from(D)})}function y(v,A){v.then(function(T){l()(function(){A(null,T)})},function(T){l()(function(){A(T)})})}return cl=function(v,A,T,P,C,D){typeof C=="function"&&(D=C,C=void 0),C=C||"sha1";var F=a[C.toLowerCase()];if(!F||typeof Gt.Promise!="function"){l()(function(){var V;try{V=n(v,A,T,P,C)}catch(U){return D(U)}D(null,V)});return}if(e(T,P),v=o(v,r,"Password"),A=o(A,r,"Salt"),typeof D!="function")throw new Error("No callback provided to pbkdf2");y(u(F).then(function(V){return V?p(v,A,T,P,F):n(v,A,T,P,C)}),D)},cl}var Cy;function iv(){return Cy||(Cy=1,ol.pbkdf2=ok(),ol.pbkdf2Sync=nv()),ol}var Tr={},ns={},_r={},Hy;function ov(){if(Hy)return _r;Hy=1,_r.readUInt32BE=function(n,o){var i=n[0+o]<<24|n[1+o]<<16|n[2+o]<<8|n[3+o];return i>>>0},_r.writeUInt32BE=function(n,o,i){n[0+i]=o>>>24,n[1+i]=o>>>16&255,n[2+i]=o>>>8&255,n[3+i]=o&255},_r.ip=function(n,o,i,s){for(var a=0,f=0,u=6;u>=0;u-=2){for(var c=0;c<=24;c+=8)a<<=1,a|=o>>>c+u&1;for(var c=0;c<=24;c+=8)a<<=1,a|=n>>>c+u&1}for(var u=6;u>=0;u-=2){for(var c=1;c<=25;c+=8)f<<=1,f|=o>>>c+u&1;for(var c=1;c<=25;c+=8)f<<=1,f|=n>>>c+u&1}i[s+0]=a>>>0,i[s+1]=f>>>0},_r.rip=function(n,o,i,s){for(var a=0,f=0,u=0;u<4;u++)for(var c=24;c>=0;c-=8)a<<=1,a|=o>>>c+u&1,a<<=1,a|=n>>>c+u&1;for(var u=4;u<8;u++)for(var c=24;c>=0;c-=8)f<<=1,f|=o>>>c+u&1,f<<=1,f|=n>>>c+u&1;i[s+0]=a>>>0,i[s+1]=f>>>0},_r.pc1=function(n,o,i,s){for(var a=0,f=0,u=7;u>=5;u--){for(var c=0;c<=24;c+=8)a<<=1,a|=o>>c+u&1;for(var c=0;c<=24;c+=8)a<<=1,a|=n>>c+u&1}for(var c=0;c<=24;c+=8)a<<=1,a|=o>>c+u&1;for(var u=1;u<=3;u++){for(var c=0;c<=24;c+=8)f<<=1,f|=o>>c+u&1;for(var c=0;c<=24;c+=8)f<<=1,f|=n>>c+u&1}for(var c=0;c<=24;c+=8)f<<=1,f|=n>>c+u&1;i[s+0]=a>>>0,i[s+1]=f>>>0},_r.r28shl=function(n,o){return n<<o&268435455|n>>>28-o};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];_r.pc2=function(n,o,i,s){for(var a=0,f=0,u=t.length>>>1,c=0;c<u;c++)a<<=1,a|=n>>>t[c]&1;for(var c=u;c<t.length;c++)f<<=1,f|=o>>>t[c]&1;i[s+0]=a>>>0,i[s+1]=f>>>0},_r.expand=function(n,o,i){var s=0,a=0;s=(n&1)<<5|n>>>27;for(var f=23;f>=15;f-=4)s<<=6,s|=n>>>f&63;for(var f=11;f>=3;f-=4)a|=n>>>f&63,a<<=6;a|=(n&31)<<1|n>>>31,o[i+0]=s>>>0,o[i+1]=a>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];_r.substitute=function(n,o){for(var i=0,s=0;s<4;s++){var a=n>>>18-s*6&63,f=e[s*64+a];i<<=4,i|=f}for(var s=0;s<4;s++){var a=o>>>18-s*6&63,f=e[4*64+s*64+a];i<<=4,i|=f}return i>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return _r.permute=function(n){for(var o=0,i=0;i<r.length;i++)o<<=1,o|=n>>>r[i]&1;return o>>>0},_r.padSplit=function(n,o,i){for(var s=n.toString(2);s.length<o;)s="0"+s;for(var a=[],f=0;f<o;f+=i)a.push(s.slice(f,f+i));return a.join(" ")},_r}var hl,jy;function w0(){if(jy)return hl;jy=1;var t=Lr;function e(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return hl=e,e.prototype._init=function(){},e.prototype.update=function(r){return r.length===0?[]:this.type==="decrypt"?this._updateDecrypt(r):this._updateEncrypt(r)},e.prototype._buffer=function(r,n){for(var o=Math.min(this.buffer.length-this.bufferOff,r.length-n),i=0;i<o;i++)this.buffer[this.bufferOff+i]=r[n+i];return this.bufferOff+=o,o},e.prototype._flushBuffer=function(r,n){return this._update(this.buffer,0,r,n),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(r){var n=0,o=0,i=(this.bufferOff+r.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(r,n),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(s,o)));for(var a=r.length-(r.length-n)%this.blockSize;n<a;n+=this.blockSize)this._update(r,n,s,o),o+=this.blockSize;for(;n<r.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=r[n];return s},e.prototype._updateDecrypt=function(r){for(var n=0,o=0,i=Math.ceil((this.bufferOff+r.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)n+=this._buffer(r,n),o+=this._flushBuffer(s,o);return n+=this._buffer(r,n),s},e.prototype.final=function(r){var n;r&&(n=this.update(r));var o;return this.type==="encrypt"?o=this._finalEncrypt():o=this._finalDecrypt(),n?n.concat(o):o},e.prototype._pad=function(r,n){if(n===0)return!1;for(;n<r.length;)r[n++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var r=new Array(this.blockSize);return this._update(this.buffer,0,r,0),r},e.prototype._unpad=function(r){return r},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var r=new Array(this.blockSize);return this._flushBuffer(r,0),this._unpad(r)},hl}var ll,Ly;function sv(){if(Ly)return ll;Ly=1;var t=Lr,e=Lt,r=ov(),n=w0();function o(){this.tmp=new Array(2),this.keys=null}function i(a){n.call(this,a);var f=new o;this._desState=f,this.deriveKeys(f,a.key)}e(i,n),ll=i,i.create=function(a){return new i(a)};var s=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return i.prototype.deriveKeys=function(a,f){a.keys=new Array(16*2),t.equal(f.length,this.blockSize,"Invalid key length");var u=r.readUInt32BE(f,0),c=r.readUInt32BE(f,4);r.pc1(u,c,a.tmp,0),u=a.tmp[0],c=a.tmp[1];for(var l=0;l<a.keys.length;l+=2){var p=s[l>>>1];u=r.r28shl(u,p),c=r.r28shl(c,p),r.pc2(u,c,a.keys,l)}},i.prototype._update=function(a,f,u,c){var l=this._desState,p=r.readUInt32BE(a,f),y=r.readUInt32BE(a,f+4);r.ip(p,y,l.tmp,0),p=l.tmp[0],y=l.tmp[1],this.type==="encrypt"?this._encrypt(l,p,y,l.tmp,0):this._decrypt(l,p,y,l.tmp,0),p=l.tmp[0],y=l.tmp[1],r.writeUInt32BE(u,p,c),r.writeUInt32BE(u,y,c+4)},i.prototype._pad=function(a,f){if(this.padding===!1)return!1;for(var u=a.length-f,c=f;c<a.length;c++)a[c]=u;return!0},i.prototype._unpad=function(a){if(this.padding===!1)return a;for(var f=a[a.length-1],u=a.length-f;u<a.length;u++)t.equal(a[u],f);return a.slice(0,a.length-f)},i.prototype._encrypt=function(a,f,u,c,l){for(var p=f,y=u,v=0;v<a.keys.length;v+=2){var A=a.keys[v],T=a.keys[v+1];r.expand(y,a.tmp,0),A^=a.tmp[0],T^=a.tmp[1];var P=r.substitute(A,T),C=r.permute(P),D=y;y=(p^C)>>>0,p=D}r.rip(y,p,c,l)},i.prototype._decrypt=function(a,f,u,c,l){for(var p=u,y=f,v=a.keys.length-2;v>=0;v-=2){var A=a.keys[v],T=a.keys[v+1];r.expand(p,a.tmp,0),A^=a.tmp[0],T^=a.tmp[1];var P=r.substitute(A,T),C=r.permute(P),D=p;p=(y^C)>>>0,y=D}r.rip(p,y,c,l)},ll}var pl={},Dy;function sk(){if(Dy)return pl;Dy=1;var t=Lr,e=Lt,r={};function n(i){t.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var s=0;s<this.iv.length;s++)this.iv[s]=i[s]}function o(i){function s(c){i.call(this,c),this._cbcInit()}e(s,i);for(var a=Object.keys(r),f=0;f<a.length;f++){var u=a[f];s.prototype[u]=r[u]}return s.create=function(c){return new s(c)},s}return pl.instantiate=o,r._cbcInit=function(){var i=new n(this.options.iv);this._cbcState=i},r._update=function(i,s,a,f){var u=this._cbcState,c=this.constructor.super_.prototype,l=u.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)l[p]^=i[s+p];c._update.call(this,l,0,a,f);for(var p=0;p<this.blockSize;p++)l[p]=a[f+p]}else{c._update.call(this,i,s,a,f);for(var p=0;p<this.blockSize;p++)a[f+p]^=l[p];for(var p=0;p<this.blockSize;p++)l[p]=i[s+p]}},pl}var dl,Ky;function ak(){if(Ky)return dl;Ky=1;var t=Lr,e=Lt,r=w0(),n=sv();function o(s,a){t.equal(a.length,24,"Invalid key length");var f=a.slice(0,8),u=a.slice(8,16),c=a.slice(16,24);s==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:f}),n.create({type:"decrypt",key:u}),n.create({type:"encrypt",key:c})]:this.ciphers=[n.create({type:"decrypt",key:c}),n.create({type:"encrypt",key:u}),n.create({type:"decrypt",key:f})]}function i(s){r.call(this,s);var a=new o(this.type,this.options.key);this._edeState=a}return e(i,r),dl=i,i.create=function(s){return new i(s)},i.prototype._update=function(s,a,f,u){var c=this._edeState;c.ciphers[0]._update(s,a,f,u),c.ciphers[1]._update(f,u,f,u),c.ciphers[2]._update(f,u,f,u)},i.prototype._pad=n.prototype._pad,i.prototype._unpad=n.prototype._unpad,dl}var qy;function uk(){return qy||(qy=1,ns.utils=ov(),ns.Cipher=w0(),ns.DES=sv(),ns.CBC=sk(),ns.EDE=ak()),ns}var bl,Fy;function fk(){if(Fy)return bl;Fy=1;var t=ki,e=uk(),r=Lt,n=St.Buffer,o={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],bl=i,r(i,t);function i(s){t.call(this);var a=s.mode.toLowerCase(),f=o[a],u;s.decrypt?u="decrypt":u="encrypt";var c=s.key;n.isBuffer(c)||(c=n.from(c)),(a==="des-ede"||a==="des-ede-cbc")&&(c=n.concat([c,c.slice(0,8)]));var l=s.iv;n.isBuffer(l)||(l=n.from(l)),this._des=f.create({key:c,iv:l,type:u})}return i.prototype._update=function(s){return n.from(this._des.update(s))},i.prototype._final=function(){return n.from(this._des.final())},bl}var Or={},ku={},yl={},Gy;function ck(){return Gy||(Gy=1,yl.encrypt=function(t,e){return t._cipher.encryptBlock(e)},yl.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),yl}var Iu={},Wy,Vy;function fu(){return Vy||(Vy=1,Wy=function(t,e){for(var r=Math.min(t.length,e.length),n=new z.Buffer(r),o=0;o<r;++o)n[o]=t[o]^e[o];return n}),Wy}var zy;function hk(){if(zy)return Iu;zy=1;var t=fu();return Iu.encrypt=function(e,r){var n=t(r,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},Iu.decrypt=function(e,r){var n=e._prev;e._prev=r;var o=e._cipher.decryptBlock(r);return t(o,n)},Iu}var gl={},$y;function lk(){if($y)return gl;$y=1;var t=St.Buffer,e=fu();function r(n,o,i){var s=o.length,a=e(o,n._cache);return n._cache=n._cache.slice(s),n._prev=t.concat([n._prev,i?o:a]),a}return gl.encrypt=function(n,o,i){for(var s=t.allocUnsafe(0),a;o.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=t.allocUnsafe(0)),n._cache.length<=o.length)a=n._cache.length,s=t.concat([s,r(n,o.slice(0,a),i)]),o=o.slice(a);else{s=t.concat([s,r(n,o,i)]);break}return s},gl}var ml={},Xy;function pk(){if(Xy)return ml;Xy=1;var t=St.Buffer;function e(r,n,o){var i=r._cipher.encryptBlock(r._prev),s=i[0]^n;return r._prev=t.concat([r._prev.slice(1),t.from([o?n:s])]),s}return ml.encrypt=function(r,n,o){for(var i=n.length,s=t.allocUnsafe(i),a=-1;++a<i;)s[a]=e(r,n[a],o);return s},ml}var vl={},Yy;function dk(){if(Yy)return vl;Yy=1;var t=St.Buffer;function e(n,o,i){for(var s,a=-1,f=8,u=0,c,l;++a<f;)s=n._cipher.encryptBlock(n._prev),c=o&1<<7-a?128:0,l=s[0]^c,u+=(l&128)>>a%8,n._prev=r(n._prev,i?c:l);return u}function r(n,o){var i=n.length,s=-1,a=t.allocUnsafe(n.length);for(n=t.concat([n,t.from([o])]);++s<i;)a[s]=n[s]<<1|n[s+1]>>7;return a}return vl.encrypt=function(n,o,i){for(var s=o.length,a=t.allocUnsafe(s),f=-1;++f<s;)a[f]=e(n,o[f],i);return a},vl}var wl={},Zy;function bk(){if(Zy)return wl;Zy=1;var t=fu();function e(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return wl.encrypt=function(r,n){for(;r._cache.length<n.length;)r._cache=z.Buffer.concat([r._cache,e(r)]);var o=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),t(n,o)},wl}var _l={},Sl,Jy;function av(){if(Jy)return Sl;Jy=1;function t(e){for(var r=e.length,n;r--;)if(n=e.readUInt8(r),n===255)e.writeUInt8(0,r);else{n++,e.writeUInt8(n,r);break}}return Sl=t,Sl}var Qy;function t1(){if(Qy)return _l;Qy=1;var t=fu(),e=St.Buffer,r=av();function n(i){var s=i._cipher.encryptBlockRaw(i._prev);return r(i._prev),s}var o=16;return _l.encrypt=function(i,s){var a=Math.ceil(s.length/o),f=i._cache.length;i._cache=e.concat([i._cache,e.allocUnsafe(a*o)]);for(var u=0;u<a;u++){var c=n(i),l=f+u*o;i._cache.writeUInt32BE(c[0],l+0),i._cache.writeUInt32BE(c[1],l+4),i._cache.writeUInt32BE(c[2],l+8),i._cache.writeUInt32BE(c[3],l+12)}var p=i._cache.slice(0,s.length);return i._cache=i._cache.slice(s.length),t(s,p)},_l}const yk={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},gk={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},mk={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},uv={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:yk,aes192:gk,aes256:mk,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var El,e1;function _0(){if(e1)return El;e1=1;var t={ECB:ck(),CBC:hk(),CFB:lk(),CFB8:pk(),CFB1:dk(),OFB:bk(),CTR:t1(),GCM:t1()},e=uv;for(var r in e)e[r].module=t[e[r].mode];return El=e,El}var Al={},r1;function Mc(){if(r1)return Al;r1=1;var t=St.Buffer;function e(a){t.isBuffer(a)||(a=t.from(a));for(var f=a.length/4|0,u=new Array(f),c=0;c<f;c++)u[c]=a.readUInt32BE(c*4);return u}function r(a){for(var f=0;f<a.length;a++)a[f]=0}function n(a,f,u,c,l){for(var p=u[0],y=u[1],v=u[2],A=u[3],T=a[0]^f[0],P=a[1]^f[1],C=a[2]^f[2],D=a[3]^f[3],F,V,U,J,tt=4,Q=1;Q<l;Q++)F=p[T>>>24]^y[P>>>16&255]^v[C>>>8&255]^A[D&255]^f[tt++],V=p[P>>>24]^y[C>>>16&255]^v[D>>>8&255]^A[T&255]^f[tt++],U=p[C>>>24]^y[D>>>16&255]^v[T>>>8&255]^A[P&255]^f[tt++],J=p[D>>>24]^y[T>>>16&255]^v[P>>>8&255]^A[C&255]^f[tt++],T=F,P=V,C=U,D=J;return F=(c[T>>>24]<<24|c[P>>>16&255]<<16|c[C>>>8&255]<<8|c[D&255])^f[tt++],V=(c[P>>>24]<<24|c[C>>>16&255]<<16|c[D>>>8&255]<<8|c[T&255])^f[tt++],U=(c[C>>>24]<<24|c[D>>>16&255]<<16|c[T>>>8&255]<<8|c[P&255])^f[tt++],J=(c[D>>>24]<<24|c[T>>>16&255]<<16|c[P>>>8&255]<<8|c[C&255])^f[tt++],F=F>>>0,V=V>>>0,U=U>>>0,J=J>>>0,[F,V,U,J]}var o=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var a=new Array(256),f=0;f<256;f++)f<128?a[f]=f<<1:a[f]=f<<1^283;for(var u=[],c=[],l=[[],[],[],[]],p=[[],[],[],[]],y=0,v=0,A=0;A<256;++A){var T=v^v<<1^v<<2^v<<3^v<<4;T=T>>>8^T&255^99,u[y]=T,c[T]=y;var P=a[y],C=a[P],D=a[C],F=a[T]*257^T*16843008;l[0][y]=F<<24|F>>>8,l[1][y]=F<<16|F>>>16,l[2][y]=F<<8|F>>>24,l[3][y]=F,F=D*16843009^C*65537^P*257^y*16843008,p[0][T]=F<<24|F>>>8,p[1][T]=F<<16|F>>>16,p[2][T]=F<<8|F>>>24,p[3][T]=F,y===0?y=v=1:(y=P^a[a[a[D^P]]],v^=a[a[v]])}return{SBOX:u,INV_SBOX:c,SUB_MIX:l,INV_SUB_MIX:p}}();function s(a){this._key=e(a),this._reset()}return s.blockSize=4*4,s.keySize=256/8,s.prototype.blockSize=s.blockSize,s.prototype.keySize=s.keySize,s.prototype._reset=function(){for(var a=this._key,f=a.length,u=f+6,c=(u+1)*4,l=[],p=0;p<f;p++)l[p]=a[p];for(p=f;p<c;p++){var y=l[p-1];p%f===0?(y=y<<8|y>>>24,y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[y&255],y^=o[p/f|0]<<24):f>6&&p%f===4&&(y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[y&255]),l[p]=l[p-f]^y}for(var v=[],A=0;A<c;A++){var T=c-A,P=l[T-(A%4?0:4)];A<4||T<=4?v[A]=P:v[A]=i.INV_SUB_MIX[0][i.SBOX[P>>>24]]^i.INV_SUB_MIX[1][i.SBOX[P>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[P>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[P&255]]}this._nRounds=u,this._keySchedule=l,this._invKeySchedule=v},s.prototype.encryptBlockRaw=function(a){return a=e(a),n(a,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},s.prototype.encryptBlock=function(a){var f=this.encryptBlockRaw(a),u=t.allocUnsafe(16);return u.writeUInt32BE(f[0],0),u.writeUInt32BE(f[1],4),u.writeUInt32BE(f[2],8),u.writeUInt32BE(f[3],12),u},s.prototype.decryptBlock=function(a){a=e(a);var f=a[1];a[1]=a[3],a[3]=f;var u=n(a,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),c=t.allocUnsafe(16);return c.writeUInt32BE(u[0],0),c.writeUInt32BE(u[3],4),c.writeUInt32BE(u[2],8),c.writeUInt32BE(u[1],12),c},s.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},Al.AES=s,Al}var kl,n1;function vk(){if(n1)return kl;n1=1;var t=St.Buffer,e=t.alloc(16,0);function r(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function n(i){var s=t.allocUnsafe(16);return s.writeUInt32BE(i[0]>>>0,0),s.writeUInt32BE(i[1]>>>0,4),s.writeUInt32BE(i[2]>>>0,8),s.writeUInt32BE(i[3]>>>0,12),s}function o(i){this.h=i,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return o.prototype.ghash=function(i){for(var s=-1;++s<i.length;)this.state[s]^=i[s];this._multiply()},o.prototype._multiply=function(){for(var i=r(this.h),s=[0,0,0,0],a,f,u,c=-1;++c<128;){for(f=(this.state[~~(c/8)]&1<<7-c%8)!==0,f&&(s[0]^=i[0],s[1]^=i[1],s[2]^=i[2],s[3]^=i[3]),u=(i[3]&1)!==0,a=3;a>0;a--)i[a]=i[a]>>>1|(i[a-1]&1)<<31;i[0]=i[0]>>>1,u&&(i[0]=i[0]^225<<24)}this.state=n(s)},o.prototype.update=function(i){this.cache=t.concat([this.cache,i]);for(var s;this.cache.length>=16;)s=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(s)},o.prototype.final=function(i,s){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(n([0,i,0,s])),this.state},kl=o,kl}var Il,i1;function fv(){if(i1)return Il;i1=1;var t=Mc(),e=St.Buffer,r=ki,n=Lt,o=vk(),i=fu(),s=av();function a(c,l){var p=0;c.length!==l.length&&p++;for(var y=Math.min(c.length,l.length),v=0;v<y;++v)p+=c[v]^l[v];return p}function f(c,l,p){if(l.length===12)return c._finID=e.concat([l,e.from([0,0,0,1])]),e.concat([l,e.from([0,0,0,2])]);var y=new o(p),v=l.length,A=v%16;y.update(l),A&&(A=16-A,y.update(e.alloc(A,0))),y.update(e.alloc(8,0));var T=v*8,P=e.alloc(8);P.writeUIntBE(T,0,8),y.update(P),c._finID=y.state;var C=e.from(c._finID);return s(C),C}function u(c,l,p,y){r.call(this);var v=e.alloc(4,0);this._cipher=new t.AES(l);var A=this._cipher.encryptBlock(v);this._ghash=new o(A),p=f(this,p,A),this._prev=e.from(p),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=y,this._alen=0,this._len=0,this._mode=c,this._authTag=null,this._called=!1}return n(u,r),u.prototype._update=function(c){if(!this._called&&this._alen){var l=16-this._alen%16;l<16&&(l=e.alloc(l,0),this._ghash.update(l))}this._called=!0;var p=this._mode.encrypt(this,c);return this._decrypt?this._ghash.update(c):this._ghash.update(p),this._len+=c.length,p},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var c=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&a(c,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=c,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(c){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=c},u.prototype.setAAD=function(c){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(c),this._alen+=c.length},Il=u,Il}var Tl,o1;function cv(){if(o1)return Tl;o1=1;var t=Mc(),e=St.Buffer,r=ki,n=Lt;function o(i,s,a,f){r.call(this),this._cipher=new t.AES(s),this._prev=e.from(a),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=f,this._mode=i}return n(o,r),o.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},Tl=o,Tl}var Ol,s1;function Pc(){if(s1)return Ol;s1=1;var t=St.Buffer,e=y0;function r(n,o,i,s){if(t.isBuffer(n)||(n=t.from(n,"binary")),o&&(t.isBuffer(o)||(o=t.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,f=t.alloc(a),u=t.alloc(s||0),c=t.alloc(0);a>0||s>0;){var l=new e;l.update(c),l.update(n),o&&l.update(o),c=l.digest();var p=0;if(a>0){var y=f.length-a;p=Math.min(a,c.length),c.copy(f,y,0,p),a-=p}if(p<c.length&&s>0){var v=u.length-s,A=Math.min(s,c.length-p);c.copy(u,v,p,p+A),s-=A}}return c.fill(0),{key:f,iv:u}}return Ol=r,Ol}var a1;function wk(){if(a1)return ku;a1=1;var t=_0(),e=fv(),r=St.Buffer,n=cv(),o=ki,i=Mc(),s=Pc(),a=Lt;function f(y,v,A){o.call(this),this._cache=new c,this._cipher=new i.AES(v),this._prev=r.from(A),this._mode=y,this._autopadding=!0}a(f,o),f.prototype._update=function(y){this._cache.add(y);for(var v,A,T=[];v=this._cache.get();)A=this._mode.encrypt(this,v),T.push(A);return r.concat(T)};var u=r.alloc(16,16);f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return y=this._mode.encrypt(this,y),this._cipher.scrub(),y;if(!y.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this};function c(){this.cache=r.allocUnsafe(0)}c.prototype.add=function(y){this.cache=r.concat([this.cache,y])},c.prototype.get=function(){if(this.cache.length>15){var y=this.cache.slice(0,16);return this.cache=this.cache.slice(16),y}return null},c.prototype.flush=function(){for(var y=16-this.cache.length,v=r.allocUnsafe(y),A=-1;++A<y;)v.writeUInt8(y,A);return r.concat([this.cache,v])};function l(y,v,A){var T=t[y.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=r.from(v)),v.length!==T.key/8)throw new TypeError("invalid key length "+v.length);if(typeof A=="string"&&(A=r.from(A)),T.mode!=="GCM"&&A.length!==T.iv)throw new TypeError("invalid iv length "+A.length);return T.type==="stream"?new n(T.module,v,A):T.type==="auth"?new e(T.module,v,A):new f(T.module,v,A)}function p(y,v){var A=t[y.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var T=s(v,!1,A.key,A.iv);return l(y,T.key,T.iv)}return ku.createCipheriv=l,ku.createCipher=p,ku}var Tu={},u1;function _k(){if(u1)return Tu;u1=1;var t=fv(),e=St.Buffer,r=_0(),n=cv(),o=ki,i=Mc(),s=Pc(),a=Lt;function f(y,v,A){o.call(this),this._cache=new u,this._last=void 0,this._cipher=new i.AES(v),this._prev=e.from(A),this._mode=y,this._autopadding=!0}a(f,o),f.prototype._update=function(y){this._cache.add(y);for(var v,A,T=[];v=this._cache.get(this._autopadding);)A=this._mode.decrypt(this,v),T.push(A);return e.concat(T)},f.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return c(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this};function u(){this.cache=e.allocUnsafe(0)}u.prototype.add=function(y){this.cache=e.concat([this.cache,y])},u.prototype.get=function(y){var v;if(y){if(this.cache.length>16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v}else if(this.cache.length>=16)return v=this.cache.slice(0,16),this.cache=this.cache.slice(16),v;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache};function c(y){var v=y[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var A=-1;++A<v;)if(y[A+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return y.slice(0,16-v)}function l(y,v,A){var T=r[y.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof A=="string"&&(A=e.from(A)),T.mode!=="GCM"&&A.length!==T.iv)throw new TypeError("invalid iv length "+A.length);if(typeof v=="string"&&(v=e.from(v)),v.length!==T.key/8)throw new TypeError("invalid key length "+v.length);return T.type==="stream"?new n(T.module,v,A,!0):T.type==="auth"?new t(T.module,v,A,!0):new f(T.module,v,A)}function p(y,v){var A=r[y.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var T=s(v,!1,A.key,A.iv);return l(y,T.key,T.iv)}return Tu.createDecipher=p,Tu.createDecipheriv=l,Tu}var f1;function S0(){if(f1)return Or;f1=1;var t=wk(),e=_k(),r=uv;function n(){return Object.keys(r)}return Or.createCipher=Or.Cipher=t.createCipher,Or.createCipheriv=Or.Cipheriv=t.createCipheriv,Or.createDecipher=Or.Decipher=e.createDecipher,Or.createDecipheriv=Or.Decipheriv=e.createDecipheriv,Or.listCiphers=Or.getCiphers=n,Or}var c1={},h1;function Sk(){return h1||(h1=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(c1)),c1}var l1;function Ek(){if(l1)return Tr;l1=1;var t=fk(),e=S0(),r=_0(),n=Sk(),o=Pc();function i(c,l){c=c.toLowerCase();var p,y;if(r[c])p=r[c].key,y=r[c].iv;else if(n[c])p=n[c].key*8,y=n[c].iv;else throw new TypeError("invalid suite type");var v=o(l,!1,p,y);return a(c,v.key,v.iv)}function s(c,l){c=c.toLowerCase();var p,y;if(r[c])p=r[c].key,y=r[c].iv;else if(n[c])p=n[c].key*8,y=n[c].iv;else throw new TypeError("invalid suite type");var v=o(l,!1,p,y);return f(c,v.key,v.iv)}function a(c,l,p){if(c=c.toLowerCase(),r[c])return e.createCipheriv(c,l,p);if(n[c])return new t({key:l,iv:p,mode:c});throw new TypeError("invalid suite type")}function f(c,l,p){if(c=c.toLowerCase(),r[c])return e.createDecipheriv(c,l,p);if(n[c])return new t({key:l,iv:p,mode:c,decrypt:!0});throw new TypeError("invalid suite type")}function u(){return Object.keys(n).concat(e.getCiphers())}return Tr.createCipher=Tr.Cipher=i,Tr.createCipheriv=Tr.Cipheriv=a,Tr.createDecipher=Tr.Decipher=s,Tr.createDecipheriv=Tr.Decipheriv=f,Tr.listCiphers=Tr.getCiphers=u,Tr}var zi={},Bl,p1;function hv(){if(p1)return Bl;p1=1;var t=Pe,e=B0();function r(n){this.rand=n||new e.Rand}return Bl=r,r.create=function(n){return new r(n)},r.prototype._randbelow=function(n){var o=n.bitLength(),i=Math.ceil(o/8);do var s=new t(this.rand.generate(i));while(s.cmp(n)>=0);return s},r.prototype._randrange=function(n,o){var i=o.sub(n);return n.add(this._randbelow(i))},r.prototype.test=function(n,o,i){var s=n.bitLength(),a=t.mont(n),f=new t(1).toRed(a);o||(o=Math.max(1,s/48|0));for(var u=n.subn(1),c=0;!u.testn(c);c++);for(var l=n.shrn(c),p=u.toRed(a),y=!0;o>0;o--){var v=this._randrange(new t(2),u);i&&i(v);var A=v.toRed(a).redPow(l);if(!(A.cmp(f)===0||A.cmp(p)===0)){for(var T=1;T<c;T++){if(A=A.redSqr(),A.cmp(f)===0)return!1;if(A.cmp(p)===0)break}if(T===c)return!1}}return y},r.prototype.getDivisor=function(n,o){var i=n.bitLength(),s=t.mont(n),a=new t(1).toRed(s);o||(o=Math.max(1,i/48|0));for(var f=n.subn(1),u=0;!f.testn(u);u++);for(var c=n.shrn(u),l=f.toRed(s);o>0;o--){var p=this._randrange(new t(2),f),y=n.gcd(p);if(y.cmpn(1)!==0)return y;var v=p.toRed(s).redPow(c);if(!(v.cmp(a)===0||v.cmp(l)===0)){for(var A=1;A<u;A++){if(v=v.redSqr(),v.cmp(a)===0)return v.fromRed().subn(1).gcd(n);if(v.cmp(l)===0)break}if(A===u)return v=v.redSqr(),v.fromRed().subn(1).gcd(n)}}return!1},Bl}var Ml,d1;function lv(){if(d1)return Ml;d1=1;var t=Xn;Ml=T,T.simpleSieve=v,T.fermatTest=A;var e=Pe,r=new e(24),n=hv(),o=new n,i=new e(1),s=new e(2),a=new e(5);new e(16),new e(8);var f=new e(10),u=new e(3);new e(7);var c=new e(11),l=new e(4);new e(12);var p=null;function y(){if(p!==null)return p;var P=1048576,C=[];C[0]=2;for(var D=1,F=3;F<P;F+=2){for(var V=Math.ceil(Math.sqrt(F)),U=0;U<D&&C[U]<=V&&F%C[U]!==0;U++);D!==U&&C[U]<=V||(C[D++]=F)}return p=C,C}function v(P){for(var C=y(),D=0;D<C.length;D++)if(P.modn(C[D])===0)return P.cmpn(C[D])===0;return!0}function A(P){var C=e.mont(P);return s.toRed(C).redPow(P.subn(1)).fromRed().cmpn(1)===0}function T(P,C){if(P<16)return C===2||C===5?new e([140,123]):new e([140,39]);C=new e(C);for(var D,F;;){for(D=new e(t(Math.ceil(P/8)));D.bitLength()>P;)D.ishrn(1);if(D.isEven()&&D.iadd(i),D.testn(1)||D.iadd(s),C.cmp(s)){if(!C.cmp(a))for(;D.mod(f).cmp(u);)D.iadd(l)}else for(;D.mod(r).cmp(c);)D.iadd(l);if(F=D.shrn(1),v(F)&&v(D)&&A(F)&&A(D)&&o.test(F)&&o.test(D))return D}}return Ml}const Ak={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},kk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},Ik={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},Tk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},Ok={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},Bk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},Mk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},Pk={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},xk={modp1:Ak,modp2:kk,modp5:Ik,modp14:Tk,modp15:Ok,modp16:Bk,modp17:Mk,modp18:Pk};var Pl,b1;function Nk(){if(b1)return Pl;b1=1;var t=Pe,e=hv(),r=new e,n=new t(24),o=new t(11),i=new t(10),s=new t(3),a=new t(7),f=lv(),u=Xn;Pl=v;function c(T,P){return P=P||"utf8",z.Buffer.isBuffer(T)||(T=new z.Buffer(T,P)),this._pub=new t(T),this}function l(T,P){return P=P||"utf8",z.Buffer.isBuffer(T)||(T=new z.Buffer(T,P)),this._priv=new t(T),this}var p={};function y(T,P){var C=P.toString("hex"),D=[C,T.toString(16)].join("_");if(D in p)return p[D];var F=0;if(T.isEven()||!f.simpleSieve||!f.fermatTest(T)||!r.test(T))return F+=1,C==="02"||C==="05"?F+=8:F+=4,p[D]=F,F;r.test(T.shrn(1))||(F+=2);var V;switch(C){case"02":T.mod(n).cmp(o)&&(F+=8);break;case"05":V=T.mod(i),V.cmp(s)&&V.cmp(a)&&(F+=8);break;default:F+=4}return p[D]=F,F}function v(T,P,C){this.setGenerator(P),this.__prime=new t(T),this._prime=t.mont(this.__prime),this._primeLen=T.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,C?(this.setPublicKey=c,this.setPrivateKey=l):this._primeCode=8}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=y(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new t(u(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(T){T=new t(T),T=T.toRed(this._prime);var P=T.redPow(this._priv).fromRed(),C=new z.Buffer(P.toArray()),D=this.getPrime();if(C.length<D.length){var F=new z.Buffer(D.length-C.length);F.fill(0),C=z.Buffer.concat([F,C])}return C},v.prototype.getPublicKey=function(T){return A(this._pub,T)},v.prototype.getPrivateKey=function(T){return A(this._priv,T)},v.prototype.getPrime=function(T){return A(this.__prime,T)},v.prototype.getGenerator=function(T){return A(this._gen,T)},v.prototype.setGenerator=function(T,P){return P=P||"utf8",z.Buffer.isBuffer(T)||(T=new z.Buffer(T,P)),this.__gen=T,this._gen=new t(T),this};function A(T,P){var C=new z.Buffer(T.toArray());return P?C.toString(P):C}return Pl}var y1;function Rk(){if(y1)return zi;y1=1;var t=lv(),e=xk,r=Nk();function n(s){var a=new z.Buffer(e[s].prime,"hex"),f=new z.Buffer(e[s].gen,"hex");return new r(a,f)}var o={binary:!0,hex:!0,base64:!0};function i(s,a,f,u){return z.Buffer.isBuffer(a)||o[a]===void 0?i(s,"binary",a,f):(a=a||"binary",u=u||"binary",f=f||new z.Buffer([2]),z.Buffer.isBuffer(f)||(f=new z.Buffer(f,u)),typeof s=="number"?new r(t(s,f),f,!0):(z.Buffer.isBuffer(s)||(s=new z.Buffer(s,a)),new r(s,f,!0)))}return zi.DiffieHellmanGroup=zi.createDiffieHellmanGroup=zi.getDiffieHellman=n,zi.createDiffieHellman=zi.DiffieHellman=i,zi}var va={exports:{}},g1={exports:{}},m1;function E0(){return m1||(m1=1,function(t){(function(e,r){function n(h,g){if(!h)throw new Error(g||"Assertion failed")}function o(h,g){h.super_=g;var _=function(){};_.prototype=g.prototype,h.prototype=new _,h.prototype.constructor=h}function i(h,g,_){if(i.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((g==="le"||g==="be")&&(_=g,g=10),this._init(h||0,g||10,_||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=gn.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,g){return h.cmp(g)>0?h:g},i.min=function(h,g){return h.cmp(g)<0?h:g},i.prototype._init=function(h,g,_){if(typeof h=="number")return this._initNumber(h,g,_);if(typeof h=="object")return this._initArray(h,g,_);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var M=0;h[0]==="-"&&(M++,this.negative=1),M<h.length&&(g===16?this._parseHex(h,M,_):(this._parseBase(h,g,M),_==="le"&&this._initArray(this.toArray(),g,_)))},i.prototype._initNumber=function(h,g,_){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),g,_)},i.prototype._initArray=function(h,g,_){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var R,x,b=0;if(_==="be")for(M=h.length-1,R=0;M>=0;M-=3)x=h[M]|h[M-1]<<8|h[M-2]<<16,this.words[R]|=x<<b&67108863,this.words[R+1]=x>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);else if(_==="le")for(M=0,R=0;M<h.length;M+=3)x=h[M]|h[M+1]<<8|h[M+2]<<16,this.words[R]|=x<<b&67108863,this.words[R+1]=x>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);return this._strip()};function a(h,g){var _=h.charCodeAt(g);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;n(!1,"Invalid character in "+h)}function f(h,g,_){var M=a(h,_);return _-1>=g&&(M|=a(h,_-1)<<4),M}i.prototype._parseHex=function(h,g,_){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var R=0,x=0,b;if(_==="be")for(M=h.length-1;M>=g;M-=2)b=f(h,g,M)<<R,this.words[x]|=b&67108863,R>=18?(R-=18,x+=1,this.words[x]|=b>>>26):R+=8;else{var E=h.length-g;for(M=E%2===0?g+1:g;M<h.length;M+=2)b=f(h,g,M)<<R,this.words[x]|=b&67108863,R>=18?(R-=18,x+=1,this.words[x]|=b>>>26):R+=8}this._strip()};function u(h,g,_,M){for(var R=0,x=0,b=Math.min(h.length,_),E=g;E<b;E++){var S=h.charCodeAt(E)-48;R*=M,S>=49?x=S-49+10:S>=17?x=S-17+10:x=S,n(S>=0&&x<M,"Invalid character"),R+=x}return R}i.prototype._parseBase=function(h,g,_){this.words=[0],this.length=1;for(var M=0,R=1;R<=67108863;R*=g)M++;M--,R=R/g|0;for(var x=h.length-_,b=x%M,E=Math.min(x,x-b)+_,S=0,B=_;B<E;B+=M)S=u(h,B,B+M,g),this.imuln(R),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(b!==0){var $=1;for(S=u(h,B,h.length,g),B=0;B<b;B++)$*=g;this.imuln($),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function c(h,g){h.words=g.words,h.length=g.length,h.negative=g.negative,h.red=g.red}if(i.prototype._move=function(h){c(h,this)},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,g){h=h||10,g=g|0||1;var _;if(h===16||h==="hex"){_="";for(var M=0,R=0,x=0;x<this.length;x++){var b=this.words[x],E=((b<<M|R)&16777215).toString(16);R=b>>>24-M&16777215,M+=2,M>=26&&(M-=26,x--),R!==0||x!==this.length-1?_=p[6-E.length]+E+_:_=E+_}for(R!==0&&(_=R.toString(16)+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(h===(h|0)&&h>=2&&h<=36){var S=y[h],B=v[h];_="";var $=this.clone();for($.negative=0;!$.isZero();){var et=$.modrn(B).toString(h);$=$.idivn(B),$.isZero()?_=et+_:_=p[S-et.length]+et+_}for(this.isZero()&&(_="0"+_);_.length%g!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(h,g){return this.toArrayLike(s,h,g)}),i.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var A=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};i.prototype.toArrayLike=function(h,g,_){this._strip();var M=this.byteLength(),R=_||Math.max(1,M);n(M<=R,"byte array longer than desired length"),n(R>0,"Requested array length <= 0");var x=A(h,R),b=g==="le"?"LE":"BE";return this["_toArrayLike"+b](x,M),x},i.prototype._toArrayLikeLE=function(h,g){for(var _=0,M=0,R=0,x=0;R<this.length;R++){var b=this.words[R]<<x|M;h[_++]=b&255,_<h.length&&(h[_++]=b>>8&255),_<h.length&&(h[_++]=b>>16&255),x===6?(_<h.length&&(h[_++]=b>>24&255),M=0,x=0):(M=b>>>24,x+=2)}if(_<h.length)for(h[_++]=M;_<h.length;)h[_++]=0},i.prototype._toArrayLikeBE=function(h,g){for(var _=h.length-1,M=0,R=0,x=0;R<this.length;R++){var b=this.words[R]<<x|M;h[_--]=b&255,_>=0&&(h[_--]=b>>8&255),_>=0&&(h[_--]=b>>16&255),x===6?(_>=0&&(h[_--]=b>>24&255),M=0,x=0):(M=b>>>24,x+=2)}if(_>=0)for(h[_--]=M;_>=0;)h[_--]=0},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var g=h,_=0;return g>=4096&&(_+=13,g>>>=13),g>=64&&(_+=7,g>>>=7),g>=8&&(_+=4,g>>>=4),g>=2&&(_+=2,g>>>=2),_+g},i.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,_=0;return g&8191||(_+=13,g>>>=13),g&127||(_+=7,g>>>=7),g&15||(_+=4,g>>>=4),g&3||(_+=2,g>>>=2),g&1||_++,_},i.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function T(h){for(var g=new Array(h.bitLength()),_=0;_<g.length;_++){var M=_/26|0,R=_%26;g[_]=h.words[M]>>>R&1}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var _=this._zeroBits(this.words[g]);if(h+=_,_!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},i.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var _=0;_<g.length;_++)this.words[_]=this.words[_]&h.words[_];return this.length=g.length,this._strip()},i.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var g,_;this.length>h.length?(g=this,_=h):(g=h,_=this);for(var M=0;M<_.length;M++)this.words[M]=g.words[M]^_.words[M];if(this!==g)for(;M<g.length;M++)this.words[M]=g.words[M];return this.length=g.length,this._strip()},i.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,_=h%26;this._expand(g),_>0&&g--;for(var M=0;M<g;M++)this.words[M]=~this.words[M]&67108863;return _>0&&(this.words[M]=~this.words[M]&67108863>>26-_),this._strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,g){n(typeof h=="number"&&h>=0);var _=h/26|0,M=h%26;return this._expand(_+1),g?this.words[_]=this.words[_]|1<<M:this.words[_]=this.words[_]&~(1<<M),this._strip()},i.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var _,M;this.length>h.length?(_=this,M=h):(_=h,M=this);for(var R=0,x=0;x<M.length;x++)g=(_.words[x]|0)+(M.words[x]|0)+R,this.words[x]=g&67108863,R=g>>>26;for(;R!==0&&x<_.length;x++)g=(_.words[x]|0)+R,this.words[x]=g&67108863,R=g>>>26;if(this.length=_.length,R!==0)this.words[this.length]=R,this.length++;else if(_!==this)for(;x<_.length;x++)this.words[x]=_.words[x];return this},i.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var _=this.cmp(h);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var M,R;_>0?(M=this,R=h):(M=h,R=this);for(var x=0,b=0;b<R.length;b++)g=(M.words[b]|0)-(R.words[b]|0)+x,x=g>>26,this.words[b]=g&67108863;for(;x!==0&&b<M.length;b++)g=(M.words[b]|0)+x,x=g>>26,this.words[b]=g&67108863;if(x===0&&b<M.length&&M!==this)for(;b<M.length;b++)this.words[b]=M.words[b];return this.length=Math.max(this.length,b),M!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function P(h,g,_){_.negative=g.negative^h.negative;var M=h.length+g.length|0;_.length=M,M=M-1|0;var R=h.words[0]|0,x=g.words[0]|0,b=R*x,E=b&67108863,S=b/67108864|0;_.words[0]=E;for(var B=1;B<M;B++){for(var $=S>>>26,et=S&67108863,ot=Math.min(B,g.length-1),Z=Math.max(0,B-h.length+1);Z<=ot;Z++){var q=B-Z|0;R=h.words[q]|0,x=g.words[Z]|0,b=R*x+et,$+=b/67108864|0,et=b&67108863}_.words[B]=et|0,S=$|0}return S!==0?_.words[B]=S|0:_.length--,_._strip()}var C=function(h,g,_){var M=h.words,R=g.words,x=_.words,b=0,E,S,B,$=M[0]|0,et=$&8191,ot=$>>>13,Z=M[1]|0,q=Z&8191,L=Z>>>13,Y=M[2]|0,rt=Y&8191,H=Y>>>13,K=M[3]|0,it=K&8191,at=K>>>13,yt=M[4]|0,dt=yt&8191,lt=yt>>>13,At=M[5]|0,ut=At&8191,_t=At>>>13,It=M[6]|0,bt=It&8191,wt=It>>>13,I=M[7]|0,N=I&8191,W=I>>>13,d=M[8]|0,w=d&8191,k=d>>>13,j=M[9]|0,G=j&8191,X=j>>>13,nt=R[0]|0,ct=nt&8191,ft=nt>>>13,pt=R[1]|0,mt=pt&8191,ht=pt>>>13,zt=R[2]|0,te=zt&8191,Ot=zt>>>13,he=R[3]|0,le=he&8191,Bt=he>>>13,pe=R[4]|0,de=pe&8191,Mt=pe>>>13,be=R[5]|0,ye=be&8191,Pt=be>>>13,ge=R[6]|0,me=ge&8191,xt=ge>>>13,ve=R[7]|0,we=ve&8191,Nt=ve>>>13,_e=R[8]|0,Se=_e&8191,Rt=_e>>>13,Ee=R[9]|0,ae=Ee&8191,ue=Ee>>>13;_.negative=h.negative^g.negative,_.length=19,E=Math.imul(et,ct),S=Math.imul(et,ft),S=S+Math.imul(ot,ct)|0,B=Math.imul(ot,ft);var Mi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,E=Math.imul(q,ct),S=Math.imul(q,ft),S=S+Math.imul(L,ct)|0,B=Math.imul(L,ft),E=E+Math.imul(et,mt)|0,S=S+Math.imul(et,ht)|0,S=S+Math.imul(ot,mt)|0,B=B+Math.imul(ot,ht)|0;var Pi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,E=Math.imul(rt,ct),S=Math.imul(rt,ft),S=S+Math.imul(H,ct)|0,B=Math.imul(H,ft),E=E+Math.imul(q,mt)|0,S=S+Math.imul(q,ht)|0,S=S+Math.imul(L,mt)|0,B=B+Math.imul(L,ht)|0,E=E+Math.imul(et,te)|0,S=S+Math.imul(et,Ot)|0,S=S+Math.imul(ot,te)|0,B=B+Math.imul(ot,Ot)|0;var xi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(xi>>>26)|0,xi&=67108863,E=Math.imul(it,ct),S=Math.imul(it,ft),S=S+Math.imul(at,ct)|0,B=Math.imul(at,ft),E=E+Math.imul(rt,mt)|0,S=S+Math.imul(rt,ht)|0,S=S+Math.imul(H,mt)|0,B=B+Math.imul(H,ht)|0,E=E+Math.imul(q,te)|0,S=S+Math.imul(q,Ot)|0,S=S+Math.imul(L,te)|0,B=B+Math.imul(L,Ot)|0,E=E+Math.imul(et,le)|0,S=S+Math.imul(et,Bt)|0,S=S+Math.imul(ot,le)|0,B=B+Math.imul(ot,Bt)|0;var Ni=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,E=Math.imul(dt,ct),S=Math.imul(dt,ft),S=S+Math.imul(lt,ct)|0,B=Math.imul(lt,ft),E=E+Math.imul(it,mt)|0,S=S+Math.imul(it,ht)|0,S=S+Math.imul(at,mt)|0,B=B+Math.imul(at,ht)|0,E=E+Math.imul(rt,te)|0,S=S+Math.imul(rt,Ot)|0,S=S+Math.imul(H,te)|0,B=B+Math.imul(H,Ot)|0,E=E+Math.imul(q,le)|0,S=S+Math.imul(q,Bt)|0,S=S+Math.imul(L,le)|0,B=B+Math.imul(L,Bt)|0,E=E+Math.imul(et,de)|0,S=S+Math.imul(et,Mt)|0,S=S+Math.imul(ot,de)|0,B=B+Math.imul(ot,Mt)|0;var Ri=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,E=Math.imul(ut,ct),S=Math.imul(ut,ft),S=S+Math.imul(_t,ct)|0,B=Math.imul(_t,ft),E=E+Math.imul(dt,mt)|0,S=S+Math.imul(dt,ht)|0,S=S+Math.imul(lt,mt)|0,B=B+Math.imul(lt,ht)|0,E=E+Math.imul(it,te)|0,S=S+Math.imul(it,Ot)|0,S=S+Math.imul(at,te)|0,B=B+Math.imul(at,Ot)|0,E=E+Math.imul(rt,le)|0,S=S+Math.imul(rt,Bt)|0,S=S+Math.imul(H,le)|0,B=B+Math.imul(H,Bt)|0,E=E+Math.imul(q,de)|0,S=S+Math.imul(q,Mt)|0,S=S+Math.imul(L,de)|0,B=B+Math.imul(L,Mt)|0,E=E+Math.imul(et,ye)|0,S=S+Math.imul(et,Pt)|0,S=S+Math.imul(ot,ye)|0,B=B+Math.imul(ot,Pt)|0;var Ui=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,E=Math.imul(bt,ct),S=Math.imul(bt,ft),S=S+Math.imul(wt,ct)|0,B=Math.imul(wt,ft),E=E+Math.imul(ut,mt)|0,S=S+Math.imul(ut,ht)|0,S=S+Math.imul(_t,mt)|0,B=B+Math.imul(_t,ht)|0,E=E+Math.imul(dt,te)|0,S=S+Math.imul(dt,Ot)|0,S=S+Math.imul(lt,te)|0,B=B+Math.imul(lt,Ot)|0,E=E+Math.imul(it,le)|0,S=S+Math.imul(it,Bt)|0,S=S+Math.imul(at,le)|0,B=B+Math.imul(at,Bt)|0,E=E+Math.imul(rt,de)|0,S=S+Math.imul(rt,Mt)|0,S=S+Math.imul(H,de)|0,B=B+Math.imul(H,Mt)|0,E=E+Math.imul(q,ye)|0,S=S+Math.imul(q,Pt)|0,S=S+Math.imul(L,ye)|0,B=B+Math.imul(L,Pt)|0,E=E+Math.imul(et,me)|0,S=S+Math.imul(et,xt)|0,S=S+Math.imul(ot,me)|0,B=B+Math.imul(ot,xt)|0;var Ci=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ci>>>26)|0,Ci&=67108863,E=Math.imul(N,ct),S=Math.imul(N,ft),S=S+Math.imul(W,ct)|0,B=Math.imul(W,ft),E=E+Math.imul(bt,mt)|0,S=S+Math.imul(bt,ht)|0,S=S+Math.imul(wt,mt)|0,B=B+Math.imul(wt,ht)|0,E=E+Math.imul(ut,te)|0,S=S+Math.imul(ut,Ot)|0,S=S+Math.imul(_t,te)|0,B=B+Math.imul(_t,Ot)|0,E=E+Math.imul(dt,le)|0,S=S+Math.imul(dt,Bt)|0,S=S+Math.imul(lt,le)|0,B=B+Math.imul(lt,Bt)|0,E=E+Math.imul(it,de)|0,S=S+Math.imul(it,Mt)|0,S=S+Math.imul(at,de)|0,B=B+Math.imul(at,Mt)|0,E=E+Math.imul(rt,ye)|0,S=S+Math.imul(rt,Pt)|0,S=S+Math.imul(H,ye)|0,B=B+Math.imul(H,Pt)|0,E=E+Math.imul(q,me)|0,S=S+Math.imul(q,xt)|0,S=S+Math.imul(L,me)|0,B=B+Math.imul(L,xt)|0,E=E+Math.imul(et,we)|0,S=S+Math.imul(et,Nt)|0,S=S+Math.imul(ot,we)|0,B=B+Math.imul(ot,Nt)|0;var Hi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,E=Math.imul(w,ct),S=Math.imul(w,ft),S=S+Math.imul(k,ct)|0,B=Math.imul(k,ft),E=E+Math.imul(N,mt)|0,S=S+Math.imul(N,ht)|0,S=S+Math.imul(W,mt)|0,B=B+Math.imul(W,ht)|0,E=E+Math.imul(bt,te)|0,S=S+Math.imul(bt,Ot)|0,S=S+Math.imul(wt,te)|0,B=B+Math.imul(wt,Ot)|0,E=E+Math.imul(ut,le)|0,S=S+Math.imul(ut,Bt)|0,S=S+Math.imul(_t,le)|0,B=B+Math.imul(_t,Bt)|0,E=E+Math.imul(dt,de)|0,S=S+Math.imul(dt,Mt)|0,S=S+Math.imul(lt,de)|0,B=B+Math.imul(lt,Mt)|0,E=E+Math.imul(it,ye)|0,S=S+Math.imul(it,Pt)|0,S=S+Math.imul(at,ye)|0,B=B+Math.imul(at,Pt)|0,E=E+Math.imul(rt,me)|0,S=S+Math.imul(rt,xt)|0,S=S+Math.imul(H,me)|0,B=B+Math.imul(H,xt)|0,E=E+Math.imul(q,we)|0,S=S+Math.imul(q,Nt)|0,S=S+Math.imul(L,we)|0,B=B+Math.imul(L,Nt)|0,E=E+Math.imul(et,Se)|0,S=S+Math.imul(et,Rt)|0,S=S+Math.imul(ot,Se)|0,B=B+Math.imul(ot,Rt)|0;var ji=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(ji>>>26)|0,ji&=67108863,E=Math.imul(G,ct),S=Math.imul(G,ft),S=S+Math.imul(X,ct)|0,B=Math.imul(X,ft),E=E+Math.imul(w,mt)|0,S=S+Math.imul(w,ht)|0,S=S+Math.imul(k,mt)|0,B=B+Math.imul(k,ht)|0,E=E+Math.imul(N,te)|0,S=S+Math.imul(N,Ot)|0,S=S+Math.imul(W,te)|0,B=B+Math.imul(W,Ot)|0,E=E+Math.imul(bt,le)|0,S=S+Math.imul(bt,Bt)|0,S=S+Math.imul(wt,le)|0,B=B+Math.imul(wt,Bt)|0,E=E+Math.imul(ut,de)|0,S=S+Math.imul(ut,Mt)|0,S=S+Math.imul(_t,de)|0,B=B+Math.imul(_t,Mt)|0,E=E+Math.imul(dt,ye)|0,S=S+Math.imul(dt,Pt)|0,S=S+Math.imul(lt,ye)|0,B=B+Math.imul(lt,Pt)|0,E=E+Math.imul(it,me)|0,S=S+Math.imul(it,xt)|0,S=S+Math.imul(at,me)|0,B=B+Math.imul(at,xt)|0,E=E+Math.imul(rt,we)|0,S=S+Math.imul(rt,Nt)|0,S=S+Math.imul(H,we)|0,B=B+Math.imul(H,Nt)|0,E=E+Math.imul(q,Se)|0,S=S+Math.imul(q,Rt)|0,S=S+Math.imul(L,Se)|0,B=B+Math.imul(L,Rt)|0,E=E+Math.imul(et,ae)|0,S=S+Math.imul(et,ue)|0,S=S+Math.imul(ot,ae)|0,B=B+Math.imul(ot,ue)|0;var Li=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Li>>>26)|0,Li&=67108863,E=Math.imul(G,mt),S=Math.imul(G,ht),S=S+Math.imul(X,mt)|0,B=Math.imul(X,ht),E=E+Math.imul(w,te)|0,S=S+Math.imul(w,Ot)|0,S=S+Math.imul(k,te)|0,B=B+Math.imul(k,Ot)|0,E=E+Math.imul(N,le)|0,S=S+Math.imul(N,Bt)|0,S=S+Math.imul(W,le)|0,B=B+Math.imul(W,Bt)|0,E=E+Math.imul(bt,de)|0,S=S+Math.imul(bt,Mt)|0,S=S+Math.imul(wt,de)|0,B=B+Math.imul(wt,Mt)|0,E=E+Math.imul(ut,ye)|0,S=S+Math.imul(ut,Pt)|0,S=S+Math.imul(_t,ye)|0,B=B+Math.imul(_t,Pt)|0,E=E+Math.imul(dt,me)|0,S=S+Math.imul(dt,xt)|0,S=S+Math.imul(lt,me)|0,B=B+Math.imul(lt,xt)|0,E=E+Math.imul(it,we)|0,S=S+Math.imul(it,Nt)|0,S=S+Math.imul(at,we)|0,B=B+Math.imul(at,Nt)|0,E=E+Math.imul(rt,Se)|0,S=S+Math.imul(rt,Rt)|0,S=S+Math.imul(H,Se)|0,B=B+Math.imul(H,Rt)|0,E=E+Math.imul(q,ae)|0,S=S+Math.imul(q,ue)|0,S=S+Math.imul(L,ae)|0,B=B+Math.imul(L,ue)|0;var Di=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Di>>>26)|0,Di&=67108863,E=Math.imul(G,te),S=Math.imul(G,Ot),S=S+Math.imul(X,te)|0,B=Math.imul(X,Ot),E=E+Math.imul(w,le)|0,S=S+Math.imul(w,Bt)|0,S=S+Math.imul(k,le)|0,B=B+Math.imul(k,Bt)|0,E=E+Math.imul(N,de)|0,S=S+Math.imul(N,Mt)|0,S=S+Math.imul(W,de)|0,B=B+Math.imul(W,Mt)|0,E=E+Math.imul(bt,ye)|0,S=S+Math.imul(bt,Pt)|0,S=S+Math.imul(wt,ye)|0,B=B+Math.imul(wt,Pt)|0,E=E+Math.imul(ut,me)|0,S=S+Math.imul(ut,xt)|0,S=S+Math.imul(_t,me)|0,B=B+Math.imul(_t,xt)|0,E=E+Math.imul(dt,we)|0,S=S+Math.imul(dt,Nt)|0,S=S+Math.imul(lt,we)|0,B=B+Math.imul(lt,Nt)|0,E=E+Math.imul(it,Se)|0,S=S+Math.imul(it,Rt)|0,S=S+Math.imul(at,Se)|0,B=B+Math.imul(at,Rt)|0,E=E+Math.imul(rt,ae)|0,S=S+Math.imul(rt,ue)|0,S=S+Math.imul(H,ae)|0,B=B+Math.imul(H,ue)|0;var Ki=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,E=Math.imul(G,le),S=Math.imul(G,Bt),S=S+Math.imul(X,le)|0,B=Math.imul(X,Bt),E=E+Math.imul(w,de)|0,S=S+Math.imul(w,Mt)|0,S=S+Math.imul(k,de)|0,B=B+Math.imul(k,Mt)|0,E=E+Math.imul(N,ye)|0,S=S+Math.imul(N,Pt)|0,S=S+Math.imul(W,ye)|0,B=B+Math.imul(W,Pt)|0,E=E+Math.imul(bt,me)|0,S=S+Math.imul(bt,xt)|0,S=S+Math.imul(wt,me)|0,B=B+Math.imul(wt,xt)|0,E=E+Math.imul(ut,we)|0,S=S+Math.imul(ut,Nt)|0,S=S+Math.imul(_t,we)|0,B=B+Math.imul(_t,Nt)|0,E=E+Math.imul(dt,Se)|0,S=S+Math.imul(dt,Rt)|0,S=S+Math.imul(lt,Se)|0,B=B+Math.imul(lt,Rt)|0,E=E+Math.imul(it,ae)|0,S=S+Math.imul(it,ue)|0,S=S+Math.imul(at,ae)|0,B=B+Math.imul(at,ue)|0;var qi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(qi>>>26)|0,qi&=67108863,E=Math.imul(G,de),S=Math.imul(G,Mt),S=S+Math.imul(X,de)|0,B=Math.imul(X,Mt),E=E+Math.imul(w,ye)|0,S=S+Math.imul(w,Pt)|0,S=S+Math.imul(k,ye)|0,B=B+Math.imul(k,Pt)|0,E=E+Math.imul(N,me)|0,S=S+Math.imul(N,xt)|0,S=S+Math.imul(W,me)|0,B=B+Math.imul(W,xt)|0,E=E+Math.imul(bt,we)|0,S=S+Math.imul(bt,Nt)|0,S=S+Math.imul(wt,we)|0,B=B+Math.imul(wt,Nt)|0,E=E+Math.imul(ut,Se)|0,S=S+Math.imul(ut,Rt)|0,S=S+Math.imul(_t,Se)|0,B=B+Math.imul(_t,Rt)|0,E=E+Math.imul(dt,ae)|0,S=S+Math.imul(dt,ue)|0,S=S+Math.imul(lt,ae)|0,B=B+Math.imul(lt,ue)|0;var Fi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,E=Math.imul(G,ye),S=Math.imul(G,Pt),S=S+Math.imul(X,ye)|0,B=Math.imul(X,Pt),E=E+Math.imul(w,me)|0,S=S+Math.imul(w,xt)|0,S=S+Math.imul(k,me)|0,B=B+Math.imul(k,xt)|0,E=E+Math.imul(N,we)|0,S=S+Math.imul(N,Nt)|0,S=S+Math.imul(W,we)|0,B=B+Math.imul(W,Nt)|0,E=E+Math.imul(bt,Se)|0,S=S+Math.imul(bt,Rt)|0,S=S+Math.imul(wt,Se)|0,B=B+Math.imul(wt,Rt)|0,E=E+Math.imul(ut,ae)|0,S=S+Math.imul(ut,ue)|0,S=S+Math.imul(_t,ae)|0,B=B+Math.imul(_t,ue)|0;var Gi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,E=Math.imul(G,me),S=Math.imul(G,xt),S=S+Math.imul(X,me)|0,B=Math.imul(X,xt),E=E+Math.imul(w,we)|0,S=S+Math.imul(w,Nt)|0,S=S+Math.imul(k,we)|0,B=B+Math.imul(k,Nt)|0,E=E+Math.imul(N,Se)|0,S=S+Math.imul(N,Rt)|0,S=S+Math.imul(W,Se)|0,B=B+Math.imul(W,Rt)|0,E=E+Math.imul(bt,ae)|0,S=S+Math.imul(bt,ue)|0,S=S+Math.imul(wt,ae)|0,B=B+Math.imul(wt,ue)|0;var Wi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Wi>>>26)|0,Wi&=67108863,E=Math.imul(G,we),S=Math.imul(G,Nt),S=S+Math.imul(X,we)|0,B=Math.imul(X,Nt),E=E+Math.imul(w,Se)|0,S=S+Math.imul(w,Rt)|0,S=S+Math.imul(k,Se)|0,B=B+Math.imul(k,Rt)|0,E=E+Math.imul(N,ae)|0,S=S+Math.imul(N,ue)|0,S=S+Math.imul(W,ae)|0,B=B+Math.imul(W,ue)|0;var Vi=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,E=Math.imul(G,Se),S=Math.imul(G,Rt),S=S+Math.imul(X,Se)|0,B=Math.imul(X,Rt),E=E+Math.imul(w,ae)|0,S=S+Math.imul(w,ue)|0,S=S+Math.imul(k,ae)|0,B=B+Math.imul(k,ue)|0;var Ph=(b+E|0)+((S&8191)<<13)|0;b=(B+(S>>>13)|0)+(Ph>>>26)|0,Ph&=67108863,E=Math.imul(G,ae),S=Math.imul(G,ue),S=S+Math.imul(X,ae)|0,B=Math.imul(X,ue);var xh=(b+E|0)+((S&8191)<<13)|0;return b=(B+(S>>>13)|0)+(xh>>>26)|0,xh&=67108863,x[0]=Mi,x[1]=Pi,x[2]=xi,x[3]=Ni,x[4]=Ri,x[5]=Ui,x[6]=Ci,x[7]=Hi,x[8]=ji,x[9]=Li,x[10]=Di,x[11]=Ki,x[12]=qi,x[13]=Fi,x[14]=Gi,x[15]=Wi,x[16]=Vi,x[17]=Ph,x[18]=xh,b!==0&&(x[19]=b,_.length++),_};Math.imul||(C=P);function D(h,g,_){_.negative=g.negative^h.negative,_.length=h.length+g.length;for(var M=0,R=0,x=0;x<_.length-1;x++){var b=R;R=0;for(var E=M&67108863,S=Math.min(x,g.length-1),B=Math.max(0,x-h.length+1);B<=S;B++){var $=x-B,et=h.words[$]|0,ot=g.words[B]|0,Z=et*ot,q=Z&67108863;b=b+(Z/67108864|0)|0,q=q+E|0,E=q&67108863,b=b+(q>>>26)|0,R+=b>>>26,b&=67108863}_.words[x]=E,M=b,b=R}return M!==0?_.words[x]=M:_.length--,_._strip()}function F(h,g,_){return D(h,g,_)}i.prototype.mulTo=function(h,g){var _,M=this.length+h.length;return this.length===10&&h.length===10?_=C(this,h,g):M<63?_=P(this,h,g):M<1024?_=D(this,h,g):_=F(this,h,g),_},i.prototype.mul=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},i.prototype.mulf=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),F(this,h,g)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){var g=h<0;g&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var _=0,M=0;M<this.length;M++){var R=(this.words[M]|0)*h,x=(R&67108863)+(_&67108863);_>>=26,_+=R/67108864|0,_+=x>>>26,this.words[M]=x&67108863}return _!==0&&(this.words[M]=_,this.length++),g?this.ineg():this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var g=T(h);if(g.length===0)return new i(1);for(var _=this,M=0;M<g.length&&g[M]===0;M++,_=_.sqr());if(++M<g.length)for(var R=_.sqr();M<g.length;M++,R=R.sqr())g[M]!==0&&(_=_.mul(R));return _},i.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26,M=67108863>>>26-g<<26-g,R;if(g!==0){var x=0;for(R=0;R<this.length;R++){var b=this.words[R]&M,E=(this.words[R]|0)-b<<g;this.words[R]=E|x,x=b>>>26-g}x&&(this.words[R]=x,this.length++)}if(_!==0){for(R=this.length-1;R>=0;R--)this.words[R+_]=this.words[R];for(R=0;R<_;R++)this.words[R]=0;this.length+=_}return this._strip()},i.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,g,_){n(typeof h=="number"&&h>=0);var M;g?M=(g-g%26)/26:M=0;var R=h%26,x=Math.min((h-R)/26,this.length),b=67108863^67108863>>>R<<R,E=_;if(M-=x,M=Math.max(0,M),E){for(var S=0;S<x;S++)E.words[S]=this.words[S];E.length=x}if(x!==0)if(this.length>x)for(this.length-=x,S=0;S<this.length;S++)this.words[S]=this.words[S+x];else this.words[0]=0,this.length=1;var B=0;for(S=this.length-1;S>=0&&(B!==0||S>=M);S--){var $=this.words[S]|0;this.words[S]=B<<26-R|$>>>R,B=$&b}return E&&B!==0&&(E.words[E.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(h,g,_){return n(this.negative===0),this.iushrn(h,g,_)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26,M=1<<g;if(this.length<=_)return!1;var R=this.words[_];return!!(R&M)},i.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,_=(h-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(g!==0&&_++,this.length=Math.min(_,this.length),g!==0){var M=67108863^67108863>>>g<<g;this.words[this.length-1]&=M}return this._strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,g,_){var M=h.length+_,R;this._expand(M);var x,b=0;for(R=0;R<h.length;R++){x=(this.words[R+_]|0)+b;var E=(h.words[R]|0)*g;x-=E&67108863,b=(x>>26)-(E/67108864|0),this.words[R+_]=x&67108863}for(;R<this.length-_;R++)x=(this.words[R+_]|0)+b,b=x>>26,this.words[R+_]=x&67108863;if(b===0)return this._strip();for(n(b===-1),b=0,R=0;R<this.length;R++)x=-(this.words[R]|0)+b,b=x>>26,this.words[R]=x&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(h,g){var _=this.length-h.length,M=this.clone(),R=h,x=R.words[R.length-1]|0,b=this._countBits(x);_=26-b,_!==0&&(R=R.ushln(_),M.iushln(_),x=R.words[R.length-1]|0);var E=M.length-R.length,S;if(g!=="mod"){S=new i(null),S.length=E+1,S.words=new Array(S.length);for(var B=0;B<S.length;B++)S.words[B]=0}var $=M.clone()._ishlnsubmul(R,1,E);$.negative===0&&(M=$,S&&(S.words[E]=1));for(var et=E-1;et>=0;et--){var ot=(M.words[R.length+et]|0)*67108864+(M.words[R.length+et-1]|0);for(ot=Math.min(ot/x|0,67108863),M._ishlnsubmul(R,ot,et);M.negative!==0;)ot--,M.negative=0,M._ishlnsubmul(R,1,et),M.isZero()||(M.negative^=1);S&&(S.words[et]=ot)}return S&&S._strip(),M._strip(),g!=="div"&&_!==0&&M.iushrn(_),{div:S||null,mod:M}},i.prototype.divmod=function(h,g,_){if(n(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var M,R,x;return this.negative!==0&&h.negative===0?(x=this.neg().divmod(h,g),g!=="mod"&&(M=x.div.neg()),g!=="div"&&(R=x.mod.neg(),_&&R.negative!==0&&R.iadd(h)),{div:M,mod:R}):this.negative===0&&h.negative!==0?(x=this.divmod(h.neg(),g),g!=="mod"&&(M=x.div.neg()),{div:M,mod:x.mod}):this.negative&h.negative?(x=this.neg().divmod(h.neg(),g),g!=="div"&&(R=x.mod.neg(),_&&R.negative!==0&&R.isub(h)),{div:x.div,mod:R}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modrn(h.words[0]))}:this._wordDiv(h,g)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var _=g.div.negative!==0?g.mod.isub(h):g.mod,M=h.ushrn(1),R=h.andln(1),x=_.cmp(M);return x<0||R===1&&x===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var _=(1<<26)%h,M=0,R=this.length-1;R>=0;R--)M=(_*M+(this.words[R]|0))%h;return g?-M:M},i.prototype.modn=function(h){return this.modrn(h)},i.prototype.idivn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var _=0,M=this.length-1;M>=0;M--){var R=(this.words[M]|0)+_*67108864;this.words[M]=R/h|0,_=R%h}return this._strip(),g?this.ineg():this},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var g=this,_=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var M=new i(1),R=new i(0),x=new i(0),b=new i(1),E=0;g.isEven()&&_.isEven();)g.iushrn(1),_.iushrn(1),++E;for(var S=_.clone(),B=g.clone();!g.isZero();){for(var $=0,et=1;!(g.words[0]&et)&&$<26;++$,et<<=1);if($>0)for(g.iushrn($);$-- >0;)(M.isOdd()||R.isOdd())&&(M.iadd(S),R.isub(B)),M.iushrn(1),R.iushrn(1);for(var ot=0,Z=1;!(_.words[0]&Z)&&ot<26;++ot,Z<<=1);if(ot>0)for(_.iushrn(ot);ot-- >0;)(x.isOdd()||b.isOdd())&&(x.iadd(S),b.isub(B)),x.iushrn(1),b.iushrn(1);g.cmp(_)>=0?(g.isub(_),M.isub(x),R.isub(b)):(_.isub(g),x.isub(M),b.isub(R))}return{a:x,b,gcd:_.iushln(E)}},i.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var g=this,_=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var M=new i(1),R=new i(0),x=_.clone();g.cmpn(1)>0&&_.cmpn(1)>0;){for(var b=0,E=1;!(g.words[0]&E)&&b<26;++b,E<<=1);if(b>0)for(g.iushrn(b);b-- >0;)M.isOdd()&&M.iadd(x),M.iushrn(1);for(var S=0,B=1;!(_.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(_.iushrn(S);S-- >0;)R.isOdd()&&R.iadd(x),R.iushrn(1);g.cmp(_)>=0?(g.isub(_),M.isub(R)):(_.isub(g),R.isub(M))}var $;return g.cmpn(1)===0?$=M:$=R,$.cmpn(0)<0&&$.iadd(h),$},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),_=h.clone();g.negative=0,_.negative=0;for(var M=0;g.isEven()&&_.isEven();M++)g.iushrn(1),_.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;_.isEven();)_.iushrn(1);var R=g.cmp(_);if(R<0){var x=g;g=_,_=x}else if(R===0||_.cmpn(1)===0)break;g.isub(_)}while(!0);return _.iushln(M)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){n(typeof h=="number");var g=h%26,_=(h-g)/26,M=1<<g;if(this.length<=_)return this._expand(_+1),this.words[_]|=M,this;for(var R=M,x=_;R!==0&&x<this.length;x++){var b=this.words[x]|0;b+=R,R=b>>>26,b&=67108863,this.words[x]=b}return R!==0&&(this.words[x]=R,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var _;if(this.length>1)_=1;else{g&&(h=-h),n(h<=67108863,"Number is too big");var M=this.words[0]|0;_=M===h?0:M<h?-1:1}return this.negative!==0?-_|0:_},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,_=this.length-1;_>=0;_--){var M=this.words[_]|0,R=h.words[_]|0;if(M!==R){M<R?g=-1:M>R&&(g=1);break}}return g},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new m(h)},i.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var V={k256:null,p224:null,p192:null,p25519:null};function U(h,g){this.name=h,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},U.prototype.ireduce=function(h){var g=h,_;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),_=g.bitLength();while(_>this.n);var M=_<this.n?-1:g.ucmp(this.p);return M===0?(g.words[0]=0,g.length=1):M>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},U.prototype.split=function(h,g){h.iushrn(this.n,0,g)},U.prototype.imulK=function(h){return h.imul(this.k)};function J(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(J,U),J.prototype.split=function(h,g){for(var _=4194303,M=Math.min(h.length,9),R=0;R<M;R++)g.words[R]=h.words[R];if(g.length=M,h.length<=9){h.words[0]=0,h.length=1;return}var x=h.words[9];for(g.words[g.length++]=x&_,R=10;R<h.length;R++){var b=h.words[R]|0;h.words[R-10]=(b&_)<<4|x>>>22,x=b}x>>>=22,h.words[R-10]=x,x===0&&h.length>10?h.length-=10:h.length-=9},J.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,_=0;_<h.length;_++){var M=h.words[_]|0;g+=M*977,h.words[_]=g&67108863,g=M*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function tt(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(tt,U);function Q(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Q,U);function st(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(st,U),st.prototype.imulK=function(h){for(var g=0,_=0;_<h.length;_++){var M=(h.words[_]|0)*19+g,R=M&67108863;M>>>=26,h.words[_]=R,g=M}return g!==0&&(h.words[h.length++]=g),h},i._prime=function(h){if(V[h])return V[h];var g;if(h==="k256")g=new J;else if(h==="p224")g=new tt;else if(h==="p192")g=new Q;else if(h==="p25519")g=new st;else throw new Error("Unknown prime "+h);return V[h]=g,g};function m(h){if(typeof h=="string"){var g=i._prime(h);this.m=g.p,this.prime=g}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}m.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},m.prototype._verify2=function(h,g){n((h.negative|g.negative)===0,"red works only with positives"),n(h.red&&h.red===g.red,"red works only with red numbers")},m.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(c(h,h.umod(this.m)._forceRed(this)),h)},m.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},m.prototype.add=function(h,g){this._verify2(h,g);var _=h.add(g);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},m.prototype.iadd=function(h,g){this._verify2(h,g);var _=h.iadd(g);return _.cmp(this.m)>=0&&_.isub(this.m),_},m.prototype.sub=function(h,g){this._verify2(h,g);var _=h.sub(g);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},m.prototype.isub=function(h,g){this._verify2(h,g);var _=h.isub(g);return _.cmpn(0)<0&&_.iadd(this.m),_},m.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},m.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},m.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},m.prototype.isqr=function(h){return this.imul(h,h.clone())},m.prototype.sqr=function(h){return this.mul(h,h)},m.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var _=this.m.add(new i(1)).iushrn(2);return this.pow(h,_)}for(var M=this.m.subn(1),R=0;!M.isZero()&&M.andln(1)===0;)R++,M.iushrn(1);n(!M.isZero());var x=new i(1).toRed(this),b=x.redNeg(),E=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,E).cmp(b)!==0;)S.redIAdd(b);for(var B=this.pow(S,M),$=this.pow(h,M.addn(1).iushrn(1)),et=this.pow(h,M),ot=R;et.cmp(x)!==0;){for(var Z=et,q=0;Z.cmp(x)!==0;q++)Z=Z.redSqr();n(q<ot);var L=this.pow(B,new i(1).iushln(ot-q-1));$=$.redMul(L),B=L.redSqr(),et=et.redMul(B),ot=q}return $},m.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},m.prototype.pow=function(h,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var _=4,M=new Array(1<<_);M[0]=new i(1).toRed(this),M[1]=h;for(var R=2;R<M.length;R++)M[R]=this.mul(M[R-1],h);var x=M[0],b=0,E=0,S=g.bitLength()%26;for(S===0&&(S=26),R=g.length-1;R>=0;R--){for(var B=g.words[R],$=S-1;$>=0;$--){var et=B>>$&1;if(x!==M[0]&&(x=this.sqr(x)),et===0&&b===0){E=0;continue}b<<=1,b|=et,E++,!(E!==_&&(R!==0||$!==0))&&(x=this.mul(x,M[b]),E=0,b=0)}S=26}return x},m.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},m.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},i.mont=function(h){return new O(h)};function O(h){m.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(O,m),O.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},O.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},O.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var _=h.imul(g),M=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=_.isub(M).iushrn(this.shift),x=R;return R.cmp(this.m)>=0?x=R.isub(this.m):R.cmpn(0)<0&&(x=R.iadd(this.m)),x._forceRed(this)},O.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new i(0)._forceRed(this);var _=h.mul(g),M=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=_.isub(M).iushrn(this.shift),x=R;return R.cmp(this.m)>=0?x=R.isub(this.m):R.cmpn(0)<0&&(x=R.iadd(this.m)),x._forceRed(this)},O.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Gt)}(g1)),g1.exports}var xl,v1;function A0(){if(v1)return xl;v1=1;var t=E0(),e=Xn;function r(i){var s=n(i),a=s.toRed(t.mont(i.modulus)).redPow(new t(i.publicExponent)).fromRed();return{blinder:a,unblinder:s.invm(i.modulus)}}function n(i){var s=i.modulus.byteLength(),a;do a=new t(e(s));while(a.cmp(i.modulus)>=0||!a.umod(i.prime1)||!a.umod(i.prime2));return a}function o(i,s){var a=r(s),f=s.modulus.byteLength(),u=new t(i).mul(a.blinder).umod(s.modulus),c=u.toRed(t.mont(s.prime1)),l=u.toRed(t.mont(s.prime2)),p=s.coefficient,y=s.prime1,v=s.prime2,A=c.redPow(s.exponent1).fromRed(),T=l.redPow(s.exponent2).fromRed(),P=A.isub(T).imul(p).umod(y).imul(v);return T.iadd(P).imul(a.unblinder).umod(s.modulus).toArrayLike(z.Buffer,"be",f)}return o.getr=n,xl=o,xl}var Br={},w1={},_1={},S1={},Nl,E1;function k0(){if(E1)return Nl;E1=1;var t=gn,e=t.Buffer,r={},n;for(n in t)t.hasOwnProperty(n)&&(n==="SlowBuffer"||n==="Buffer"||(r[n]=t[n]));var o=r.Buffer={};for(n in e)e.hasOwnProperty(n)&&(n==="allocUnsafe"||n==="allocUnsafeSlow"||(o[n]=e[n]));if(r.Buffer.prototype=e.prototype,(!o.from||o.from===Uint8Array.from)&&(o.from=function(i,s,a){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return e(i,s,a)}),o.alloc||(o.alloc=function(i,s,a){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(i<0||i>=2*(1<<30))throw new RangeError('The value "'+i+'" is invalid for option "size"');var f=e(i);return!s||s.length===0?f.fill(0):typeof a=="string"?f.fill(s,a):f.fill(s),f}),!r.kStringMaxLength)try{r.kStringMaxLength=z.process.binding("buffer").kStringMaxLength}catch{}return r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),Nl=r,Nl}var Rl={},A1;function I0(){if(A1)return Rl;A1=1;const t=Lt;function e(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}Rl.Reporter=e,e.prototype.isError=function(n){return n instanceof r},e.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},e.prototype.restore=function(n){const o=this._reporterState;o.obj=n.obj,o.path=o.path.slice(0,n.pathLen)},e.prototype.enterKey=function(n){return this._reporterState.path.push(n)},e.prototype.exitKey=function(n){const o=this._reporterState;o.path=o.path.slice(0,n-1)},e.prototype.leaveKey=function(n,o,i){const s=this._reporterState;this.exitKey(n),s.obj!==null&&(s.obj[o]=i)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){const n=this._reporterState,o=n.obj;return n.obj={},o},e.prototype.leaveObject=function(n){const o=this._reporterState,i=o.obj;return o.obj=n,i},e.prototype.error=function(n){let o;const i=this._reporterState,s=n instanceof r;if(s?o=n:o=new r(i.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),n.message||n,n.stack),!i.options.partial)throw o;return s||i.errors.push(o),o},e.prototype.wrapResult=function(n){const o=this._reporterState;return o.options.partial?{result:this.isError(n)?null:n,errors:o.errors}:n};function r(n,o){this.path=n,this.rethrow(o)}return t(r,Error),r.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this},Rl}var Ou={},k1;function Ka(){if(k1)return Ou;k1=1;const t=Lt,e=I0().Reporter,r=k0().Buffer;function n(i,s){if(e.call(this,s),!r.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}t(n,e),Ou.DecoderBuffer=n,n.isDecoderBuffer=function(i){return i instanceof n?!0:typeof i=="object"&&r.isBuffer(i.base)&&i.constructor.name==="DecoderBuffer"&&typeof i.offset=="number"&&typeof i.length=="number"&&typeof i.save=="function"&&typeof i.restore=="function"&&typeof i.isEmpty=="function"&&typeof i.readUInt8=="function"&&typeof i.skip=="function"&&typeof i.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(i){const s=new n(this.base);return s.offset=i.offset,s.length=this.offset,this.offset=i.offset,e.prototype.restore.call(this,i.reporter),s},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(i){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(i||"DecoderBuffer overrun")},n.prototype.skip=function(i,s){if(!(this.offset+i<=this.length))return this.error(s||"DecoderBuffer overrun");const a=new n(this.base);return a._reporterState=this._reporterState,a.offset=this.offset,a.length=this.offset+i,this.offset+=i,a},n.prototype.raw=function(i){return this.base.slice(i?i.offset:this.offset,this.length)};function o(i,s){if(Array.isArray(i))this.length=0,this.value=i.map(function(a){return o.isEncoderBuffer(a)||(a=new o(a,s)),this.length+=a.length,a},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return s.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=r.byteLength(i);else if(r.isBuffer(i))this.value=i,this.length=i.length;else return s.error("Unsupported type: "+typeof i)}return Ou.EncoderBuffer=o,o.isEncoderBuffer=function(i){return i instanceof o?!0:typeof i=="object"&&i.constructor.name==="EncoderBuffer"&&typeof i.length=="number"&&typeof i.join=="function"},o.prototype.join=function(i,s){return i||(i=r.alloc(this.length)),s||(s=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(a){a.join(i,s),s+=a.length}):(typeof this.value=="number"?i[s]=this.value:typeof this.value=="string"?i.write(this.value,s):r.isBuffer(this.value)&&this.value.copy(i,s),s+=this.length)),i},Ou}var Ul,I1;function T0(){if(I1)return Ul;I1=1;const t=I0().Reporter,e=Ka().EncoderBuffer,r=Ka().DecoderBuffer,n=Lr,o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(u,c,l){const p={};this._baseState=p,p.name=l,p.enc=u,p.parent=c||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}Ul=a;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return a.prototype.clone=function(){const u=this._baseState,c={};f.forEach(function(p){c[p]=u[p]});const l=new this.constructor(c.parent);return l._baseState=c,l},a.prototype._wrap=function(){const u=this._baseState;i.forEach(function(c){this[c]=function(){const l=new this.constructor(this);return u.children.push(l),l[c].apply(l,arguments)}},this)},a.prototype._init=function(u){const c=this._baseState;n(c.parent===null),u.call(this),c.children=c.children.filter(function(l){return l._baseState.parent===this},this),n.equal(c.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(u){const c=this._baseState,l=u.filter(function(p){return p instanceof this.constructor},this);u=u.filter(function(p){return!(p instanceof this.constructor)},this),l.length!==0&&(n(c.children===null),c.children=l,l.forEach(function(p){p._baseState.parent=this},this)),u.length!==0&&(n(c.args===null),c.args=u,c.reverseArgs=u.map(function(p){if(typeof p!="object"||p.constructor!==Object)return p;const y={};return Object.keys(p).forEach(function(v){v==(v|0)&&(v|=0);const A=p[v];y[A]=v}),y}))},s.forEach(function(u){a.prototype[u]=function(){const c=this._baseState;throw new Error(u+" not implemented for encoding: "+c.enc)}}),o.forEach(function(u){a.prototype[u]=function(){const c=this._baseState,l=Array.prototype.slice.call(arguments);return n(c.tag===null),c.tag=u,this._useArgs(l),this}}),a.prototype.use=function(u){n(u);const c=this._baseState;return n(c.use===null),c.use=u,this},a.prototype.optional=function(){const u=this._baseState;return u.optional=!0,this},a.prototype.def=function(u){const c=this._baseState;return n(c.default===null),c.default=u,c.optional=!0,this},a.prototype.explicit=function(u){const c=this._baseState;return n(c.explicit===null&&c.implicit===null),c.explicit=u,this},a.prototype.implicit=function(u){const c=this._baseState;return n(c.explicit===null&&c.implicit===null),c.implicit=u,this},a.prototype.obj=function(){const u=this._baseState,c=Array.prototype.slice.call(arguments);return u.obj=!0,c.length!==0&&this._useArgs(c),this},a.prototype.key=function(u){const c=this._baseState;return n(c.key===null),c.key=u,this},a.prototype.any=function(){const u=this._baseState;return u.any=!0,this},a.prototype.choice=function(u){const c=this._baseState;return n(c.choice===null),c.choice=u,this._useArgs(Object.keys(u).map(function(l){return u[l]})),this},a.prototype.contains=function(u){const c=this._baseState;return n(c.use===null),c.contains=u,this},a.prototype._decode=function(u,c){const l=this._baseState;if(l.parent===null)return u.wrapResult(l.children[0]._decode(u,c));let p=l.default,y=!0,v=null;if(l.key!==null&&(v=u.enterKey(l.key)),l.optional){let T=null;if(l.explicit!==null?T=l.explicit:l.implicit!==null?T=l.implicit:l.tag!==null&&(T=l.tag),T===null&&!l.any){const P=u.save();try{l.choice===null?this._decodeGeneric(l.tag,u,c):this._decodeChoice(u,c),y=!0}catch{y=!1}u.restore(P)}else if(y=this._peekTag(u,T,l.any),u.isError(y))return y}let A;if(l.obj&&y&&(A=u.enterObject()),y){if(l.explicit!==null){const P=this._decodeTag(u,l.explicit);if(u.isError(P))return P;u=P}const T=u.offset;if(l.use===null&&l.choice===null){let P;l.any&&(P=u.save());const C=this._decodeTag(u,l.implicit!==null?l.implicit:l.tag,l.any);if(u.isError(C))return C;l.any?p=u.raw(P):u=C}if(c&&c.track&&l.tag!==null&&c.track(u.path(),T,u.length,"tagged"),c&&c.track&&l.tag!==null&&c.track(u.path(),u.offset,u.length,"content"),l.any||(l.choice===null?p=this._decodeGeneric(l.tag,u,c):p=this._decodeChoice(u,c)),u.isError(p))return p;if(!l.any&&l.choice===null&&l.children!==null&&l.children.forEach(function(P){P._decode(u,c)}),l.contains&&(l.tag==="octstr"||l.tag==="bitstr")){const P=new r(p);p=this._getUse(l.contains,u._reporterState.obj)._decode(P,c)}}return l.obj&&y&&(p=u.leaveObject(A)),l.key!==null&&(p!==null||y===!0)?u.leaveKey(v,l.key,p):v!==null&&u.exitKey(v),p},a.prototype._decodeGeneric=function(u,c,l){const p=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(c,u,p.args[0],l):/str$/.test(u)?this._decodeStr(c,u,l):u==="objid"&&p.args?this._decodeObjid(c,p.args[0],p.args[1],l):u==="objid"?this._decodeObjid(c,null,null,l):u==="gentime"||u==="utctime"?this._decodeTime(c,u,l):u==="null_"?this._decodeNull(c,l):u==="bool"?this._decodeBool(c,l):u==="objDesc"?this._decodeStr(c,u,l):u==="int"||u==="enum"?this._decodeInt(c,p.args&&p.args[0],l):p.use!==null?this._getUse(p.use,c._reporterState.obj)._decode(c,l):c.error("unknown tag: "+u)},a.prototype._getUse=function(u,c){const l=this._baseState;return l.useDecoder=this._use(u,c),n(l.useDecoder._baseState.parent===null),l.useDecoder=l.useDecoder._baseState.children[0],l.implicit!==l.useDecoder._baseState.implicit&&(l.useDecoder=l.useDecoder.clone(),l.useDecoder._baseState.implicit=l.implicit),l.useDecoder},a.prototype._decodeChoice=function(u,c){const l=this._baseState;let p=null,y=!1;return Object.keys(l.choice).some(function(v){const A=u.save(),T=l.choice[v];try{const P=T._decode(u,c);if(u.isError(P))return!1;p={type:v,value:P},y=!0}catch{return u.restore(A),!1}return!0},this),y?p:u.error("Choice not matched")},a.prototype._createEncoderBuffer=function(u){return new e(u,this.reporter)},a.prototype._encode=function(u,c,l){const p=this._baseState;if(p.default!==null&&p.default===u)return;const y=this._encodeValue(u,c,l);if(y!==void 0&&!this._skipDefault(y,c,l))return y},a.prototype._encodeValue=function(u,c,l){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(u,c||new t);let y=null;if(this.reporter=c,p.optional&&u===void 0)if(p.default!==null)u=p.default;else return;let v=null,A=!1;if(p.any)y=this._createEncoderBuffer(u);else if(p.choice)y=this._encodeChoice(u,c);else if(p.contains)v=this._getUse(p.contains,l)._encode(u,c),A=!0;else if(p.children)v=p.children.map(function(T){if(T._baseState.tag==="null_")return T._encode(null,c,u);if(T._baseState.key===null)return c.error("Child should have a key");const P=c.enterKey(T._baseState.key);if(typeof u!="object")return c.error("Child expected, but input is not object");const C=T._encode(u[T._baseState.key],c,u);return c.leaveKey(P),C},this).filter(function(T){return T}),v=this._createEncoderBuffer(v);else if(p.tag==="seqof"||p.tag==="setof"){if(!(p.args&&p.args.length===1))return c.error("Too many args for : "+p.tag);if(!Array.isArray(u))return c.error("seqof/setof, but data is not Array");const T=this.clone();T._baseState.implicit=null,v=this._createEncoderBuffer(u.map(function(P){const C=this._baseState;return this._getUse(C.args[0],u)._encode(P,c)},T))}else p.use!==null?y=this._getUse(p.use,l)._encode(u,c):(v=this._encodePrimitive(p.tag,u),A=!0);if(!p.any&&p.choice===null){const T=p.implicit!==null?p.implicit:p.tag,P=p.implicit===null?"universal":"context";T===null?p.use===null&&c.error("Tag could be omitted only for .use()"):p.use===null&&(y=this._encodeComposite(T,A,P,v))}return p.explicit!==null&&(y=this._encodeComposite(p.explicit,!1,"context",y)),y},a.prototype._encodeChoice=function(u,c){const l=this._baseState,p=l.choice[u.type];return p||n(!1,u.type+" not found in "+JSON.stringify(Object.keys(l.choice))),p._encode(u.value,c)},a.prototype._encodePrimitive=function(u,c){const l=this._baseState;if(/str$/.test(u))return this._encodeStr(c,u);if(u==="objid"&&l.args)return this._encodeObjid(c,l.reverseArgs[0],l.args[1]);if(u==="objid")return this._encodeObjid(c,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(c,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(c,l.args&&l.reverseArgs[0]);if(u==="bool")return this._encodeBool(c);if(u==="objDesc")return this._encodeStr(c,u);throw new Error("Unsupported tag: "+u)},a.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},a.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)},Ul}var T1={},O1;function O0(){return O1||(O1=1,function(t){function e(r){const n={};return Object.keys(r).forEach(function(o){(o|0)==o&&(o=o|0);const i=r[o];n[i]=o}),n}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)}(T1)),T1}var Cl,B1;function pv(){if(B1)return Cl;B1=1;const t=Lt,e=k0().Buffer,r=T0(),n=O0();function o(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new i,this.tree._init(f.body)}Cl=o,o.prototype.encode=function(f,u){return this.tree._encode(f,u).join()};function i(f){r.call(this,"der",f)}t(i,r),i.prototype._encodeComposite=function(f,u,c,l){const p=a(f,u,c,this.reporter);if(l.length<128){const A=e.alloc(2);return A[0]=p,A[1]=l.length,this._createEncoderBuffer([A,l])}let y=1;for(let A=l.length;A>=256;A>>=8)y++;const v=e.alloc(2+y);v[0]=p,v[1]=128|y;for(let A=1+y,T=l.length;T>0;A--,T>>=8)v[A]=T&255;return this._createEncoderBuffer([v,l])},i.prototype._encodeStr=function(f,u){if(u==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(u==="bmpstr"){const c=e.alloc(f.length*2);for(let l=0;l<f.length;l++)c.writeUInt16BE(f.charCodeAt(l),l*2);return this._createEncoderBuffer(c)}else return u==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(f):u==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+u+" unsupported")},i.prototype._encodeObjid=function(f,u,c){if(typeof f=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=u[f].split(/[\s.]+/g);for(let v=0;v<f.length;v++)f[v]|=0}else if(Array.isArray(f)){f=f.slice();for(let v=0;v<f.length;v++)f[v]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!c){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}let l=0;for(let v=0;v<f.length;v++){let A=f[v];for(l++;A>=128;A>>=7)l++}const p=e.alloc(l);let y=p.length-1;for(let v=f.length-1;v>=0;v--){let A=f[v];for(p[y--]=A&127;(A>>=7)>0;)p[y--]=128|A&127}return this._createEncoderBuffer(p)};function s(f){return f<10?"0"+f:f}i.prototype._encodeTime=function(f,u){let c;const l=new Date(f);return u==="gentime"?c=[s(l.getUTCFullYear()),s(l.getUTCMonth()+1),s(l.getUTCDate()),s(l.getUTCHours()),s(l.getUTCMinutes()),s(l.getUTCSeconds()),"Z"].join(""):u==="utctime"?c=[s(l.getUTCFullYear()%100),s(l.getUTCMonth()+1),s(l.getUTCDate()),s(l.getUTCHours()),s(l.getUTCMinutes()),s(l.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(c,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(f,u){if(typeof f=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=u[f]}if(typeof f!="number"&&!e.isBuffer(f)){const p=f.toArray();!f.sign&&p[0]&128&&p.unshift(0),f=e.from(p)}if(e.isBuffer(f)){let p=f.length;f.length===0&&p++;const y=e.alloc(p);return f.copy(y),f.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let c=1;for(let p=f;p>=256;p>>=8)c++;const l=new Array(c);for(let p=l.length-1;p>=0;p--)l[p]=f&255,f>>=8;return l[0]&128&&l.unshift(0),this._createEncoderBuffer(e.from(l))},i.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},i.prototype._use=function(f,u){return typeof f=="function"&&(f=f(u)),f._getEncoder("der").tree},i.prototype._skipDefault=function(f,u,c){const l=this._baseState;let p;if(l.default===null)return!1;const y=f.join();if(l.defaultBuffer===void 0&&(l.defaultBuffer=this._encodeValue(l.default,u,c).join()),y.length!==l.defaultBuffer.length)return!1;for(p=0;p<y.length;p++)if(y[p]!==l.defaultBuffer[p])return!1;return!0};function a(f,u,c,l){let p;if(f==="seqof"?f="seq":f==="setof"&&(f="set"),n.tagByName.hasOwnProperty(f))p=n.tagByName[f];else if(typeof f=="number"&&(f|0)===f)p=f;else return l.error("Unknown tag: "+f);return p>=31?l.error("Multi-octet tag encoding unsupported"):(u||(p|=32),p|=n.tagClassByName[c||"universal"]<<6,p)}return Cl}var Hl,M1;function Uk(){if(M1)return Hl;M1=1;const t=Lt,e=pv();function r(n){e.call(this,n),this.enc="pem"}return t(r,e),Hl=r,r.prototype.encode=function(n,o){const i=e.prototype.encode.call(this,n).toString("base64"),s=["-----BEGIN "+o.label+"-----"];for(let a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+o.label+"-----"),s.join(`
`)},Hl}var P1;function dv(){return P1||(P1=1,function(t){const e=t;e.der=pv(),e.pem=Uk()}(S1)),S1}var x1={},jl,N1;function bv(){if(N1)return jl;N1=1;const t=Lt,e=Pe,r=Ka().DecoderBuffer,n=T0(),o=O0();function i(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new s,this.tree._init(u.body)}jl=i,i.prototype.decode=function(u,c){return r.isDecoderBuffer(u)||(u=new r(u,c)),this.tree._decode(u,c)};function s(u){n.call(this,"der",u)}t(s,n),s.prototype._peekTag=function(u,c,l){if(u.isEmpty())return!1;const p=u.save(),y=a(u,'Failed to peek tag: "'+c+'"');return u.isError(y)?y:(u.restore(p),y.tag===c||y.tagStr===c||y.tagStr+"of"===c||l)},s.prototype._decodeTag=function(u,c,l){const p=a(u,'Failed to decode tag of "'+c+'"');if(u.isError(p))return p;let y=f(u,p.primitive,'Failed to get length of "'+c+'"');if(u.isError(y))return y;if(!l&&p.tag!==c&&p.tagStr!==c&&p.tagStr+"of"!==c)return u.error('Failed to match tag: "'+c+'"');if(p.primitive||y!==null)return u.skip(y,'Failed to match body of: "'+c+'"');const v=u.save(),A=this._skipUntilEnd(u,'Failed to skip indefinite length body: "'+this.tag+'"');return u.isError(A)?A:(y=u.offset-v.offset,u.restore(v),u.skip(y,'Failed to match body of: "'+c+'"'))},s.prototype._skipUntilEnd=function(u,c){for(;;){const l=a(u,c);if(u.isError(l))return l;const p=f(u,l.primitive,c);if(u.isError(p))return p;let y;if(l.primitive||p!==null?y=u.skip(p):y=this._skipUntilEnd(u,c),u.isError(y))return y;if(l.tagStr==="end")break}},s.prototype._decodeList=function(u,c,l,p){const y=[];for(;!u.isEmpty();){const v=this._peekTag(u,"end");if(u.isError(v))return v;const A=l.decode(u,"der",p);if(u.isError(A)&&v)break;y.push(A)}return y},s.prototype._decodeStr=function(u,c){if(c==="bitstr"){const l=u.readUInt8();return u.isError(l)?l:{unused:l,data:u.raw()}}else if(c==="bmpstr"){const l=u.raw();if(l.length%2===1)return u.error("Decoding of string type: bmpstr length mismatch");let p="";for(let y=0;y<l.length/2;y++)p+=String.fromCharCode(l.readUInt16BE(y*2));return p}else if(c==="numstr"){const l=u.raw().toString("ascii");return this._isNumstr(l)?l:u.error("Decoding of string type: numstr unsupported characters")}else{if(c==="octstr"||c==="objDesc")return u.raw();if(c==="printstr"){const l=u.raw().toString("ascii");return this._isPrintstr(l)?l:u.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(c)?u.raw().toString():u.error("Decoding of string type: "+c+" unsupported")}},s.prototype._decodeObjid=function(u,c,l){let p;const y=[];let v=0,A=0;for(;!u.isEmpty();)A=u.readUInt8(),v<<=7,v|=A&127,A&128||(y.push(v),v=0);A&128&&y.push(v);const T=y[0]/40|0,P=y[0]%40;if(l?p=y:p=[T,P].concat(y.slice(1)),c){let C=c[p.join(" ")];C===void 0&&(C=c[p.join(".")]),C!==void 0&&(p=C)}return p},s.prototype._decodeTime=function(u,c){const l=u.raw().toString();let p,y,v,A,T,P;if(c==="gentime")p=l.slice(0,4)|0,y=l.slice(4,6)|0,v=l.slice(6,8)|0,A=l.slice(8,10)|0,T=l.slice(10,12)|0,P=l.slice(12,14)|0;else if(c==="utctime")p=l.slice(0,2)|0,y=l.slice(2,4)|0,v=l.slice(4,6)|0,A=l.slice(6,8)|0,T=l.slice(8,10)|0,P=l.slice(10,12)|0,p<70?p=2e3+p:p=1900+p;else return u.error("Decoding "+c+" time is not supported yet");return Date.UTC(p,y-1,v,A,T,P,0)},s.prototype._decodeNull=function(){return null},s.prototype._decodeBool=function(u){const c=u.readUInt8();return u.isError(c)?c:c!==0},s.prototype._decodeInt=function(u,c){const l=u.raw();let p=new e(l);return c&&(p=c[p.toString(10)]||p),p},s.prototype._use=function(u,c){return typeof u=="function"&&(u=u(c)),u._getDecoder("der").tree};function a(u,c){let l=u.readUInt8(c);if(u.isError(l))return l;const p=o.tagClass[l>>6],y=(l&32)===0;if((l&31)===31){let A=l;for(l=0;(A&128)===128;){if(A=u.readUInt8(c),u.isError(A))return A;l<<=7,l|=A&127}}else l&=31;const v=o.tag[l];return{cls:p,primitive:y,tag:l,tagStr:v}}function f(u,c,l){let p=u.readUInt8(l);if(u.isError(p))return p;if(!c&&p===128)return null;if(!(p&128))return p;const y=p&127;if(y>4)return u.error("length octect is too long");p=0;for(let v=0;v<y;v++){p<<=8;const A=u.readUInt8(l);if(u.isError(A))return A;p|=A}return p}return jl}var Ll,R1;function Ck(){if(R1)return Ll;R1=1;const t=Lt,e=k0().Buffer,r=bv();function n(o){r.call(this,o),this.enc="pem"}return t(n,r),Ll=n,n.prototype.decode=function(o,i){const s=o.toString().split(/[\r\n]+/g),a=i.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,c=-1;for(let y=0;y<s.length;y++){const v=s[y].match(f);if(v!==null&&v[2]===a)if(u===-1){if(v[1]!=="BEGIN")break;u=y}else{if(v[1]!=="END")break;c=y;break}}if(u===-1||c===-1)throw new Error("PEM section not found for: "+a);const l=s.slice(u+1,c).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const p=e.from(l,"base64");return r.prototype.decode.call(this,p,i)},Ll}var U1;function yv(){return U1||(U1=1,function(t){const e=t;e.der=bv(),e.pem=Ck()}(x1)),x1}var C1;function Hk(){return C1||(C1=1,function(t){const e=dv(),r=yv(),n=Lt,o=t;o.define=function(s,a){return new i(s,a)};function i(s,a){this.name=s,this.body=a,this.decoders={},this.encoders={}}i.prototype._createNamed=function(s){const a=this.name;function f(u){this._initNamed(u,a)}return n(f,s),f.prototype._initNamed=function(u,c){s.call(this,u,c)},new f(this)},i.prototype._getDecoder=function(s){return s=s||"der",this.decoders.hasOwnProperty(s)||(this.decoders[s]=this._createNamed(r[s])),this.decoders[s]},i.prototype.decode=function(s,a,f){return this._getDecoder(a).decode(s,f)},i.prototype._getEncoder=function(s){return s=s||"der",this.encoders.hasOwnProperty(s)||(this.encoders[s]=this._createNamed(e[s])),this.encoders[s]},i.prototype.encode=function(s,a,f){return this._getEncoder(a).encode(s,f)}}(_1)),_1}var H1={},j1;function jk(){return j1||(j1=1,function(t){const e=t;e.Reporter=I0().Reporter,e.DecoderBuffer=Ka().DecoderBuffer,e.EncoderBuffer=Ka().EncoderBuffer,e.Node=T0()}(H1)),H1}var L1={},D1;function Lk(){return D1||(D1=1,function(t){const e=t;e._reverse=function(r){const n={};return Object.keys(r).forEach(function(o){(o|0)==o&&(o=o|0);const i=r[o];n[i]=o}),n},e.der=O0()}(L1)),L1}var K1;function gv(){return K1||(K1=1,function(t){const e=t;e.bignum=Pe,e.define=Hk().define,e.base=jk(),e.constants=Lk(),e.decoders=yv(),e.encoders=dv()}(w1)),w1}var Dl,q1;function Dk(){if(q1)return Dl;q1=1;var t=gv(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),i=t.define("RelativeDistinguishedName",function(){this.setof(r)}),s=t.define("RDNSequence",function(){this.seqof(i)}),a=t.define("Name",function(){this.choice({rdnSequence:this.use(s)})}),f=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),u=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),c=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(a),this.key("validity").use(f),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())}),l=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(c),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return Dl=l,Dl}var F1;function Kk(){if(F1)return Br;F1=1;var t=gv();Br.certificate=Dk();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Br.RSAPrivateKey=e;var r=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Br.RSAPublicKey=r;var n=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});Br.PublicKey=n;var o=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});Br.PrivateKey=i;var s=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Br.EncryptedPrivateKey=s;var a=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Br.DSAPrivateKey=a,Br.DSAparam=t.define("DSAparam",function(){this.int()});var f=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});Br.ECPrivateKey=f;var u=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return Br.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),Br}const qk={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Kl,G1;function Fk(){if(G1)return Kl;G1=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=Pc(),o=S0(),i=St.Buffer;return Kl=function(s,a){var f=s.toString(),u=f.match(t),c;if(u){var l="aes"+u[1],p=i.from(u[2],"hex"),y=i.from(u[3].replace(/[\r\n]/g,""),"base64"),v=n(a,p.slice(0,8),parseInt(u[1],10)).key,A=[],T=o.createDecipheriv(l,v,p);A.push(T.update(y)),A.push(T.final()),c=i.concat(A)}else{var P=f.match(r);c=i.from(P[2].replace(/[\r\n]/g,""),"base64")}var C=f.match(e)[1];return{tag:C,data:c}},Kl}var ql,W1;function xc(){if(W1)return ql;W1=1;var t=Kk(),e=qk,r=Fk(),n=S0(),o=iv(),i=St.Buffer;ql=s;function s(f){var u;typeof f=="object"&&!i.isBuffer(f)&&(u=f.passphrase,f=f.key),typeof f=="string"&&(f=i.from(f));var c=r(f,u),l=c.tag,p=c.data,y,v;switch(l){case"CERTIFICATE":v=t.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=t.PublicKey.decode(p,"der")),y=v.algorithm.algorithm.join("."),y){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=t.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":p=t.EncryptedPrivateKey.decode(p,"der"),p=a(p,u);case"PRIVATE KEY":switch(v=t.PrivateKey.decode(p,"der"),y=v.algorithm.algorithm.join("."),y){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:t.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=t.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return p=t.ECPrivateKey.decode(p,"der"),{curve:p.parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+l)}}s.signature=t.signature;function a(f,u){var c=f.algorithm.decrypt.kde.kdeparams.salt,l=parseInt(f.algorithm.decrypt.kde.kdeparams.iters.toString(),10),p=e[f.algorithm.decrypt.cipher.algo.join(".")],y=f.algorithm.decrypt.cipher.iv,v=f.subjectPrivateKey,A=parseInt(p.split("-")[1],10)/8,T=o.pbkdf2Sync(u,c,l,A,"sha1"),P=n.createDecipheriv(p,T,y),C=[];return C.push(P.update(v)),C.push(P.final()),i.concat(C)}return ql}const mv={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var V1;function Gk(){if(V1)return va.exports;V1=1;var t=St.Buffer,e=$s,r=A0(),n=qc().ec,o=E0(),i=xc(),s=mv,a=1;function f(P,C,D,F,V){var U=i(C);if(U.curve){if(F!=="ecdsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");return u(P,U)}else if(U.type==="dsa"){if(F!=="dsa")throw new Error("wrong private key type");return c(P,U,D)}if(F!=="rsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");if(C.padding!==void 0&&C.padding!==a)throw new Error("illegal or unsupported padding mode");P=t.concat([V,P]);for(var J=U.modulus.byteLength(),tt=[0,1];P.length+tt.length+1<J;)tt.push(255);tt.push(0);for(var Q=-1;++Q<P.length;)tt.push(P[Q]);var st=r(tt,U);return st}function u(P,C){var D=s[C.curve.join(".")];if(!D)throw new Error("unknown curve "+C.curve.join("."));var F=new n(D),V=F.keyFromPrivate(C.privateKey),U=V.sign(P);return t.from(U.toDER())}function c(P,C,D){for(var F=C.params.priv_key,V=C.params.p,U=C.params.q,J=C.params.g,tt=new o(0),Q,st=y(P,U).mod(U),m=!1,O=p(F,U,P,D);m===!1;)Q=A(U,O,D),tt=T(J,Q,V,U),m=Q.invm(U).imul(st.add(F.mul(tt))).mod(U),m.cmpn(0)===0&&(m=!1,tt=new o(0));return l(tt,m)}function l(P,C){P=P.toArray(),C=C.toArray(),P[0]&128&&(P=[0].concat(P)),C[0]&128&&(C=[0].concat(C));var D=P.length+C.length+4,F=[48,D,2,P.length];return F=F.concat(P,[2,C.length],C),t.from(F)}function p(P,C,D,F){if(P=t.from(P.toArray()),P.length<C.byteLength()){var V=t.alloc(C.byteLength()-P.length);P=t.concat([V,P])}var U=D.length,J=v(D,C),tt=t.alloc(U);tt.fill(1);var Q=t.alloc(U);return Q=e(F,Q).update(tt).update(t.from([0])).update(P).update(J).digest(),tt=e(F,Q).update(tt).digest(),Q=e(F,Q).update(tt).update(t.from([1])).update(P).update(J).digest(),tt=e(F,Q).update(tt).digest(),{k:Q,v:tt}}function y(P,C){var D=new o(P),F=(P.length<<3)-C.bitLength();return F>0&&D.ishrn(F),D}function v(P,C){P=y(P,C),P=P.mod(C);var D=t.from(P.toArray());if(D.length<C.byteLength()){var F=t.alloc(C.byteLength()-D.length);D=t.concat([F,D])}return D}function A(P,C,D){var F,V;do{for(F=t.alloc(0);F.length*8<P.bitLength();)C.v=e(D,C.k).update(C.v).digest(),F=t.concat([F,C.v]);V=y(F,P),C.k=e(D,C.k).update(C.v).update(t.from([0])).digest(),C.v=e(D,C.k).update(C.v).digest()}while(V.cmp(P)!==-1);return V}function T(P,C,D,F){return P.toRed(o.mont(D)).redPow(C).fromRed().mod(F)}return va.exports=f,va.exports.getKey=p,va.exports.makeKey=A,va.exports}var Fl,z1;function Wk(){if(z1)return Fl;z1=1;var t=St.Buffer,e=E0(),r=qc().ec,n=xc(),o=mv;function i(u,c,l,p,y){var v=n(l);if(v.type==="ec"){if(p!=="ecdsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");return s(u,c,v)}else if(v.type==="dsa"){if(p!=="dsa")throw new Error("wrong public key type");return a(u,c,v)}if(p!=="rsa"&&p!=="ecdsa/rsa")throw new Error("wrong public key type");c=t.concat([y,c]);for(var A=v.modulus.byteLength(),T=[1],P=0;c.length+T.length+2<A;)T.push(255),P+=1;T.push(0);for(var C=-1;++C<c.length;)T.push(c[C]);T=t.from(T);var D=e.mont(v.modulus);u=new e(u).toRed(D),u=u.redPow(new e(v.publicExponent)),u=t.from(u.fromRed().toArray());var F=P<8?1:0;for(A=Math.min(u.length,T.length),u.length!==T.length&&(F=1),C=-1;++C<A;)F|=u[C]^T[C];return F===0}function s(u,c,l){var p=o[l.data.algorithm.curve.join(".")];if(!p)throw new Error("unknown curve "+l.data.algorithm.curve.join("."));var y=new r(p),v=l.data.subjectPrivateKey.data;return y.verify(c,u,v)}function a(u,c,l){var p=l.data.p,y=l.data.q,v=l.data.g,A=l.data.pub_key,T=n.signature.decode(u,"der"),P=T.s,C=T.r;f(P,y),f(C,y);var D=e.mont(p),F=P.invm(y),V=v.toRed(D).redPow(new e(c).mul(F).mod(y)).fromRed().mul(A.toRed(D).redPow(C.mul(F).mod(y)).fromRed()).mod(p).mod(y);return V.cmp(C)===0}function f(u,c){if(u.cmpn(0)<=0)throw new Error("invalid sig");if(u.cmp(c)>=0)throw new Error("invalid sig")}return Fl=i,Fl}var Gl,$1;function Vk(){if($1)return Gl;$1=1;var t=St.Buffer,e=$n,r=b0,n=Lt,o=Gk(),i=Wk(),s=Q6;Object.keys(s).forEach(function(l){s[l].id=t.from(s[l].id,"hex"),s[l.toLowerCase()]=s[l]});function a(l){r.Writable.call(this);var p=s[l];if(!p)throw new Error("Unknown message digest");this._hashType=p.hash,this._hash=e(p.hash),this._tag=p.id,this._signType=p.sign}n(a,r.Writable),a.prototype._write=function(l,p,y){this._hash.update(l),y()},a.prototype.update=function(l,p){return this._hash.update(typeof l=="string"?t.from(l,p):l),this},a.prototype.sign=function(l,p){this.end();var y=this._hash.digest(),v=o(y,l,this._hashType,this._signType,this._tag);return p?v.toString(p):v};function f(l){r.Writable.call(this);var p=s[l];if(!p)throw new Error("Unknown message digest");this._hash=e(p.hash),this._tag=p.id,this._signType=p.sign}n(f,r.Writable),f.prototype._write=function(l,p,y){this._hash.update(l),y()},f.prototype.update=function(l,p){return this._hash.update(typeof l=="string"?t.from(l,p):l),this},f.prototype.verify=function(l,p,y){var v=typeof p=="string"?t.from(p,y):p;this.end();var A=this._hash.digest();return i(v,A,l,this._signType,this._tag)};function u(l){return new a(l)}function c(l){return new f(l)}return Gl={Sign:u,Verify:c,createSign:u,createVerify:c},Gl}var Wl,X1;function zk(){if(X1)return Wl;X1=1;var t=qc(),e=Pe;Wl=function(i){return new n(i)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,s)},n.prototype.computeSecret=function(i,s,a){s=s||"utf8",z.Buffer.isBuffer(i)||(i=new z.Buffer(i,s));var f=this.curve.keyFromPublic(i).getPublic(),u=f.mul(this.keys.getPrivate()).getX();return o(u,a,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,s){var a=this.keys.getPublic(s==="compressed",!0);return s==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),o(a,i)},n.prototype.getPrivateKey=function(i){return o(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,s){return s=s||"utf8",z.Buffer.isBuffer(i)||(i=new z.Buffer(i,s)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,s){s=s||"utf8",z.Buffer.isBuffer(i)||(i=new z.Buffer(i,s));var a=new e(i);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function o(i,s,a){Array.isArray(i)||(i=i.toArray());var f=new z.Buffer(i);if(a&&f.length<a){var u=new z.Buffer(a-f.length);u.fill(0),f=z.Buffer.concat([u,f])}return s?f.toString(s):f}return Wl}var Y1={},Vl,Z1;function vv(){if(Z1)return Vl;Z1=1;var t=$n,e=St.Buffer;Vl=function(n,o){for(var i=e.alloc(0),s=0,a;i.length<o;)a=r(s++),i=e.concat([i,t("sha1").update(n).update(a).digest()]);return i.slice(0,o)};function r(n){var o=e.allocUnsafe(4);return o.writeUInt32BE(n,0),o}return Vl}var J1,Q1;function wv(){return Q1||(Q1=1,J1=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t}),J1}var zl,tg;function _v(){if(tg)return zl;tg=1;var t=Pe,e=St.Buffer;function r(n,o){return e.from(n.toRed(t.mont(o.modulus)).redPow(new t(o.publicExponent)).fromRed().toArray())}return zl=r,zl}var $l,eg;function $k(){if(eg)return $l;eg=1;var t=xc(),e=Xn,r=$n,n=vv(),o=wv(),i=Pe,s=_v(),a=A0(),f=St.Buffer;$l=function(p,y,v){var A;p.padding?A=p.padding:v?A=1:A=4;var T=t(p),P;if(A===4)P=u(T,y);else if(A===1)P=c(T,y,v);else if(A===3){if(P=new i(y),P.cmp(T.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return v?a(P,T):s(P,T)};function u(p,y){var v=p.modulus.byteLength(),A=y.length,T=r("sha1").update(f.alloc(0)).digest(),P=T.length,C=2*P;if(A>v-C-2)throw new Error("message too long");var D=f.alloc(v-A-C-2),F=v-P-1,V=e(P),U=o(f.concat([T,D,f.alloc(1,1),y],F),n(V,F)),J=o(V,n(U,P));return new i(f.concat([f.alloc(1),J,U],v))}function c(p,y,v){var A=y.length,T=p.modulus.byteLength();if(A>T-11)throw new Error("message too long");var P;return v?P=f.alloc(T-A-3,255):P=l(T-A-3),new i(f.concat([f.from([0,v?1:2]),P,f.alloc(1),y],T))}function l(p){for(var y=f.allocUnsafe(p),v=0,A=e(p*2),T=0,P;v<p;)T===A.length&&(A=e(p*2),T=0),P=A[T++],P&&(y[v++]=P);return y}return $l}var Xl,rg;function Xk(){if(rg)return Xl;rg=1;var t=xc(),e=vv(),r=wv(),n=Pe,o=A0(),i=$n,s=_v(),a=St.Buffer;Xl=function(l,p,y){var v;l.padding?v=l.padding:y?v=1:v=4;var A=t(l),T=A.modulus.byteLength();if(p.length>T||new n(p).cmp(A.modulus)>=0)throw new Error("decryption error");var P;y?P=s(new n(p),A):P=o(p,A);var C=a.alloc(T-P.length);if(P=a.concat([C,P],T),v===4)return f(A,P);if(v===1)return u(A,P,y);if(v===3)return P;throw new Error("unknown padding")};function f(l,p){var y=l.modulus.byteLength(),v=i("sha1").update(a.alloc(0)).digest(),A=v.length;if(p[0]!==0)throw new Error("decryption error");var T=p.slice(1,A+1),P=p.slice(A+1),C=r(T,e(P,A)),D=r(P,e(C,y-A-1));if(c(v,D.slice(0,A)))throw new Error("decryption error");for(var F=A;D[F]===0;)F++;if(D[F++]!==1)throw new Error("decryption error");return D.slice(F)}function u(l,p,y){for(var v=p.slice(0,2),A=2,T=0;p[A++]!==0;)if(A>=p.length){T++;break}var P=p.slice(2,A-1);if((v.toString("hex")!=="0002"&&!y||v.toString("hex")!=="0001"&&y)&&T++,P.length<8&&T++,T)throw new Error("decryption error");return p.slice(A)}function c(l,p){l=a.from(l),p=a.from(p);var y=0,v=l.length;l.length!==p.length&&(y++,v=Math.min(l.length,p.length));for(var A=-1;++A<v;)y+=l[A]^p[A];return y}return Xl}var ng;function Yk(){return ng||(ng=1,function(t){t.publicEncrypt=$k(),t.privateDecrypt=Xk(),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}}(Y1)),Y1}var is={},ig;function Zk(){if(ig)return is;ig=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=St,r=Xn,n=e.Buffer,o=e.kMaxLength,i=Gt.crypto||Gt.msCrypto,s=Math.pow(2,32)-1;function a(p,y){if(typeof p!="number"||p!==p)throw new TypeError("offset must be a number");if(p>s||p<0)throw new TypeError("offset must be a uint32");if(p>o||p>y)throw new RangeError("offset out of range")}function f(p,y,v){if(typeof p!="number"||p!==p)throw new TypeError("size must be a number");if(p>s||p<0)throw new TypeError("size must be a uint32");if(p+y>v||p>o)throw new RangeError("buffer too small")}i&&i.getRandomValues||!z.process.browser?(is.randomFill=u,is.randomFillSync=l):(is.randomFill=t,is.randomFillSync=t);function u(p,y,v,A){if(!n.isBuffer(p)&&!(p instanceof Gt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")A=y,y=0,v=p.length;else if(typeof v=="function")A=v,v=p.length-y;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return a(y,p.length),f(v,y,p.length),c(p,y,v,A)}function c(p,y,v,A){if(z.process.browser){var T=p.buffer,P=new Uint8Array(T,y,v);if(i.getRandomValues(P),A){z.process.nextTick(function(){A(null,p)});return}return p}if(A){r(v,function(D,F){if(D)return A(D);F.copy(p,y),A(null,p)});return}var C=r(v);return C.copy(p,y),p}function l(p,y,v){if(typeof y>"u"&&(y=0),!n.isBuffer(p)&&!(p instanceof Gt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return a(y,p.length),v===void 0&&(v=p.length-y),f(v,y,p.length),c(p,y,v)}return is}var og;function Jk(){if(og)return Ut;og=1,Ut.randomBytes=Ut.rng=Ut.pseudoRandomBytes=Ut.prng=Xn,Ut.createHash=Ut.Hash=$n,Ut.createHmac=Ut.Hmac=$s;var t=ik(),e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Ut.getHashes=function(){return r};var n=iv();Ut.pbkdf2=n.pbkdf2,Ut.pbkdf2Sync=n.pbkdf2Sync;var o=Ek();Ut.Cipher=o.Cipher,Ut.createCipher=o.createCipher,Ut.Cipheriv=o.Cipheriv,Ut.createCipheriv=o.createCipheriv,Ut.Decipher=o.Decipher,Ut.createDecipher=o.createDecipher,Ut.Decipheriv=o.Decipheriv,Ut.createDecipheriv=o.createDecipheriv,Ut.getCiphers=o.getCiphers,Ut.listCiphers=o.listCiphers;var i=Rk();Ut.DiffieHellmanGroup=i.DiffieHellmanGroup,Ut.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Ut.getDiffieHellman=i.getDiffieHellman,Ut.createDiffieHellman=i.createDiffieHellman,Ut.DiffieHellman=i.DiffieHellman;var s=Vk();Ut.createSign=s.createSign,Ut.Sign=s.Sign,Ut.createVerify=s.createVerify,Ut.Verify=s.Verify,Ut.createECDH=zk();var a=Yk();Ut.publicEncrypt=a.publicEncrypt,Ut.privateEncrypt=a.privateEncrypt,Ut.publicDecrypt=a.publicDecrypt,Ut.privateDecrypt=a.privateDecrypt;var f=Zk();return Ut.randomFill=f.randomFill,Ut.randomFillSync=f.randomFillSync,Ut.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},Ut.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Ut}var sg;function B0(){if(sg)return Au.exports;sg=1;var t;Au.exports=function(n){return t||(t=new e(null)),t.generate(n)};function e(n){this.rand=n}if(Au.exports.Rand=e,e.prototype.generate=function(n){return this._rand(n)},e.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(n){var o=new Uint8Array(n);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(n){var o=new Uint8Array(n);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Jk();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(n){return r.randomBytes(n)}}catch{}return Au.exports}var M0={},$i=Pe,cu=Ir,Pf=cu.getNAF,Qk=cu.getJSF,xf=cu.assert;function Ii(t,e){this.type=t,this.p=new $i(e.p,16),this.red=e.prime?$i.red(e.prime):$i.mont(this.p),this.zero=new $i(0).toRed(this.red),this.one=new $i(1).toRed(this.red),this.two=new $i(2).toRed(this.red),this.n=e.n&&new $i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Nc=Ii;Ii.prototype.point=function(){throw new Error("Not implemented")};Ii.prototype.validate=function(){throw new Error("Not implemented")};Ii.prototype._fixedNafMul=function(t,e){xf(t.precomputed);var r=t._getDoubles(),n=Pf(e,1,this._bitLength),o=(1<<r.step+1)-(r.step%2===0?2:1);o/=3;var i=[],s,a;for(s=0;s<n.length;s+=r.step){a=0;for(var f=s+r.step-1;f>=s;f--)a=(a<<1)+n[f];i.push(a)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),l=o;l>0;l--){for(s=0;s<i.length;s++)a=i[s],a===l?c=c.mixedAdd(r.points[s]):a===-l&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()};Ii.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var o=n.points,i=Pf(e,r,this._bitLength),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var f=0;a>=0&&i[a]===0;a--)f++;if(a>=0&&f++,s=s.dblp(f),a<0)break;var u=i[a];xf(u!==0),t.type==="affine"?u>0?s=s.mixedAdd(o[u-1>>1]):s=s.mixedAdd(o[-u-1>>1].neg()):u>0?s=s.add(o[u-1>>1]):s=s.add(o[-u-1>>1].neg())}return t.type==="affine"?s.toP():s};Ii.prototype._wnafMulAdd=function(t,e,r,n,o){var i=this._wnafT1,s=this._wnafT2,a=this._wnafT3,f=0,u,c,l;for(u=0;u<n;u++){l=e[u];var p=l._getNAFPoints(t);i[u]=p.wnd,s[u]=p.points}for(u=n-1;u>=1;u-=2){var y=u-1,v=u;if(i[y]!==1||i[v]!==1){a[y]=Pf(r[y],i[y],this._bitLength),a[v]=Pf(r[v],i[v],this._bitLength),f=Math.max(a[y].length,f),f=Math.max(a[v].length,f);continue}var A=[e[y],null,null,e[v]];e[y].y.cmp(e[v].y)===0?(A[1]=e[y].add(e[v]),A[2]=e[y].toJ().mixedAdd(e[v].neg())):e[y].y.cmp(e[v].y.redNeg())===0?(A[1]=e[y].toJ().mixedAdd(e[v]),A[2]=e[y].add(e[v].neg())):(A[1]=e[y].toJ().mixedAdd(e[v]),A[2]=e[y].toJ().mixedAdd(e[v].neg()));var T=[-3,-1,-5,-7,0,7,5,1,3],P=Qk(r[y],r[v]);for(f=Math.max(P[0].length,f),a[y]=new Array(f),a[v]=new Array(f),c=0;c<f;c++){var C=P[0][c]|0,D=P[1][c]|0;a[y][c]=T[(C+1)*3+(D+1)],a[v][c]=0,s[y]=A}}var F=this.jpoint(null,null,null),V=this._wnafT4;for(u=f;u>=0;u--){for(var U=0;u>=0;){var J=!0;for(c=0;c<n;c++)V[c]=a[c][u]|0,V[c]!==0&&(J=!1);if(!J)break;U++,u--}if(u>=0&&U++,F=F.dblp(U),u<0)break;for(c=0;c<n;c++){var tt=V[c];tt!==0&&(tt>0?l=s[c][tt-1>>1]:tt<0&&(l=s[c][-tt-1>>1].neg()),l.type==="affine"?F=F.mixedAdd(l):F=F.add(l))}}for(u=0;u<n;u++)s[u]=null;return o?F:F.toP()};function Dr(t,e){this.curve=t,this.type=e,this.precomputed=null}Ii.BasePoint=Dr;Dr.prototype.eq=function(){throw new Error("Not implemented")};Dr.prototype.validate=function(){return this.curve.validate(this)};Ii.prototype.decodePoint=function(t,e){t=cu.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*r){t[0]===6?xf(t[t.length-1]%2===0):t[0]===7&&xf(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return n}else if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw new Error("Unknown point format")};Dr.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Dr.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))};Dr.prototype.encode=function(t,e){return cu.encode(this._encode(e),t)};Dr.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this};Dr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1};Dr.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,o=0;o<e;o+=t){for(var i=0;i<t;i++)n=n.dbl();r.push(n)}return{step:t,points:r}};Dr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),o=1;o<r;o++)e[o]=e[o-1].add(n);return{wnd:t,points:e}};Dr.prototype._getBeta=function(){return null};Dr.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var tI=Ir,Ae=Pe,P0=Lt,Xs=Nc,eI=tI.assert;function Kr(t){Xs.call(this,"short",t),this.a=new Ae(t.a,16).toRed(this.red),this.b=new Ae(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}P0(Kr,Xs);var rI=Kr;Kr.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,r;if(t.beta)e=new Ae(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=n[0].cmp(n[1])<0?n[0]:n[1],e=e.toRed(this.red)}if(t.lambda)r=new Ae(t.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))===0?r=o[0]:(r=o[1],eI(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}var i;return t.basis?i=t.basis.map(function(s){return{a:new Ae(s.a,16),b:new Ae(s.b,16)}}):i=this._getEndoBasis(r),{beta:e,lambda:r,basis:i}}};Kr.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ae.mont(t),r=new Ae(2).toRed(e).redInvm(),n=r.redNeg(),o=new Ae(3).toRed(e).redNeg().redSqrt().redMul(r),i=n.redAdd(o).fromRed(),s=n.redSub(o).fromRed();return[i,s]};Kr.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=t,n=this.n.clone(),o=new Ae(1),i=new Ae(0),s=new Ae(0),a=new Ae(1),f,u,c,l,p,y,v,A=0,T,P;r.cmpn(0)!==0;){var C=n.div(r);T=n.sub(C.mul(r)),P=s.sub(C.mul(o));var D=a.sub(C.mul(i));if(!c&&T.cmp(e)<0)f=v.neg(),u=o,c=T.neg(),l=P;else if(c&&++A===2)break;v=T,n=r,r=T,s=o,o=P,a=i,i=D}p=T.neg(),y=P;var F=c.sqr().add(l.sqr()),V=p.sqr().add(y.sqr());return V.cmp(F)>=0&&(p=f,y=u),c.negative&&(c=c.neg(),l=l.neg()),p.negative&&(p=p.neg(),y=y.neg()),[{a:c,b:l},{a:p,b:y}]};Kr.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],o=n.b.mul(t).divRound(this.n),i=r.b.neg().mul(t).divRound(this.n),s=o.mul(r.a),a=i.mul(n.a),f=o.mul(r.b),u=i.mul(n.b),c=t.sub(s).sub(a),l=f.add(u).neg();return{k1:c,k2:l}};Kr.prototype.pointFromX=function(t,e){t=new Ae(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var o=n.fromRed().isOdd();return(e&&!o||!e&&o)&&(n=n.redNeg()),this.point(t,n)};Kr.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),o=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(o).cmpn(0)===0};Kr.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,o=this._endoWnafT2,i=0;i<t.length;i++){var s=this._endoSplit(e[i]),a=t[i],f=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),n[i*2]=a,n[i*2+1]=f,o[i*2]=s.k1,o[i*2+1]=s.k2}for(var u=this._wnafMulAdd(1,n,o,i*2,r),c=0;c<i*2;c++)n[c]=null,o[c]=null;return u};function Fe(t,e,r,n){Xs.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ae(e,16),this.y=new Ae(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}P0(Fe,Xs.BasePoint);Kr.prototype.point=function(t,e,r){return new Fe(this,t,e,r)};Kr.prototype.pointFromJSON=function(t,e){return Fe.fromJSON(this,t,e)};Fe.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(o){return r.point(o.x.redMul(r.endo.beta),o.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}};Fe.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Fe.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function o(s){return t.point(s[0],s[1],r)}var i=e[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(o))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(o))}},n};Fe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Fe.prototype.isInfinity=function(){return this.inf};Fe.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)};Fe.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),o=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),i=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)};Fe.prototype.getX=function(){return this.x.fromRed()};Fe.prototype.getY=function(){return this.y.fromRed()};Fe.prototype.mul=function(t){return t=new Ae(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Fe.prototype.mulAdd=function(t,e,r){var n=[this,e],o=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o):this.curve._wnafMulAdd(1,n,o,2)};Fe.prototype.jmulAdd=function(t,e,r){var n=[this,e],o=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,o,!0):this.curve._wnafMulAdd(1,n,o,2,!0)};Fe.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Fe.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(o){return o.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e};Fe.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Ze(t,e,r,n){Xs.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ae(0)):(this.x=new Ae(e,16),this.y=new Ae(r,16),this.z=new Ae(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P0(Ze,Xs.BasePoint);Kr.prototype.jpoint=function(t,e,r){return new Ze(this,t,e,r)};Ze.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)};Ze.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ze.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),o=t.x.redMul(r),i=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(o),f=i.redSub(s);if(a.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=n.redMul(u),p=f.redSqr().redIAdd(c).redISub(l).redISub(l),y=f.redMul(l.redISub(p)).redISub(i.redMul(c)),v=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(p,y,v)};Ze.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),o=this.y,i=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=o.redSub(i);if(s.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),u=f.redMul(s),c=r.redMul(f),l=a.redSqr().redIAdd(u).redISub(c).redISub(c),p=a.redMul(c.redISub(l)).redISub(o.redMul(u)),y=this.z.redMul(s);return this.curve.jpoint(l,p,y)};Ze.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,o=this.curve.tinv,i=this.x,s=this.y,a=this.z,f=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var c=i.redSqr(),l=u.redSqr(),p=l.redSqr(),y=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(f)),v=i.redMul(l),A=y.redSqr().redISub(v.redAdd(v)),T=v.redISub(A),P=y.redMul(T);P=P.redIAdd(P).redISub(p);var C=u.redMul(a);e+1<t&&(f=f.redMul(p)),i=A,a=C,u=P}return this.curve.jpoint(i,u.redMul(o),a)};Ze.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ze.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),f=a.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),t=f,e=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),l=this.y.redSqr(),p=l.redSqr(),y=this.x.redAdd(l).redSqr().redISub(c).redISub(p);y=y.redIAdd(y);var v=c.redAdd(c).redIAdd(c),A=v.redSqr(),T=p.redIAdd(p);T=T.redIAdd(T),T=T.redIAdd(T),t=A.redISub(y).redISub(y),e=v.redMul(y.redISub(t)).redISub(T),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(t,e,r)};Ze.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),o=this.y.redSqr(),i=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),f=a.redSqr().redISub(s).redISub(s);t=f;var u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),e=a.redMul(s.redISub(f)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),l=this.y.redSqr(),p=this.x.redMul(l),y=this.x.redSub(c).redMul(this.x.redAdd(c));y=y.redAdd(y).redIAdd(y);var v=p.redIAdd(p);v=v.redIAdd(v);var A=v.redAdd(v);t=y.redSqr().redISub(A),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(c);var T=l.redSqr();T=T.redIAdd(T),T=T.redIAdd(T),T=T.redIAdd(T),e=y.redMul(v.redISub(t)).redISub(T)}return this.curve.jpoint(t,e,r)};Ze.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,o=n.redSqr().redSqr(),i=e.redSqr(),s=r.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(t.redMul(o)),f=e.redAdd(e);f=f.redIAdd(f);var u=f.redMul(s),c=a.redSqr().redISub(u.redAdd(u)),l=u.redISub(c),p=s.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=a.redMul(l).redISub(p),v=r.redAdd(r).redMul(n);return this.curve.jpoint(c,y,v)};Ze.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),o=t.redAdd(t).redIAdd(t),i=o.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(i);var a=s.redSqr(),f=n.redIAdd(n);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var u=o.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(f),c=e.redMul(u);c=c.redIAdd(c),c=c.redIAdd(c);var l=this.x.redMul(a).redISub(c);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.y.redMul(u.redMul(f.redISub(u)).redISub(s.redMul(a)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,p,y)};Ze.prototype.mul=function(t,e){return t=new Ae(t,e),this.curve._wnafMul(this,t)};Ze.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),o=r.redMul(t.z);return this.y.redMul(o).redISub(t.y.redMul(n)).cmpn(0)===0};Ze.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),o=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};Ze.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ze.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var gs=Pe,Sv=Lt,Rc=Nc,nI=Ir;function Ys(t){Rc.call(this,"mont",t),this.a=new gs(t.a,16).toRed(this.red),this.b=new gs(t.b,16).toRed(this.red),this.i4=new gs(4).toRed(this.red).redInvm(),this.two=new gs(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Sv(Ys,Rc);var iI=Ys;Ys.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e),o=n.redSqrt();return o.redSqr().cmp(n)===0};function qe(t,e,r){Rc.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new gs(e,16),this.z=new gs(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Sv(qe,Rc.BasePoint);Ys.prototype.decodePoint=function(t,e){return this.point(nI.toArray(t,e),1)};Ys.prototype.point=function(t,e){return new qe(this,t,e)};Ys.prototype.pointFromJSON=function(t){return qe.fromJSON(this,t)};qe.prototype.precompute=function(){};qe.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};qe.fromJSON=function(t,e){return new qe(t,e[0],e[1]||t.one)};qe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};qe.prototype.isInfinity=function(){return this.z.cmpn(0)===0};qe.prototype.dbl=function(){var t=this.x.redAdd(this.z),e=t.redSqr(),r=this.x.redSub(this.z),n=r.redSqr(),o=e.redSub(n),i=e.redMul(n),s=o.redMul(n.redAdd(this.curve.a24.redMul(o)));return this.curve.point(i,s)};qe.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};qe.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),o=t.x.redAdd(t.z),i=t.x.redSub(t.z),s=i.redMul(r),a=o.redMul(n),f=e.z.redMul(s.redAdd(a).redSqr()),u=e.x.redMul(s.redISub(a).redSqr());return this.curve.point(f,u)};qe.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),o=this,i=[];e.cmpn(0)!==0;e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)i[s]===0?(r=r.diffAdd(n,o),n=n.dbl()):(n=r.diffAdd(n,o),r=r.dbl());return n};qe.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};qe.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};qe.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};qe.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};qe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var oI=Ir,Ln=Pe,Ev=Lt,Uc=Nc,sI=oI.assert;function mn(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Uc.call(this,"edwards",t),this.a=new Ln(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ln(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ln(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),sI(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Ev(mn,Uc);var aI=mn;mn.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};mn.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};mn.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)};mn.prototype.pointFromX=function(t,e){t=new Ln(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),i=n.redMul(o.redInvm()),s=i.redSqrt();if(s.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var a=s.fromRed().isOdd();return(e&&!a||!e&&a)&&(s=s.redNeg()),this.point(t,s)};mn.prototype.pointFromY=function(t,e){t=new Ln(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),i=n.redMul(o.redInvm());if(i.cmp(this.zero)===0){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=i.redSqrt();if(s.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)};mn.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),o=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return n.cmp(o)===0};function oe(t,e,r,n,o){Uc.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ln(e,16),this.y=new Ln(r,16),this.z=n?new Ln(n,16):this.curve.one,this.t=o&&new Ln(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Ev(oe,Uc.BasePoint);mn.prototype.pointFromJSON=function(t){return oe.fromJSON(this,t)};mn.prototype.point=function(t,e,r,n){return new oe(this,t,e,r,n)};oe.fromJSON=function(t,e){return new oe(t,e[0],e[1],e[2])};oe.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};oe.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};oe.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),o=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),i=n.redAdd(e),s=i.redSub(r),a=n.redSub(e),f=o.redMul(s),u=i.redMul(a),c=o.redMul(a),l=s.redMul(i);return this.curve.point(f,u,l,c)};oe.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),e=this.x.redSqr(),r=this.y.redSqr(),n,o,i,s,a,f;if(this.curve.twisted){s=this.curve._mulA(e);var u=s.redAdd(r);this.zOne?(n=t.redSub(e).redSub(r).redMul(u.redSub(this.curve.two)),o=u.redMul(s.redSub(r)),i=u.redSqr().redSub(u).redSub(u)):(a=this.z.redSqr(),f=u.redSub(a).redISub(a),n=t.redSub(e).redISub(r).redMul(f),o=u.redMul(s.redSub(r)),i=u.redMul(f))}else s=e.redAdd(r),a=this.curve._mulC(this.z).redSqr(),f=s.redSub(a).redSub(a),n=this.curve._mulC(t.redISub(s)).redMul(f),o=this.curve._mulC(s).redMul(e.redISub(r)),i=s.redMul(f);return this.curve.point(n,o,i)};oe.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};oe.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),o=this.z.redMul(t.z.redAdd(t.z)),i=r.redSub(e),s=o.redSub(n),a=o.redAdd(n),f=r.redAdd(e),u=i.redMul(s),c=a.redMul(f),l=i.redMul(f),p=s.redMul(a);return this.curve.point(u,c,p,l)};oe.prototype._projAdd=function(t){var e=this.z.redMul(t.z),r=e.redSqr(),n=this.x.redMul(t.x),o=this.y.redMul(t.y),i=this.curve.d.redMul(n).redMul(o),s=r.redSub(i),a=r.redAdd(i),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(n).redISub(o),u=e.redMul(s).redMul(f),c,l;return this.curve.twisted?(c=e.redMul(a).redMul(o.redSub(this.curve._mulA(n))),l=s.redMul(a)):(c=e.redMul(a).redMul(o.redSub(n)),l=this.curve._mulC(s).redMul(a)),this.curve.point(u,c,l)};oe.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};oe.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};oe.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)};oe.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)};oe.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};oe.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};oe.prototype.getX=function(){return this.normalize(),this.x.fromRed()};oe.prototype.getY=function(){return this.normalize(),this.y.fromRed()};oe.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};oe.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(e)===0)return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),this.x.cmp(e)===0)return!0}};oe.prototype.toP=oe.prototype.normalize;oe.prototype.mixedAdd=oe.prototype.add;(function(t){var e=t;e.base=Nc,e.short=rI,e.mont=iI,e.edwards=aI})(M0);var Cc={},Hc={},Kt={},uI=Lr,fI=Lt;Kt.inherits=fI;function cI(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function hI(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),o=0;o<t.length;o+=2)r.push(parseInt(t[o]+t[o+1],16))}else for(var n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):cI(t,o)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++o)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(o=0;o<t.length;o++)r[o]=t[o]|0;return r}Kt.toArray=hI;function lI(t){for(var e="",r=0;r<t.length;r++)e+=kv(t[r].toString(16));return e}Kt.toHex=lI;function Av(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Kt.htonl=Av;function pI(t,e){for(var r="",n=0;n<t.length;n++){var o=t[n];e==="little"&&(o=Av(o)),r+=Iv(o.toString(16))}return r}Kt.toHex32=pI;function kv(t){return t.length===1?"0"+t:t}Kt.zero2=kv;function Iv(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Kt.zero8=Iv;function dI(t,e,r,n){var o=r-e;uI(o%4===0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var f;n==="big"?f=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:f=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],i[s]=f>>>0}return i}Kt.join32=dI;function bI(t,e){for(var r=new Array(t.length*4),n=0,o=0;n<t.length;n++,o+=4){var i=t[n];e==="big"?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=i&255):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=i&255)}return r}Kt.split32=bI;function yI(t,e){return t>>>e|t<<32-e}Kt.rotr32=yI;function gI(t,e){return t<<e|t>>>32-e}Kt.rotl32=gI;function mI(t,e){return t+e>>>0}Kt.sum32=mI;function vI(t,e,r){return t+e+r>>>0}Kt.sum32_3=vI;function wI(t,e,r,n){return t+e+r+n>>>0}Kt.sum32_4=wI;function _I(t,e,r,n,o){return t+e+r+n+o>>>0}Kt.sum32_5=_I;function SI(t,e,r,n){var o=t[e],i=t[e+1],s=n+i>>>0,a=(s<n?1:0)+r+o;t[e]=a>>>0,t[e+1]=s}Kt.sum64=SI;function EI(t,e,r,n){var o=e+n>>>0,i=(o<e?1:0)+t+r;return i>>>0}Kt.sum64_hi=EI;function AI(t,e,r,n){var o=e+n;return o>>>0}Kt.sum64_lo=AI;function kI(t,e,r,n,o,i,s,a){var f=0,u=e;u=u+n>>>0,f+=u<e?1:0,u=u+i>>>0,f+=u<i?1:0,u=u+a>>>0,f+=u<a?1:0;var c=t+r+o+s+f;return c>>>0}Kt.sum64_4_hi=kI;function II(t,e,r,n,o,i,s,a){var f=e+n+i+a;return f>>>0}Kt.sum64_4_lo=II;function TI(t,e,r,n,o,i,s,a,f,u){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+i>>>0,c+=l<i?1:0,l=l+a>>>0,c+=l<a?1:0,l=l+u>>>0,c+=l<u?1:0;var p=t+r+o+s+f+c;return p>>>0}Kt.sum64_5_hi=TI;function OI(t,e,r,n,o,i,s,a,f,u){var c=e+n+i+a+u;return c>>>0}Kt.sum64_5_lo=OI;function BI(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Kt.rotr64_hi=BI;function MI(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kt.rotr64_lo=MI;function PI(t,e,r){return t>>>r}Kt.shr64_hi=PI;function xI(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kt.shr64_lo=xI;var Zs={},ag=Kt,NI=Lr;function jc(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Zs.BlockHash=jc;jc.prototype.update=function(t,e){if(t=ag.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=ag.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this};jc.prototype.digest=function(t){return this.update(this._pad()),NI(this.pending===null),this._digest(t)};jc.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var o=1;o<r;o++)n[o]=0;if(t<<=3,this.endian==="big"){for(var i=8;i<this.padLength;i++)n[o++]=0;n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=t>>>24&255,n[o++]=t>>>16&255,n[o++]=t>>>8&255,n[o++]=t&255}else for(n[o++]=t&255,n[o++]=t>>>8&255,n[o++]=t>>>16&255,n[o++]=t>>>24&255,n[o++]=0,n[o++]=0,n[o++]=0,n[o++]=0,i=8;i<this.padLength;i++)n[o++]=0;return n};var Js={},vn={},RI=Kt,fn=RI.rotr32;function UI(t,e,r,n){if(t===0)return Tv(e,r,n);if(t===1||t===3)return Bv(e,r,n);if(t===2)return Ov(e,r,n)}vn.ft_1=UI;function Tv(t,e,r){return t&e^~t&r}vn.ch32=Tv;function Ov(t,e,r){return t&e^t&r^e&r}vn.maj32=Ov;function Bv(t,e,r){return t^e^r}vn.p32=Bv;function CI(t){return fn(t,2)^fn(t,13)^fn(t,22)}vn.s0_256=CI;function HI(t){return fn(t,6)^fn(t,11)^fn(t,25)}vn.s1_256=HI;function jI(t){return fn(t,7)^fn(t,18)^t>>>3}vn.g0_256=jI;function LI(t){return fn(t,17)^fn(t,19)^t>>>10}vn.g1_256=LI;var Ns=Kt,DI=Zs,KI=vn,Yl=Ns.rotl32,wa=Ns.sum32,qI=Ns.sum32_5,FI=KI.ft_1,Mv=DI.BlockHash,GI=[1518500249,1859775393,2400959708,3395469782];function ln(){if(!(this instanceof ln))return new ln;Mv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ns.inherits(ln,Mv);var WI=ln;ln.blockSize=512;ln.outSize=160;ln.hmacStrength=80;ln.padLength=64;ln.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Yl(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=qI(Yl(o,5),FI(u,i,s,a),f,r[n],GI[u]);f=a,a=s,s=Yl(i,30),i=o,o=c}this.h[0]=wa(this.h[0],o),this.h[1]=wa(this.h[1],i),this.h[2]=wa(this.h[2],s),this.h[3]=wa(this.h[3],a),this.h[4]=wa(this.h[4],f)};ln.prototype._digest=function(t){return t==="hex"?Ns.toHex32(this.h,"big"):Ns.split32(this.h,"big")};var Rs=Kt,VI=Zs,Qs=vn,zI=Lr,Fr=Rs.sum32,$I=Rs.sum32_4,XI=Rs.sum32_5,YI=Qs.ch32,ZI=Qs.maj32,JI=Qs.s0_256,QI=Qs.s1_256,tT=Qs.g0_256,eT=Qs.g1_256,Pv=VI.BlockHash,rT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pn(){if(!(this instanceof pn))return new pn;Pv.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rT,this.W=new Array(64)}Rs.inherits(pn,Pv);var xv=pn;pn.blockSize=512;pn.outSize=256;pn.hmacStrength=192;pn.padLength=64;pn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=$I(eT(r[n-2]),r[n-7],tT(r[n-15]),r[n-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],f=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7];for(zI(this.k.length===r.length),n=0;n<r.length;n++){var p=XI(l,QI(f),YI(f,u,c),this.k[n],r[n]),y=Fr(JI(o),ZI(o,i,s));l=c,c=u,u=f,f=Fr(a,p),a=s,s=i,i=o,o=Fr(p,y)}this.h[0]=Fr(this.h[0],o),this.h[1]=Fr(this.h[1],i),this.h[2]=Fr(this.h[2],s),this.h[3]=Fr(this.h[3],a),this.h[4]=Fr(this.h[4],f),this.h[5]=Fr(this.h[5],u),this.h[6]=Fr(this.h[6],c),this.h[7]=Fr(this.h[7],l)};pn.prototype._digest=function(t){return t==="hex"?Rs.toHex32(this.h,"big"):Rs.split32(this.h,"big")};var dd=Kt,Nv=xv;function Gn(){if(!(this instanceof Gn))return new Gn;Nv.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}dd.inherits(Gn,Nv);var nT=Gn;Gn.blockSize=512;Gn.outSize=224;Gn.hmacStrength=192;Gn.padLength=64;Gn.prototype._digest=function(t){return t==="hex"?dd.toHex32(this.h.slice(0,7),"big"):dd.split32(this.h.slice(0,7),"big")};var gr=Kt,iT=Zs,oT=Lr,cn=gr.rotr64_hi,hn=gr.rotr64_lo,Rv=gr.shr64_hi,Uv=gr.shr64_lo,Qn=gr.sum64,Zl=gr.sum64_hi,Jl=gr.sum64_lo,sT=gr.sum64_4_hi,aT=gr.sum64_4_lo,uT=gr.sum64_5_hi,fT=gr.sum64_5_lo,Cv=iT.BlockHash,cT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $r(){if(!(this instanceof $r))return new $r;Cv.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=cT,this.W=new Array(160)}gr.inherits($r,Cv);var Hv=$r;$r.blockSize=1024;$r.outSize=512;$r.hmacStrength=192;$r.padLength=128;$r.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var o=_T(r[n-4],r[n-3]),i=ST(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],f=vT(r[n-30],r[n-29]),u=wT(r[n-30],r[n-29]),c=r[n-32],l=r[n-31];r[n]=sT(o,i,s,a,f,u,c,l),r[n+1]=aT(o,i,s,a,f,u,c,l)}};$r.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],f=this.h[5],u=this.h[6],c=this.h[7],l=this.h[8],p=this.h[9],y=this.h[10],v=this.h[11],A=this.h[12],T=this.h[13],P=this.h[14],C=this.h[15];oT(this.k.length===r.length);for(var D=0;D<r.length;D+=2){var F=P,V=C,U=gT(l,p),J=mT(l,p),tt=hT(l,p,y,v,A),Q=lT(l,p,y,v,A,T),st=this.k[D],m=this.k[D+1],O=r[D],h=r[D+1],g=uT(F,V,U,J,tt,Q,st,m,O,h),_=fT(F,V,U,J,tt,Q,st,m,O,h);F=bT(n,o),V=yT(n,o),U=pT(n,o,i,s,a),J=dT(n,o,i,s,a,f);var M=Zl(F,V,U,J),R=Jl(F,V,U,J);P=A,C=T,A=y,T=v,y=l,v=p,l=Zl(u,c,g,_),p=Jl(c,c,g,_),u=a,c=f,a=i,f=s,i=n,s=o,n=Zl(g,_,M,R),o=Jl(g,_,M,R)}Qn(this.h,0,n,o),Qn(this.h,2,i,s),Qn(this.h,4,a,f),Qn(this.h,6,u,c),Qn(this.h,8,l,p),Qn(this.h,10,y,v),Qn(this.h,12,A,T),Qn(this.h,14,P,C)};$r.prototype._digest=function(t){return t==="hex"?gr.toHex32(this.h,"big"):gr.split32(this.h,"big")};function hT(t,e,r,n,o){var i=t&r^~t&o;return i<0&&(i+=4294967296),i}function lT(t,e,r,n,o,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function pT(t,e,r,n,o){var i=t&r^t&o^r&o;return i<0&&(i+=4294967296),i}function dT(t,e,r,n,o,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function bT(t,e){var r=cn(t,e,28),n=cn(e,t,2),o=cn(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function yT(t,e){var r=hn(t,e,28),n=hn(e,t,2),o=hn(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function gT(t,e){var r=cn(t,e,14),n=cn(t,e,18),o=cn(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function mT(t,e){var r=hn(t,e,14),n=hn(t,e,18),o=hn(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function vT(t,e){var r=cn(t,e,1),n=cn(t,e,8),o=Rv(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function wT(t,e){var r=hn(t,e,1),n=hn(t,e,8),o=Uv(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function _T(t,e){var r=cn(t,e,19),n=cn(e,t,29),o=Rv(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}function ST(t,e){var r=hn(t,e,19),n=hn(e,t,29),o=Uv(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}var bd=Kt,jv=Hv;function Wn(){if(!(this instanceof Wn))return new Wn;jv.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}bd.inherits(Wn,jv);var ET=Wn;Wn.blockSize=1024;Wn.outSize=384;Wn.hmacStrength=192;Wn.padLength=128;Wn.prototype._digest=function(t){return t==="hex"?bd.toHex32(this.h.slice(0,12),"big"):bd.split32(this.h.slice(0,12),"big")};Js.sha1=WI;Js.sha224=nT;Js.sha256=xv;Js.sha384=ET;Js.sha512=Hv;var Lv={},To=Kt,AT=Zs,Bu=To.rotl32,ug=To.sum32,_a=To.sum32_3,fg=To.sum32_4,Dv=AT.BlockHash;function dn(){if(!(this instanceof dn))return new dn;Dv.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}To.inherits(dn,Dv);Lv.ripemd160=dn;dn.blockSize=512;dn.outSize=160;dn.hmacStrength=192;dn.padLength=64;dn.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=r,f=n,u=o,c=i,l=s,p=0;p<80;p++){var y=ug(Bu(fg(r,cg(p,n,o,i),t[TT[p]+e],kT(p)),BT[p]),s);r=s,s=i,i=Bu(o,10),o=n,n=y,y=ug(Bu(fg(a,cg(79-p,f,u,c),t[OT[p]+e],IT(p)),MT[p]),l),a=l,l=c,c=Bu(u,10),u=f,f=y}y=_a(this.h[1],o,c),this.h[1]=_a(this.h[2],i,l),this.h[2]=_a(this.h[3],s,a),this.h[3]=_a(this.h[4],r,f),this.h[4]=_a(this.h[0],n,u),this.h[0]=y};dn.prototype._digest=function(t){return t==="hex"?To.toHex32(this.h,"little"):To.split32(this.h,"little")};function cg(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function kT(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function IT(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var TT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],OT=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],BT=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],MT=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],PT=Kt,xT=Lr;function Us(t,e,r){if(!(this instanceof Us))return new Us(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(PT.toArray(e,r))}var NT=Us;Us.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),xT(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)};Us.prototype.update=function(t,e){return this.inner.update(t,e),this};Us.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(t){var e=t;e.utils=Kt,e.common=Zs,e.sha=Js,e.ripemd=Lv,e.hmac=NT,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Hc);var hg,lg;function RT(){return lg||(lg=1,hg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),hg}(function(t){var e=t,r=Hc,n=M0,o=Ir,i=o.assert;function s(u){u.type==="short"?this.curve=new n.short(u):u.type==="edwards"?this.curve=new n.edwards(u):this.curve=new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(u,c){Object.defineProperty(e,u,{configurable:!0,enumerable:!0,get:function(){var l=new s(c);return Object.defineProperty(e,u,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=RT()}catch{f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})})(Cc);var UT=Hc,wo=v0,Kv=Lr;function vi(t){if(!(this instanceof vi))return new vi(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wo.toArray(t.entropy,t.entropyEnc||"hex"),r=wo.toArray(t.nonce,t.nonceEnc||"hex"),n=wo.toArray(t.pers,t.persEnc||"hex");Kv(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var CT=vi;vi.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};vi.prototype._hmac=function(){return new UT.hmac(this.hash,this.K)};vi.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};vi.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=wo.toArray(t,e),r=wo.toArray(r,n),Kv(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1};vi.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=wo.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var i=o.slice(0,t);return this._update(r),this._reseed++,wo.encode(i,e)};var HT=Pe,jT=Ir,yd=jT.assert;function ir(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var LT=ir;ir.fromPublic=function(t,e,r){return e instanceof ir?e:new ir(t,{pub:e,pubEnc:r})};ir.fromPrivate=function(t,e,r){return e instanceof ir?e:new ir(t,{priv:e,privEnc:r})};ir.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ir.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub};ir.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};ir.prototype._importPrivate=function(t,e){this.priv=new HT(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)};ir.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?yd(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yd(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)};ir.prototype.derive=function(t){return t.validate()||yd(t.validate(),"public point not validated"),t.mul(this.priv).getX()};ir.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)};ir.prototype.verify=function(t,e){return this.ec.verify(t,e,this)};ir.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Nf=Pe,x0=Ir,DT=x0.assert;function Lc(t,e){if(t instanceof Lc)return t;this._importDER(t,e)||(DT(t.r&&t.s,"Signature without r or s"),this.r=new Nf(t.r,16),this.s=new Nf(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var KT=Lc;function qT(){this.place=0}function Ql(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=t[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function pg(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Lc.prototype._importDER=function(t,e){t=x0.toArray(t,e);var r=new qT;if(t[r.place++]!==48)return!1;var n=Ql(t,r);if(n===!1||n+r.place!==t.length||t[r.place++]!==2)return!1;var o=Ql(t,r);if(o===!1)return!1;var i=t.slice(r.place,o+r.place);if(r.place+=o,t[r.place++]!==2)return!1;var s=Ql(t,r);if(s===!1||t.length!==s+r.place)return!1;var a=t.slice(r.place,s+r.place);if(i[0]===0)if(i[1]&128)i=i.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new Nf(i),this.s=new Nf(a),this.recoveryParam=null,!0};function tp(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Lc.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),r[0]&128&&(r=[0].concat(r)),e=pg(e),r=pg(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];tp(n,e.length),n=n.concat(e),n.push(2),tp(n,r.length);var o=n.concat(r),i=[48];return tp(i,o.length),i=i.concat(o),x0.encode(i,t)};var ep,dg;function FT(){if(dg)return ep;dg=1;var t=Pe,e=CT,r=Ir,n=Cc,o=B0(),i=r.assert,s=LT,a=KT;function f(u){if(!(this instanceof f))return new f(u);typeof u=="string"&&(i(Object.prototype.hasOwnProperty.call(n,u),"Unknown curve "+u),u=n[u]),u instanceof n.PresetCurve&&(u={curve:u}),this.curve=u.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=u.curve.g,this.g.precompute(u.curve.n.bitLength()+1),this.hash=u.hash||u.curve.hash}return ep=f,f.prototype.keyPair=function(u){return new s(this,u)},f.prototype.keyFromPrivate=function(u,c){return s.fromPrivate(this,u,c)},f.prototype.keyFromPublic=function(u,c){return s.fromPublic(this,u,c)},f.prototype.genKeyPair=function(u){u||(u={});for(var c=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||o(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),l=this.n.byteLength(),p=this.n.sub(new t(2));;){var y=new t(c.generate(l));if(!(y.cmp(p)>0))return y.iaddn(1),this.keyFromPrivate(y)}},f.prototype._truncateToN=function(u,c){var l=u.byteLength()*8-this.n.bitLength();return l>0&&(u=u.ushrn(l)),!c&&u.cmp(this.n)>=0?u.sub(this.n):u},f.prototype.sign=function(u,c,l,p){typeof l=="object"&&(p=l,l=null),p||(p={}),c=this.keyFromPrivate(c,l),u=this._truncateToN(new t(u,16));for(var y=this.n.byteLength(),v=c.getPrivate().toArray("be",y),A=u.toArray("be",y),T=new e({hash:this.hash,entropy:v,nonce:A,pers:p.pers,persEnc:p.persEnc||"utf8"}),P=this.n.sub(new t(1)),C=0;;C++){var D=p.k?p.k(C):new t(T.generate(this.n.byteLength()));if(D=this._truncateToN(D,!0),!(D.cmpn(1)<=0||D.cmp(P)>=0)){var F=this.g.mul(D);if(!F.isInfinity()){var V=F.getX(),U=V.umod(this.n);if(U.cmpn(0)!==0){var J=D.invm(this.n).mul(U.mul(c.getPrivate()).iadd(u));if(J=J.umod(this.n),J.cmpn(0)!==0){var tt=(F.getY().isOdd()?1:0)|(V.cmp(U)!==0?2:0);return p.canonical&&J.cmp(this.nh)>0&&(J=this.n.sub(J),tt^=1),new a({r:U,s:J,recoveryParam:tt})}}}}}},f.prototype.verify=function(u,c,l,p){u=this._truncateToN(new t(u,16)),l=this.keyFromPublic(l,p),c=new a(c,"hex");var y=c.r,v=c.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var A=v.invm(this.n),T=A.mul(u).umod(this.n),P=A.mul(y).umod(this.n),C;return this.curve._maxwellTrick?(C=this.g.jmulAdd(T,l.getPublic(),P),C.isInfinity()?!1:C.eqXToP(y)):(C=this.g.mulAdd(T,l.getPublic(),P),C.isInfinity()?!1:C.getX().umod(this.n).cmp(y)===0)},f.prototype.recoverPubKey=function(u,c,l,p){i((3&l)===l,"The recovery param is more than two bits"),c=new a(c,p);var y=this.n,v=new t(u),A=c.r,T=c.s,P=l&1,C=l>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");C?A=this.curve.pointFromX(A.add(this.curve.n),P):A=this.curve.pointFromX(A,P);var D=c.r.invm(y),F=y.sub(v).mul(D).umod(y),V=T.mul(D).umod(y);return this.g.mulAdd(F,A,V)},f.prototype.getKeyRecoveryParam=function(u,c,l,p){if(c=new a(c,p),c.recoveryParam!==null)return c.recoveryParam;for(var y=0;y<4;y++){var v;try{v=this.recoverPubKey(u,c,y)}catch{continue}if(v.eq(l))return y}throw new Error("Unable to find valid recovery factor")},ep}var hu=Ir,qv=hu.assert,bg=hu.parseBytes,ta=hu.cachedProperty;function Ke(t,e){this.eddsa=t,this._secret=bg(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=bg(e.pub)}Ke.fromPublic=function(t,e){return e instanceof Ke?e:new Ke(t,{pub:e})};Ke.fromSecret=function(t,e){return e instanceof Ke?e:new Ke(t,{secret:e})};Ke.prototype.secret=function(){return this._secret};ta(Ke,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ta(Ke,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ta(Ke,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n});ta(Ke,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ta(Ke,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ta(Ke,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Ke.prototype.sign=function(t){return qv(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};Ke.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)};Ke.prototype.getSecret=function(t){return qv(this._secret,"KeyPair is public only"),hu.encode(this.secret(),t)};Ke.prototype.getPublic=function(t){return hu.encode(this.pubBytes(),t)};var GT=Ke,WT=Pe,Dc=Ir,VT=Dc.assert,Kc=Dc.cachedProperty,zT=Dc.parseBytes;function Ro(t,e){this.eddsa=t,typeof e!="object"&&(e=zT(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),VT(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof WT&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Kc(Ro,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Kc(Ro,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Kc(Ro,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Kc(Ro,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ro.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ro.prototype.toHex=function(){return Dc.encode(this.toBytes(),"hex").toUpperCase()};var $T=Ro,XT=Hc,YT=Cc,Cs=Ir,ZT=Cs.assert,Fv=Cs.parseBytes,Gv=GT,yg=$T;function mr(t){if(ZT(t==="ed25519","only tested with ed25519 so far"),!(this instanceof mr))return new mr(t);t=YT[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=XT.sha512}var JT=mr;mr.prototype.sign=function(t,e){t=Fv(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),o=this.g.mul(n),i=this.encodePoint(o),s=this.hashInt(i,r.pubBytes(),t).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:o,S:a,Rencoded:i})};mr.prototype.verify=function(t,e,r){t=Fv(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),o=this.hashInt(e.Rencoded(),n.pubBytes(),t),i=this.g.mul(e.S()),s=e.R().add(n.pub().mul(o));return s.eq(i)};mr.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return Cs.intFromLE(t.digest()).umod(this.curve.n)};mr.prototype.keyFromPublic=function(t){return Gv.fromPublic(this,t)};mr.prototype.keyFromSecret=function(t){return Gv.fromSecret(this,t)};mr.prototype.makeSignature=function(t){return t instanceof yg?t:new yg(this,t)};mr.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e};mr.prototype.decodePoint=function(t){t=Cs.parseBytes(t);var e=t.length-1,r=t.slice(0,e).concat(t[e]&-129),n=(t[e]&128)!==0,o=Cs.intFromLE(r);return this.curve.pointFromY(o,n)};mr.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};mr.prototype.decodeInt=function(t){return Cs.intFromLE(t)};mr.prototype.isPoint=function(t){return t instanceof this.pointClass};var gg;function qc(){return gg||(gg=1,function(t){var e=t;e.version=qA.version,e.utils=Ir,e.rand=B0(),e.curve=M0,e.curves=Cc,e.ec=FT(),e.eddsa=JT}(Oy)),Oy}const ti=$s,QT=z.Buffer.alloc(1,1),mg=z.Buffer.alloc(1,0);function tO(t,e,r,n,o){let i=z.Buffer.alloc(32,0),s=z.Buffer.alloc(32,1);i=ti("sha256",i).update(s).update(mg).update(e).update(t).update(o||"").digest(),s=ti("sha256",i).update(s).digest(),i=ti("sha256",i).update(s).update(QT).update(e).update(t).update(o||"").digest(),s=ti("sha256",i).update(s).digest(),s=ti("sha256",i).update(s).digest();let a=s;for(;!n(a)||!r(a);)i=ti("sha256",i).update(s).update(mg).digest(),s=ti("sha256",i).update(s).digest(),s=ti("sha256",i).update(s).digest(),a=s;return a}var eO=tO;const rO=Pe,nO=qc().ec,N0=new nO("secp256k1"),iO=eO,Rf=z.Buffer.alloc(32,0),Uf=z.Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),vg=z.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),Vr=N0.curve.n,Wv=Vr.shrn(1),Fc=N0.curve.g,Gc="Expected Private",Oo="Expected Point",Wc="Expected Tweak",Vv="Expected Hash",oO="Expected Signature",sO="Expected Extra Data (32 bytes)";function qa(t){return z.Buffer.isBuffer(t)&&t.length===32}function Vc(t){return qa(t)?t.compare(Uf)<0:!1}function wi(t){if(!z.Buffer.isBuffer(t)||t.length<33)return!1;const e=t[0],r=t.slice(1,33);if(r.compare(Rf)===0||r.compare(vg)>=0)return!1;if((e===2||e===3)&&t.length===33){try{Bo(t)}catch{return!1}return!0}const n=t.slice(33);return n.compare(Rf)===0||n.compare(vg)>=0?!1:e===4&&t.length===65}function zv(t){return t[0]!==4}function aO(t){return wi(t)?zv(t):!1}function _i(t){return qa(t)?t.compare(Rf)>0&&t.compare(Uf)<0:!1}function uO(t){const e=t.slice(0,32),r=t.slice(32,64);return z.Buffer.isBuffer(t)&&t.length===64&&e.compare(Uf)<0&&r.compare(Uf)<0}function lu(t,e){return t===void 0&&e!==void 0?zv(e):t===void 0?!0:t}function Ar(t){return new rO(t)}function Cf(t){return t.toArrayLike(z.Buffer,"be",32)}function Bo(t){return N0.curve.decodePoint(t)}function Hs(t,e){return z.Buffer.from(t._encode(e))}function fO(t,e,r){if(!wi(t))throw new TypeError(Oo);if(!wi(e))throw new TypeError(Oo);const n=Bo(t),o=Bo(e),i=n.add(o);if(i.isInfinity())return null;const s=lu(r,t);return Hs(i,s)}function cO(t,e,r){if(!wi(t))throw new TypeError(Oo);if(!Vc(e))throw new TypeError(Wc);const n=lu(r,t),o=Bo(t);if(e.compare(Rf)===0)return Hs(o,n);const i=Ar(e),s=Fc.mul(i),a=o.add(s);return a.isInfinity()?null:Hs(a,n)}function hO(t,e){if(!wi(t))throw new TypeError(Oo);const r=Bo(t);if(r.isInfinity())throw new TypeError(Oo);const n=lu(e,t);return Hs(r,n)}function lO(t,e){if(!_i(t))throw new TypeError(Gc);const r=Ar(t),n=Fc.mul(r);if(n.isInfinity())return null;const o=lu(e);return Hs(n,o)}function pO(t,e,r){if(!wi(t))throw new TypeError(Oo);if(!Vc(e))throw new TypeError(Wc);const n=lu(r,t),o=Bo(t),i=Ar(e),s=o.mul(i);return s.isInfinity()?null:Hs(s,n)}function dO(t,e){if(!_i(t))throw new TypeError(Gc);if(!Vc(e))throw new TypeError(Wc);const r=Ar(t),n=Ar(e),o=Cf(r.add(n).umod(Vr));return _i(o)?o:null}function bO(t,e){if(!_i(t))throw new TypeError(Gc);if(!Vc(e))throw new TypeError(Wc);const r=Ar(t),n=Ar(e),o=Cf(r.sub(n).umod(Vr));return _i(o)?o:null}function yO(t,e){return $v(t,e)}function gO(t,e,r){return $v(t,e,r)}function $v(t,e,r){if(!qa(t))throw new TypeError(Vv);if(!_i(e))throw new TypeError(Gc);if(r!==void 0&&!qa(r))throw new TypeError(sO);const n=Ar(e),o=Ar(t);let i,s;iO(t,e,function(f){const u=Ar(f),c=Fc.mul(u);return!(c.isInfinity()||(i=c.x.umod(Vr),i.isZero()===0)||(s=u.invm(Vr).mul(o.add(n.mul(i))).umod(Vr),s.isZero()===0))},_i,r),s.cmp(Wv)>0&&(s=Vr.sub(s));const a=z.Buffer.allocUnsafe(64);return Cf(i).copy(a,0),Cf(s).copy(a,32),a}function mO(t,e,r,n){if(!qa(t))throw new TypeError(Vv);if(!wi(e))throw new TypeError(Oo);if(!uO(r))throw new TypeError(oO);const o=Bo(e),i=Ar(r.slice(0,32)),s=Ar(r.slice(32,64));if(n&&s.cmp(Wv)>0||i.gtn(0)<=0||s.gtn(0)<=0)return!1;const a=Ar(t),f=s.invm(Vr),u=a.mul(f).umod(Vr),c=i.mul(f).umod(Vr),l=Fc.mulAdd(u,o,c);return l.isInfinity()?!1:l.x.umod(Vr).eq(i)}var wn={isPoint:wi,isPointCompressed:aO,isPrivate:_i,pointAdd:fO,pointAddScalar:cO,pointCompress:hO,pointFromScalar:lO,pointMultiply:pO,privateAdd:dO,privateSub:bO,sign:yO,signWithEntropy:gO,verify:mO};const vO=ac(wn),Xv=h7({__proto__:null,default:vO},[wn]);var Fa={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};Fa.Null=Fa.Nil;for(var wg in Fa)Fa[wg].toJSON=function(t){return t}.bind(null,wg);var R0=Fa,_o=R0;function Yv(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function U0(t){return _o.Nil(t)?"":Yv(t.constructor)}function wO(t){return _o.Function(t)?"":_o.String(t)?JSON.stringify(t):t&&_o.Object(t)?"":t}function C0(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function Hf(t){return _o.Function(t)?t.toJSON?t.toJSON():Yv(t):_o.Array(t)?"Array":t&&_o.Object(t)?"Object":t!==void 0?t:""}function Zv(t,e,r){var n=wO(e);return"Expected "+Hf(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function Vn(t,e,r){r=r||U0(e),this.message=Zv(t,e,r),C0(this,Vn),this.__type=t,this.__value=e,this.__valueTypeName=r}Vn.prototype=Object.create(Error.prototype);Vn.prototype.constructor=Vn;function _O(t,e,r,n,o){var i='" of type ';return e==="key"&&(i='" with key type '),Zv('property "'+Hf(r)+i+Hf(t),n,o)}function ks(t,e,r,n,o){t?(o=o||U0(n),this.message=_O(t,r,e,n,o)):this.message='Unexpected property "'+e+'"',C0(this,Vn),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=o}ks.prototype=Object.create(Error.prototype);ks.prototype.constructor=Vn;function SO(t,e){return new Vn(t,{},e)}function EO(t,e,r){return t instanceof ks?(e=e+"."+t.__property,t=new ks(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof Vn&&(t=new ks(t.__type,e,r,t.__value,t.__valueTypeName)),C0(t),t}var Jv={TfTypeError:Vn,TfPropertyTypeError:ks,tfCustomError:SO,tfSubError:EO,tfJSON:Hf,getValueTypeName:U0},rp,_g;function AO(){if(_g)return rp;_g=1;var t=R0,e=Jv;function r(U){return z.Buffer.isBuffer(U)}function n(U){return typeof U=="string"&&/^([0-9a-f]{2})+$/i.test(U)}function o(U,J){var tt=U.toJSON();function Q(st){if(!U(st))return!1;if(st.length===J)return!0;throw e.tfCustomError(tt+"(Length: "+J+")",tt+"(Length: "+st.length+")")}return Q.toJSON=function(){return tt},Q}var i=o.bind(null,t.Array),s=o.bind(null,r),a=o.bind(null,n),f=o.bind(null,t.String);function u(U,J,tt){tt=tt||t.Number;function Q(st,m){return tt(st,m)&&st>U&&st<J}return Q.toJSON=function(){return`${tt.toJSON()} between [${U}, ${J}]`},Q}var c=Math.pow(2,53)-1;function l(U){return typeof U=="number"&&isFinite(U)}function p(U){return U<<24>>24===U}function y(U){return U<<16>>16===U}function v(U){return(U|0)===U}function A(U){return typeof U=="number"&&U>=-c&&U<=c&&Math.floor(U)===U}function T(U){return(U&255)===U}function P(U){return(U&65535)===U}function C(U){return U>>>0===U}function D(U){return typeof U=="number"&&U>=0&&U<=c&&Math.floor(U)===U}var F={ArrayN:i,Buffer:r,BufferN:s,Finite:l,Hex:n,HexN:a,Int8:p,Int16:y,Int32:v,Int53:A,Range:u,StringN:f,UInt8:T,UInt16:P,UInt32:C,UInt53:D};for(var V in F)F[V].toJSON=function(U){return U}.bind(null,V);return rp=F,rp}var zc=Jv,fr=R0,kn=zc.tfJSON,Qv=zc.TfTypeError,t8=zc.TfPropertyTypeError,Mu=zc.tfSubError,Un={arrayOf:function(t,e){t=Qr(t),e=e||{};function r(n,o){return!fr.Array(n)||fr.Nil(n)||e.minLength!==void 0&&n.length<e.minLength||e.maxLength!==void 0&&n.length>e.maxLength||e.length!==void 0&&n.length!==e.length?!1:n.every(function(i,s){try{return br(t,i,o)}catch(a){throw Mu(a,s)}})}return r.toJSON=function(){var n="["+kn(t)+"]";return e.length!==void 0?n+="{"+e.length+"}":(e.minLength!==void 0||e.maxLength!==void 0)&&(n+="{"+(e.minLength===void 0?0:e.minLength)+","+(e.maxLength===void 0?1/0:e.maxLength)+"}"),n},r},maybe:function t(e){e=Qr(e);function r(n,o){return fr.Nil(n)||e(n,o,t)}return r.toJSON=function(){return"?"+kn(e)},r},map:function(t,e){t=Qr(t),e&&(e=Qr(e));function r(n,o){if(!fr.Object(n)||fr.Nil(n))return!1;for(var i in n){try{e&&br(e,i,o)}catch(a){throw Mu(a,i,"key")}try{var s=n[i];br(t,s,o)}catch(a){throw Mu(a,i)}}return!0}return e?r.toJSON=function(){return"{"+kn(e)+": "+kn(t)+"}"}:r.toJSON=function(){return"{"+kn(t)+"}"},r},object:function(t){var e={};for(var r in t)e[r]=Qr(t[r]);function n(o,i){if(!fr.Object(o)||fr.Nil(o))return!1;var s;try{for(s in e){var a=e[s],f=o[s];br(a,f,i)}}catch(u){throw Mu(u,s)}if(i){for(s in o)if(!e[s])throw new t8(void 0,s)}return!0}return n.toJSON=function(){return kn(e)},n},anyOf:function(){var t=[].slice.call(arguments).map(Qr);function e(r,n){return t.some(function(o){try{return br(o,r,n)}catch{return!1}})}return e.toJSON=function(){return t.map(kn).join("|")},e},allOf:function(){var t=[].slice.call(arguments).map(Qr);function e(r,n){return t.every(function(o){try{return br(o,r,n)}catch{return!1}})}return e.toJSON=function(){return t.map(kn).join(" & ")},e},quacksLike:function(t){function e(r){return!0}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(Qr);function e(r,n){return!0}return e.toJSON=function(){return"("+t.map(kn).join(", ")+")"},e},value:function(t){function e(r){return!0}return e.toJSON=function(){return t},e}};Un.oneOf=Un.anyOf;function Qr(t){if(fr.String(t))return t[0]==="?"?Un.maybe(t.slice(1)):fr[t]||Un.quacksLike(t);if(t&&fr.Object(t)){if(fr.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return Un.arrayOf(t[0])}return Un.object(t)}else if(fr.Function(t))return t;return Un.value(t)}function br(t,e,r,n){if(fr.Function(t)){if(t(e,r))return!0;throw new Qv(n||t,e)}return br(Qr(t),e,r)}for(var bi in fr)br[bi]=fr[bi];for(bi in Un)br[bi]=Un[bi];var Sg=AO();for(bi in Sg)br[bi]=Sg[bi];br.compile=Qr;br.TfTypeError=Qv;br.TfPropertyTypeError=t8;var kt=br,gd=No;function e8(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function md(t,e,r){var n=new z.Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function kO(t,e){return e8(gd.decode(t),e)}function IO(t,e,r){return typeof t=="number"?gd.encode(md(t,e,r)):gd.encode(md(t.version,t.privateKey,t.compressed))}var $c={decode:kO,decodeRaw:e8,encode:IO,encodeRaw:md};Object.defineProperty(Vs,"__esModule",{value:!0});const vd=pc,r8=No,tn=wn,$e=kt,TO=$c,wd=$e.BufferN(32),OO=$e.compile({wif:$e.UInt8,bip32:{public:$e.UInt32,private:$e.UInt32}}),Xc={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},Eg=2147483648,BO=Math.pow(2,31)-1;function MO(t){return $e.String(t)&&t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function PO(t){return $e.UInt32(t)&&t<=BO}class n8{constructor(e,r,n,o,i=0,s=0,a=0){this.__D=e,this.__Q=r,this.chainCode=n,this.network=o,this.__DEPTH=i,this.__INDEX=s,this.__PARENT_FINGERPRINT=a,$e(OO,o),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=tn.pointFromScalar(this.__D,!0)),this.__Q}get privateKey(){return this.__D}get identifier(){return vd.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return jf(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const e=this.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,n=z.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),r8.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return TO.encode(this.network.wif,this.privateKey,!0)}derive(e){$e($e.UInt32,e);const r=e>=Eg,n=z.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(e,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(e,33);const o=vd.hmacSHA512(this.chainCode,n),i=o.slice(0,32),s=o.slice(32);if(!tn.isPrivate(i))return this.derive(e+1);let a;if(this.isNeutered()){const f=tn.pointAddScalar(this.publicKey,i,!0);if(f===null)return this.derive(e+1);a=jf(f,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{const f=tn.privateAdd(this.privateKey,i);if(f==null)return this.derive(e+1);a=H0(f,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return a}deriveHardened(e){return $e(PO,e),this.derive(e+Eg)}derivePath(e){$e(MO,e);let r=e.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,o)=>{let i;return o.slice(-1)==="'"?(i=parseInt(o.slice(0,-1),10),n.deriveHardened(i)):(i=parseInt(o,10),n.derive(i))},this)}sign(e,r){if(!this.privateKey)throw new Error("Missing private key");if(r===void 0&&(r=this.lowR),r===!1)return tn.sign(e,this.privateKey);{let n=tn.sign(e,this.privateKey);const o=z.Buffer.alloc(32,0);let i=0;for(;n[0]>127;)i++,o.writeUIntLE(i,0,6),n=tn.signWithEntropy(e,this.privateKey,o);return n}}verify(e,r){return tn.verify(e,this.publicKey,r)}}function xO(t,e){const r=r8.decode(t);if(r.length!==78)throw new TypeError("Invalid buffer length");e=e||Xc;const n=r.readUInt32BE(0);if(n!==e.bip32.private&&n!==e.bip32.public)throw new TypeError("Invalid network version");const o=r[4],i=r.readUInt32BE(5);if(o===0&&i!==0)throw new TypeError("Invalid parent fingerprint");const s=r.readUInt32BE(9);if(o===0&&s!==0)throw new TypeError("Invalid index");const a=r.slice(13,45);let f;if(n===e.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");const u=r.slice(46,78);f=H0(u,a,e,o,s,i)}else{const u=r.slice(45,78);f=jf(u,a,e,o,s,i)}return f}Vs.fromBase58=xO;function i8(t,e,r){return H0(t,e,r)}Vs.fromPrivateKey=i8;function H0(t,e,r,n,o,i){if($e({privateKey:wd,chainCode:wd},{privateKey:t,chainCode:e}),r=r||Xc,!tn.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return new n8(t,void 0,e,r,n,o,i)}function NO(t,e,r){return jf(t,e,r)}Vs.fromPublicKey=NO;function jf(t,e,r,n,o,i){if($e({publicKey:$e.BufferN(33),chainCode:wd},{publicKey:t,chainCode:e}),r=r||Xc,!tn.isPoint(t))throw new TypeError("Point is not on the curve");return new n8(void 0,t,e,r,n,o,i)}function RO(t,e){if($e($e.Buffer,t),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");e=e||Xc;const r=vd.hmacSHA512(z.Buffer.from("Bitcoin seed","utf8"),t),n=r.slice(0,32),o=r.slice(32);return i8(n,o,e)}Vs.fromSeed=RO;Object.defineProperty(Ws,"__esModule",{value:!0});var Yc=Vs;Ws.fromSeed=Yc.fromSeed;Ws.fromBase58=Yc.fromBase58;Ws.fromPublicKey=Yc.fromPublicKey;Ws.fromPrivateKey=Yc.fromPrivateKey;var _n={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};sr.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};sr.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var qr={},j0={},Dt={},Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});function UO(t,e,r){e=e||4,r=r===void 0?!0:r;const n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){const i=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+i):s*4294967296+i}let o=0;for(let i=0;i<n;++i)o|=t[i]<<8*i;return t[n-1]&128?-(o&~(128<<8*(n-1))):o}Zc.decode=UO;function CO(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function HO(t){let e=Math.abs(t);const r=CO(e),n=z.Buffer.allocUnsafe(r),o=t<0;for(let i=0;i<r;++i)n.writeUInt8(e&255,i),e>>=8;return n[r-1]&128?n.writeUInt8(o?128:0,r-1):o&&(n[r-1]|=128),n}Zc.encode=HO;var Jc={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});const Xt=kt,jO=Math.pow(2,31)-1;function LO(t){return Xt.UInt32(t)&&t<=jO}Vt.UInt31=LO;function o8(t){return Xt.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}Vt.BIP32Path=o8;o8.toJSON=()=>"BIP32 derivation path";function DO(t){return(Xt.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}Vt.Signer=DO;const KO=21*1e14;function qO(t){return Xt.UInt53(t)&&t<=KO}Vt.Satoshi=qO;Vt.ECPoint=Xt.quacksLike("Point");Vt.Network=Xt.compile({messagePrefix:Xt.oneOf(Xt.Buffer,Xt.String),bip32:{public:Xt.UInt32,private:Xt.UInt32},pubKeyHash:Xt.UInt8,scriptHash:Xt.UInt8,wif:Xt.UInt8});Vt.Buffer256bit=Xt.BufferN(32);Vt.Hash160bit=Xt.BufferN(20);Vt.Hash256bit=Xt.BufferN(32);Vt.Number=Xt.Number;Vt.Array=Xt.Array;Vt.Boolean=Xt.Boolean;Vt.String=Xt.String;Vt.Buffer=Xt.Buffer;Vt.Hex=Xt.Hex;Vt.maybe=Xt.maybe;Vt.tuple=Xt.tuple;Vt.UInt8=Xt.UInt8;Vt.UInt32=Xt.UInt32;Vt.Function=Xt.Function;Vt.BufferN=Xt.BufferN;Vt.Null=Xt.Null;Vt.oneOf=Xt.oneOf;var FO=St.Buffer;function GO(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;var e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;var r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}function WO(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");var e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");var r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}function VO(t,e){var r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");var o=FO.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}var Qc={check:GO,decode:WO,encode:VO};Object.defineProperty(Jc,"__esModule",{value:!0});const Ag=Vt,s8=Qc,zO=kt,kg=z.Buffer.alloc(1,0);function Ig(t){let e=0;for(;t[e]===0;)++e;return e===t.length?kg:(t=t.slice(e),t[0]&128?z.Buffer.concat([kg,t],1+t.length):t)}function Tg(t){t[0]===0&&(t=t.slice(1));const e=z.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function $O(t){const e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);const n=s8.decode(t.slice(0,-1)),o=Tg(n.r),i=Tg(n.s);return{signature:z.Buffer.concat([o,i],64),hashType:e}}Jc.decode=$O;function XO(t,e){zO({signature:Ag.BufferN(64),hashType:Ag.UInt8},{signature:t,hashType:e});const r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);const n=z.Buffer.allocUnsafe(1);n.writeUInt8(e,0);const o=Ig(t.slice(0,32)),i=Ig(t.slice(32,64));return z.Buffer.concat([s8.encode(o,i),n])}Jc.encode=XO;const YO=0,ZO=0,JO=76,QO=77,tB=78,eB=79,rB=80,nB=81,iB=81,oB=82,sB=83,aB=84,uB=85,fB=86,cB=87,hB=88,lB=89,pB=90,dB=91,bB=92,yB=93,gB=94,mB=95,vB=96,wB=97,_B=98,SB=99,EB=100,AB=101,kB=102,IB=103,TB=104,OB=105,BB=106,MB=107,PB=108,xB=109,NB=110,RB=111,UB=112,CB=113,HB=114,jB=115,LB=116,DB=117,KB=118,qB=119,FB=120,GB=121,WB=122,VB=123,zB=124,$B=125,XB=126,YB=127,ZB=128,JB=129,QB=130,tM=131,eM=132,rM=133,nM=134,iM=135,oM=136,sM=137,aM=138,uM=139,fM=140,cM=141,hM=142,lM=143,pM=144,dM=145,bM=146,yM=147,gM=148,mM=149,vM=150,wM=151,_M=152,SM=153,EM=154,AM=155,kM=156,IM=157,TM=158,OM=159,BM=160,MM=161,PM=162,xM=163,NM=164,RM=165,UM=166,CM=167,HM=168,jM=169,LM=170,DM=171,KM=172,qM=173,FM=174,GM=175,WM=176,VM=177,zM=177,$M=178,XM=178,YM=179,ZM=180,JM=181,QM=182,tP=183,eP=184,rP=185,nP=253,iP=254,oP=255,L0={OP_FALSE:YO,OP_0:ZO,OP_PUSHDATA1:JO,OP_PUSHDATA2:QO,OP_PUSHDATA4:tB,OP_1NEGATE:eB,OP_RESERVED:rB,OP_TRUE:nB,OP_1:iB,OP_2:oB,OP_3:sB,OP_4:aB,OP_5:uB,OP_6:fB,OP_7:cB,OP_8:hB,OP_9:lB,OP_10:pB,OP_11:dB,OP_12:bB,OP_13:yB,OP_14:gB,OP_15:mB,OP_16:vB,OP_NOP:wB,OP_VER:_B,OP_IF:SB,OP_NOTIF:EB,OP_VERIF:AB,OP_VERNOTIF:kB,OP_ELSE:IB,OP_ENDIF:TB,OP_VERIFY:OB,OP_RETURN:BB,OP_TOALTSTACK:MB,OP_FROMALTSTACK:PB,OP_2DROP:xB,OP_2DUP:NB,OP_3DUP:RB,OP_2OVER:UB,OP_2ROT:CB,OP_2SWAP:HB,OP_IFDUP:jB,OP_DEPTH:LB,OP_DROP:DB,OP_DUP:KB,OP_NIP:qB,OP_OVER:FB,OP_PICK:GB,OP_ROLL:WB,OP_ROT:VB,OP_SWAP:zB,OP_TUCK:$B,OP_CAT:XB,OP_SUBSTR:YB,OP_LEFT:ZB,OP_RIGHT:JB,OP_SIZE:QB,OP_INVERT:tM,OP_AND:eM,OP_OR:rM,OP_XOR:nM,OP_EQUAL:iM,OP_EQUALVERIFY:oM,OP_RESERVED1:sM,OP_RESERVED2:aM,OP_1ADD:uM,OP_1SUB:fM,OP_2MUL:cM,OP_2DIV:hM,OP_NEGATE:lM,OP_ABS:pM,OP_NOT:dM,OP_0NOTEQUAL:bM,OP_ADD:yM,OP_SUB:gM,OP_MUL:mM,OP_DIV:vM,OP_MOD:wM,OP_LSHIFT:_M,OP_RSHIFT:SM,OP_BOOLAND:EM,OP_BOOLOR:AM,OP_NUMEQUAL:kM,OP_NUMEQUALVERIFY:IM,OP_NUMNOTEQUAL:TM,OP_LESSTHAN:OM,OP_GREATERTHAN:BM,OP_LESSTHANOREQUAL:MM,OP_GREATERTHANOREQUAL:PM,OP_MIN:xM,OP_MAX:NM,OP_WITHIN:RM,OP_RIPEMD160:UM,OP_SHA1:CM,OP_SHA256:HM,OP_HASH160:jM,OP_HASH256:LM,OP_CODESEPARATOR:DM,OP_CHECKSIG:KM,OP_CHECKSIGVERIFY:qM,OP_CHECKMULTISIG:FM,OP_CHECKMULTISIGVERIFY:GM,OP_NOP1:WM,OP_NOP2:VM,OP_CHECKLOCKTIMEVERIFY:zM,OP_NOP3:$M,OP_CHECKSEQUENCEVERIFY:XM,OP_NOP4:YM,OP_NOP5:ZM,OP_NOP6:JM,OP_NOP7:QM,OP_NOP8:tP,OP_NOP9:eP,OP_NOP10:rP,OP_PUBKEYHASH:nP,OP_PUBKEY:iP,OP_INVALIDOPCODE:oP};var ci=L0;function a8(t){return t<ci.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}function sP(t,e,r){var n=a8(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(ci.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(ci.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(ci.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}function aP(t,e){var r=t.readUInt8(e),n,o;if(r<ci.OP_PUSHDATA1)n=r,o=1;else if(r===ci.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),o=2}else if(r===ci.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),o=3}else{if(e+5>t.length)return null;if(r!==ci.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),o=5}return{opcode:r,number:n,size:o}}var uP={encodingLength:a8,encode:sP,decode:aP},Og=L0,u8={};for(var Bg in Og){var fP=Og[Bg];u8[fP]=Bg}var cP=u8;(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Zc,r=Jc,n=Vt,o=Qc,i=wn,s=uP,a=kt;t.OPS=L0;const f=cP,u=t.OPS.OP_RESERVED;function c(Q){return n.Number(Q)&&(Q===t.OPS.OP_0||Q>=t.OPS.OP_1&&Q<=t.OPS.OP_16||Q===t.OPS.OP_1NEGATE)}function l(Q){return n.Buffer(Q)||c(Q)}function p(Q){return n.Array(Q)&&Q.every(l)}t.isPushOnly=p;function y(Q){if(Q.length===0)return t.OPS.OP_0;if(Q.length===1){if(Q[0]>=1&&Q[0]<=16)return u+Q[0];if(Q[0]===129)return t.OPS.OP_1NEGATE}}function v(Q){return z.Buffer.isBuffer(Q)}function A(Q){return n.Array(Q)}function T(Q){return z.Buffer.isBuffer(Q)}function P(Q){if(v(Q))return Q;a(n.Array,Q);const st=Q.reduce((h,g)=>T(g)?g.length===1&&y(g)!==void 0?h+1:h+s.encodingLength(g.length)+g.length:h+1,0),m=z.Buffer.allocUnsafe(st);let O=0;if(Q.forEach(h=>{if(T(h)){const g=y(h);if(g!==void 0){m.writeUInt8(g,O),O+=1;return}O+=s.encode(m,h.length,O),h.copy(m,O),O+=h.length}else m.writeUInt8(h,O),O+=1}),O!==m.length)throw new Error("Could not decode chunks");return m}t.compile=P;function C(Q){if(A(Q))return Q;a(n.Buffer,Q);const st=[];let m=0;for(;m<Q.length;){const O=Q[m];if(O>t.OPS.OP_0&&O<=t.OPS.OP_PUSHDATA4){const h=s.decode(Q,m);if(h===null||(m+=h.size,m+h.number>Q.length))return null;const g=Q.slice(m,m+h.number);m+=h.number;const _=y(g);_!==void 0?st.push(_):st.push(g)}else st.push(O),m+=1}return st}t.decompile=C;function D(Q){return v(Q)&&(Q=C(Q)),Q.map(st=>{if(T(st)){const m=y(st);if(m===void 0)return st.toString("hex");st=m}return f[st]}).join(" ")}t.toASM=D;function F(Q){return a(n.String,Q),P(Q.split(" ").map(st=>t.OPS[st]!==void 0?t.OPS[st]:(a(n.Hex,st),z.Buffer.from(st,"hex"))))}t.fromASM=F;function V(Q){return Q=C(Q),a(p,Q),Q.map(st=>T(st)?st:st===t.OPS.OP_0?z.Buffer.allocUnsafe(0):e.encode(st-u))}t.toStack=V;function U(Q){return i.isPoint(Q)}t.isCanonicalPubKey=U;function J(Q){const st=Q&-129;return st>0&&st<4}t.isDefinedHashType=J;function tt(Q){return!z.Buffer.isBuffer(Q)||!J(Q[Q.length-1])?!1:o.check(Q.slice(0,-1))}t.isCanonicalScriptSignature=tt,t.number=e,t.signature=r})(Dt);var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});function hP(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){const n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Sn.prop=hP;function lP(t){let e;return()=>(e!==void 0||(e=t()),e)}Sn.value=lP;Object.defineProperty(j0,"__esModule",{value:!0});const pP=sr,sf=Dt,Mg=Sn,In=kt,Pg=sf.OPS;function dP(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function bP(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),In({network:In.maybe(In.Object),output:In.maybe(In.Buffer),data:In.maybe(In.arrayOf(In.Buffer))},t);const r={name:"embed",network:t.network||pP.bitcoin};if(Mg.prop(r,"output",()=>{if(t.data)return sf.compile([Pg.OP_RETURN].concat(t.data))}),Mg.prop(r,"data",()=>{if(t.output)return sf.decompile(t.output).slice(1)}),e.validate&&t.output){const n=sf.decompile(t.output);if(n[0]!==Pg.OP_RETURN)throw new TypeError("Output is invalid");if(!n.slice(1).every(In.Buffer))throw new TypeError("Output is invalid");if(t.data&&!dP(t.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,t)}j0.p2data=bP;var D0={};Object.defineProperty(D0,"__esModule",{value:!0});const yP=sr,fs=Dt,ei=Sn,cs=fs.OPS,We=kt,xg=wn,Pu=cs.OP_RESERVED;function Ng(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function gP(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(a){return fs.isCanonicalScriptSignature(a)||(e.allowIncomplete&&a===cs.OP_0)!==void 0}We({network:We.maybe(We.Object),m:We.maybe(We.Number),n:We.maybe(We.Number),output:We.maybe(We.Buffer),pubkeys:We.maybe(We.arrayOf(xg.isPoint)),signatures:We.maybe(We.arrayOf(r)),input:We.maybe(We.Buffer)},t);const n={network:t.network||yP.bitcoin};let o=[],i=!1;function s(a){i||(i=!0,o=fs.decompile(a),n.m=o[0]-Pu,n.n=o[o.length-2]-Pu,n.pubkeys=o.slice(1,-2))}if(ei.prop(n,"output",()=>{if(t.m&&n.n&&t.pubkeys)return fs.compile([].concat(Pu+t.m,t.pubkeys,Pu+n.n,cs.OP_CHECKMULTISIG))}),ei.prop(n,"m",()=>{if(n.output)return s(n.output),n.m}),ei.prop(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),ei.prop(n,"pubkeys",()=>{if(t.output)return s(t.output),n.pubkeys}),ei.prop(n,"signatures",()=>{if(t.input)return fs.decompile(t.input).slice(1)}),ei.prop(n,"input",()=>{if(t.signatures)return fs.compile([cs.OP_0].concat(t.signatures))}),ei.prop(n,"witness",()=>{if(n.input)return[]}),ei.prop(n,"name",()=>{if(!(!n.m||!n.n))return`p2ms(${n.m} of ${n.n})`}),e.validate){if(t.output){if(s(t.output),!We.Number(o[0]))throw new TypeError("Output is invalid");if(!We.Number(o[o.length-2]))throw new TypeError("Output is invalid");if(o[o.length-1]!==cs.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==o.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every(a=>xg.isPoint(a)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==n.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==n.n)throw new TypeError("n mismatch");if(t.pubkeys&&!Ng(t.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=t.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==cs.OP_0)throw new TypeError("Input is invalid");if(n.signatures.length===0||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!Ng(t.signatures,n.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,t)}D0.p2ms=gP;var K0={};Object.defineProperty(K0,"__esModule",{value:!0});const mP=sr,hs=Dt,os=Sn,Tn=kt,Rg=hs.OPS,Ug=wn;function vP(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),Tn({network:Tn.maybe(Tn.Object),output:Tn.maybe(Tn.Buffer),pubkey:Tn.maybe(Ug.isPoint),signature:Tn.maybe(hs.isCanonicalScriptSignature),input:Tn.maybe(Tn.Buffer)},t);const r=os.value(()=>hs.decompile(t.input)),n={name:"p2pk",network:t.network||mP.bitcoin};if(os.prop(n,"output",()=>{if(t.pubkey)return hs.compile([t.pubkey,Rg.OP_CHECKSIG])}),os.prop(n,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),os.prop(n,"signature",()=>{if(t.input)return r()[0]}),os.prop(n,"input",()=>{if(t.signature)return hs.compile([t.signature])}),os.prop(n,"witness",()=>{if(n.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==Rg.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!Ug.isPoint(n.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(n.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(n.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!hs.isCanonicalScriptSignature(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,t)}K0.p2pk=vP;var q0={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Lf=$n;function f8(t){try{return Lf("rmd160").update(t).digest()}catch{return Lf("ripemd160").update(t).digest()}}pr.ripemd160=f8;function wP(t){return Lf("sha1").update(t).digest()}pr.sha1=wP;function Df(t){return Lf("sha256").update(t).digest()}pr.sha256=Df;function _P(t){return f8(Df(t))}pr.hash160=_P;function SP(t){return Df(Df(t))}pr.hash256=SP;Object.defineProperty(q0,"__esModule",{value:!0});const np=pr,EP=sr,ls=Dt,On=Sn,Sr=kt,ri=ls.OPS,Cg=wn,Hg=No;function AP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),Sr({network:Sr.maybe(Sr.Object),address:Sr.maybe(Sr.String),hash:Sr.maybe(Sr.BufferN(20)),output:Sr.maybe(Sr.BufferN(25)),pubkey:Sr.maybe(Cg.isPoint),signature:Sr.maybe(ls.isCanonicalScriptSignature),input:Sr.maybe(Sr.Buffer)},t);const r=On.value(()=>{const s=Hg.decode(t.address),a=s.readUInt8(0),f=s.slice(1);return{version:a,hash:f}}),n=On.value(()=>ls.decompile(t.input)),o=t.network||EP.bitcoin,i={name:"p2pkh",network:o};if(On.prop(i,"address",()=>{if(!i.hash)return;const s=z.Buffer.allocUnsafe(21);return s.writeUInt8(o.pubKeyHash,0),i.hash.copy(s,1),Hg.encode(s)}),On.prop(i,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||i.pubkey)return np.hash160(t.pubkey||i.pubkey)}),On.prop(i,"output",()=>{if(i.hash)return ls.compile([ri.OP_DUP,ri.OP_HASH160,i.hash,ri.OP_EQUALVERIFY,ri.OP_CHECKSIG])}),On.prop(i,"pubkey",()=>{if(t.input)return n()[1]}),On.prop(i,"signature",()=>{if(t.input)return n()[0]}),On.prop(i,"input",()=>{if(t.pubkey&&t.signature)return ls.compile([t.signature,t.pubkey])}),On.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){let s=z.Buffer.from([]);if(t.address){if(r().version!==o.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==ri.OP_DUP||t.output[1]!==ri.OP_HASH160||t.output[2]!==20||t.output[23]!==ri.OP_EQUALVERIFY||t.output[24]!==ri.OP_CHECKSIG)throw new TypeError("Output is invalid");const a=t.output.slice(3,23);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.pubkey){const a=np.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.input){const a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!ls.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!Cg.isPoint(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");const f=np.hash160(a[1]);if(s.length>0&&!s.equals(f))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}q0.p2pkh=AP;var F0={};Object.defineProperty(F0,"__esModule",{value:!0});const jg=pr,kP=sr,xn=Dt,Zr=Sn,fe=kt,xu=xn.OPS,Lg=No;function IP(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function TP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),fe({network:fe.maybe(fe.Object),address:fe.maybe(fe.String),hash:fe.maybe(fe.BufferN(20)),output:fe.maybe(fe.BufferN(23)),redeem:fe.maybe({network:fe.maybe(fe.Object),output:fe.maybe(fe.Buffer),input:fe.maybe(fe.Buffer),witness:fe.maybe(fe.arrayOf(fe.Buffer))}),input:fe.maybe(fe.Buffer),witness:fe.maybe(fe.arrayOf(fe.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||kP.bitcoin);const n={network:r},o=Zr.value(()=>{const a=Lg.decode(t.address),f=a.readUInt8(0),u=a.slice(1);return{version:f,hash:u}}),i=Zr.value(()=>xn.decompile(t.input)),s=Zr.value(()=>{const a=i();return{network:r,output:a[a.length-1],input:xn.compile(a.slice(0,-1)),witness:t.witness||[]}});if(Zr.prop(n,"address",()=>{if(!n.hash)return;const a=z.Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),Lg.encode(a)}),Zr.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return o().hash;if(n.redeem&&n.redeem.output)return jg.hash160(n.redeem.output)}),Zr.prop(n,"output",()=>{if(n.hash)return xn.compile([xu.OP_HASH160,n.hash,xu.OP_EQUAL])}),Zr.prop(n,"redeem",()=>{if(t.input)return s()}),Zr.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return xn.compile([].concat(xn.decompile(t.redeem.input),t.redeem.output))}),Zr.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Zr.prop(n,"name",()=>{const a=["p2sh"];return n.redeem!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=z.Buffer.from([]);if(t.address){if(o().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(o().hash.length!==20)throw new TypeError("Invalid address");a=o().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==xu.OP_HASH160||t.output[1]!==20||t.output[22]!==xu.OP_EQUAL)throw new TypeError("Output is invalid");const u=t.output.slice(2,22);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch");a=u}const f=u=>{if(u.output){const c=xn.decompile(u.output);if(!c||c.length<1)throw new TypeError("Redeem.output too short");const l=jg.hash160(u.output);if(a.length>0&&!a.equals(l))throw new TypeError("Hash mismatch");a=l}if(u.input){const c=u.input.length>0,l=u.witness&&u.witness.length>0;if(!c&&!l)throw new TypeError("Empty input");if(c&&l)throw new TypeError("Input and witness provided");if(c){const p=xn.decompile(u.input);if(!xn.isPushOnly(p))throw new TypeError("Non push-only scriptSig")}}};if(t.input){const u=i();if(!u||u.length<1)throw new TypeError("Input too short");if(!z.Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");f(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){const u=s();if(t.redeem.output&&!t.redeem.output.equals(u.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(u.input))throw new TypeError("Redeem.input mismatch")}f(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!IP(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}F0.p2sh=TP;var G0={},Kf="qpzry9x8gf2tvdw0s3jn54khce6mua7l",_d={};for(var Nu=0;Nu<Kf.length;Nu++){var ip=Kf.charAt(Nu);if(_d[ip]!==void 0)throw new TypeError(ip+" is ambiguous");_d[ip]=Nu}function Is(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function c8(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Is(e)^n>>5}for(e=Is(e),r=0;r<t.length;++r){var o=t.charCodeAt(r);e=Is(e)^o&31}return e}function OP(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=c8(t);if(typeof n=="string")throw new Error(n);for(var o=t+"1",i=0;i<e.length;++i){var s=e[i];if(s>>5)throw new Error("Non 5-bit word");n=Is(n)^s,o+=Kf.charAt(s)}for(i=0;i<6;++i)n=Is(n);for(n^=1,i=0;i<6;++i){var a=n>>(5-i)*5&31;o+=Kf.charAt(a)}return o}function h8(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var o=t.lastIndexOf("1");if(o===-1)return"No separator character for "+t;if(o===0)return"Missing prefix for "+t;var i=t.slice(0,o),s=t.slice(o+1);if(s.length<6)return"Data too short";var a=c8(i);if(typeof a=="string")return a;for(var f=[],u=0;u<s.length;++u){var c=s.charAt(u),l=_d[c];if(l===void 0)return"Unknown character "+c;a=Is(a)^l,!(u+6>=s.length)&&f.push(l)}return a!==1?"Invalid checksum for "+t:{prefix:i,words:f}}function BP(){var t=h8.apply(null,arguments);if(typeof t=="object")return t}function MP(t){var e=h8.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function th(t,e,r,n){for(var o=0,i=0,s=(1<<r)-1,a=[],f=0;f<t.length;++f)for(o=o<<e|t[f],i+=e;i>=r;)i-=r,a.push(o>>i&s);if(n)i>0&&a.push(o<<r-i&s);else{if(i>=e)return"Excess padding";if(o<<r-i&s)return"Non-zero padding"}return a}function PP(t){var e=th(t,8,5,!0);if(Array.isArray(e))return e}function xP(t){var e=th(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function NP(t){var e=th(t,5,8,!1);if(Array.isArray(e))return e}function RP(t){var e=th(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var eh={decodeUnsafe:BP,decode:MP,encode:OP,toWordsUnsafe:PP,toWords:xP,fromWordsUnsafe:NP,fromWords:RP};Object.defineProperty(G0,"__esModule",{value:!0});const op=pr,UP=sr,af=Dt,ni=Sn,rr=kt,Dg=af.OPS,sp=wn,Ru=eh,CP=z.Buffer.alloc(0);function HP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),rr({address:rr.maybe(rr.String),hash:rr.maybe(rr.BufferN(20)),input:rr.maybe(rr.BufferN(0)),network:rr.maybe(rr.Object),output:rr.maybe(rr.BufferN(22)),pubkey:rr.maybe(sp.isPoint),signature:rr.maybe(af.isCanonicalScriptSignature),witness:rr.maybe(rr.arrayOf(rr.Buffer))},t);const r=ni.value(()=>{const i=Ru.decode(t.address),s=i.words.shift(),a=Ru.fromWords(i.words);return{version:s,prefix:i.prefix,data:z.Buffer.from(a)}}),n=t.network||UP.bitcoin,o={name:"p2wpkh",network:n};if(ni.prop(o,"address",()=>{if(!o.hash)return;const i=Ru.toWords(o.hash);return i.unshift(0),Ru.encode(n.bech32,i)}),ni.prop(o,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||o.pubkey)return op.hash160(t.pubkey||o.pubkey)}),ni.prop(o,"output",()=>{if(o.hash)return af.compile([Dg.OP_0,o.hash])}),ni.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),ni.prop(o,"signature",()=>{if(t.witness)return t.witness[0]}),ni.prop(o,"input",()=>{if(o.witness)return CP}),ni.prop(o,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let i=z.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");i=r().data}if(t.hash){if(i.length>0&&!i.equals(t.hash))throw new TypeError("Hash mismatch");i=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Dg.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(i.length>0&&!i.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");i=t.output.slice(2)}if(t.pubkey){const s=op.hash160(t.pubkey);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch");if(i=s,!sp.isPoint(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!af.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!sp.isPoint(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");const s=op.hash160(t.witness[1]);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}G0.p2wpkh=HP;var W0={};Object.defineProperty(W0,"__esModule",{value:!0});const Kg=pr,jP=sr,fi=Dt,Bn=Sn,ce=kt,qg=fi.OPS,LP=wn,Uu=eh,ap=z.Buffer.alloc(0);function DP(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Cu(t){return!!(z.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&LP.isPoint(t))}function KP(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),ce({network:ce.maybe(ce.Object),address:ce.maybe(ce.String),hash:ce.maybe(ce.BufferN(32)),output:ce.maybe(ce.BufferN(34)),redeem:ce.maybe({input:ce.maybe(ce.Buffer),network:ce.maybe(ce.Object),output:ce.maybe(ce.Buffer),witness:ce.maybe(ce.arrayOf(ce.Buffer))}),input:ce.maybe(ce.BufferN(0)),witness:ce.maybe(ce.arrayOf(ce.Buffer))},t);const r=Bn.value(()=>{const s=Uu.decode(t.address),a=s.words.shift(),f=Uu.fromWords(s.words);return{version:a,prefix:s.prefix,data:z.Buffer.from(f)}}),n=Bn.value(()=>fi.decompile(t.redeem.input));let o=t.network;o||(o=t.redeem&&t.redeem.network||jP.bitcoin);const i={network:o};if(Bn.prop(i,"address",()=>{if(!i.hash)return;const s=Uu.toWords(i.hash);return s.unshift(0),Uu.encode(o.bech32,s)}),Bn.prop(i,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(i.redeem&&i.redeem.output)return Kg.sha256(i.redeem.output)}),Bn.prop(i,"output",()=>{if(i.hash)return fi.compile([qg.OP_0,i.hash])}),Bn.prop(i,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:ap,witness:t.witness.slice(0,-1)}}),Bn.prop(i,"input",()=>{if(i.witness)return ap}),Bn.prop(i,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){const s=fi.toStack(n());return i.redeem=Object.assign({witness:s},t.redeem),i.redeem.input=ap,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Bn.prop(i,"name",()=>{const s=["p2wsh"];return i.redeem!==void 0&&s.push(i.redeem.name),s.join("-")}),e.validate){let s=z.Buffer.from([]);if(t.address){if(r().prefix!==o.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==qg.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");const a=t.output.slice(2);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==o)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(fi.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");const a=Kg.sha256(t.redeem.output);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.redeem.input&&!fi.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!DP(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(Cu)||t.redeem.output&&(fi.decompile(t.redeem.output)||[]).some(Cu))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){const a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(Cu)||(fi.decompile(a)||[]).some(Cu))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(i,t)}W0.p2wsh=KP;Object.defineProperty(qr,"__esModule",{value:!0});const qP=j0;qr.embed=qP.p2data;const FP=D0;qr.p2ms=FP.p2ms;const GP=K0;qr.p2pk=GP.p2pk;const WP=q0;qr.p2pkh=WP.p2pkh;const VP=F0;qr.p2sh=VP.p2sh;const zP=G0;qr.p2wpkh=zP.p2wpkh;const $P=W0;qr.p2wsh=$P.p2wsh;Object.defineProperty(_n,"__esModule",{value:!0});const l8=sr,hi=qr,XP=Dt,up=Vt,qf=eh,p8=No,YP=kt;function d8(t){const e=p8.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");const r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}_n.fromBase58Check=d8;function b8(t){const e=qf.decode(t),r=qf.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:z.Buffer.from(r)}}_n.fromBech32=b8;function ZP(t,e){YP(up.tuple(up.Hash160bit,up.UInt8),arguments);const r=z.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),p8.encode(r)}_n.toBase58Check=ZP;function JP(t,e,r){const n=qf.toWords(t);return n.unshift(e),qf.encode(r,n)}_n.toBech32=JP;function QP(t,e){e=e||l8.bitcoin;try{return hi.p2pkh({output:t,network:e}).address}catch{}try{return hi.p2sh({output:t,network:e}).address}catch{}try{return hi.p2wpkh({output:t,network:e}).address}catch{}try{return hi.p2wsh({output:t,network:e}).address}catch{}throw new Error(XP.toASM(t)+" has no matching Address")}_n.fromOutputScript=QP;function tx(t,e){e=e||l8.bitcoin;let r,n;try{r=d8(t)}catch{}if(r){if(r.version===e.pubKeyHash)return hi.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return hi.p2sh({hash:r.hash}).output}else{try{n=b8(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return hi.p2wpkh({hash:n.data}).output;if(n.data.length===32)return hi.p2wsh({hash:n.data}).output}}}throw new Error(t+" has no matching Script")}_n.toOutputScript=tx;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const y8=sr,uo=Vt,Rn=wn,ex=Xn,Si=kt,g8=$c,V0=Si.maybe(Si.compile({compressed:uo.maybe(uo.Boolean),network:uo.maybe(uo.Network)}));let m8=class{constructor(t,e,r){this.__D=t,this.__Q=e,this.lowR=!1,r===void 0&&(r={}),this.compressed=r.compressed===void 0?!0:r.compressed,this.network=r.network||y8.bitcoin,e!==void 0&&(this.__Q=Rn.pointCompress(e,this.compressed))}get privateKey(){return this.__D}get publicKey(){return this.__Q||(this.__Q=Rn.pointFromScalar(this.__D,this.compressed)),this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return g8.encode(this.network.wif,this.__D,this.compressed)}sign(t,e){if(!this.__D)throw new Error("Missing private key");if(e===void 0&&(e=this.lowR),e===!1)return Rn.sign(t,this.__D);{let r=Rn.sign(t,this.__D);const n=z.Buffer.alloc(32,0);let o=0;for(;r[0]>127;)o++,n.writeUIntLE(o,0,6),r=Rn.signWithEntropy(t,this.__D,n);return r}}verify(t,e){return Rn.verify(t,this.publicKey,e)}};function z0(t,e){if(Si(uo.Buffer256bit,t),!Rn.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return Si(V0,e),new m8(t,void 0,e)}Ti.fromPrivateKey=z0;function rx(t,e){return Si(Rn.isPoint,t),Si(V0,e),new m8(void 0,t,e)}Ti.fromPublicKey=rx;function nx(t,e){const r=g8.decode(t),n=r.version;if(uo.Array(e)){if(e=e.filter(o=>n===o.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||y8.bitcoin,n!==e.wif)throw new Error("Invalid network version");return z0(r.privateKey,{compressed:r.compressed,network:e})}Ti.fromWIF=nx;function ix(t){Si(V0,t),t===void 0&&(t={});const e=t.rng||ex;let r;do r=e(32),Si(uo.Buffer256bit,r);while(!Rn.isPrivate(r));return z0(r,t)}Ti.makeRandom=ix;var $0={},Yr={},Sd=St.Buffer,ox=9007199254740991;function X0(t){if(t<0||t>ox||t%1!==0)throw new RangeError("value out of range")}function Ta(t,e,r){if(X0(t),e||(e=Sd.allocUnsafe(v8(t))),!Sd.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Ta.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Ta.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Ta.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Ta.bytes=9),e}function Oa(t,e){if(!Sd.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Oa.bytes=1,r;if(r===253)return Oa.bytes=3,t.readUInt16LE(e+1);if(r===254)return Oa.bytes=5,t.readUInt32LE(e+1);Oa.bytes=9;var n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5),i=o*4294967296+n;return X0(i),i}function v8(t){return X0(t),t<253?1:t<=65535?3:t<=4294967295?5:9}var ea={encode:Ta,decode:Oa,encodingLength:v8};Object.defineProperty(Yr,"__esModule",{value:!0});const Ts=Vt,w8=kt,Ff=ea;function _8(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function S8(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,_8(n+r,9007199254740991),n+r}Yr.readUInt64LE=S8;function E8(t,e,r){return _8(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Yr.writeUInt64LE=E8;function sx(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Yr.reverseBuffer=sx;function ax(t){const e=z.Buffer.allocUnsafe(t.length);return t.copy(e),e}Yr.cloneBuffer=ax;class ux{constructor(e,r=0){this.buffer=e,this.offset=r,w8(Ts.tuple(Ts.Buffer,Ts.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=E8(this.buffer,e,this.offset)}writeVarInt(e){Ff.encode(e,this.buffer,this.offset),this.offset+=Ff.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}}Yr.BufferWriter=ux;class fx{constructor(e,r=0){this.buffer=e,this.offset=r,w8(Ts.tuple(Ts.Buffer,Ts.UInt32),[e,r])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=S8(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=Ff.decode(this.buffer,this.offset);return this.offset+=Ff.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}}Yr.BufferReader=fx;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});const ii=Yr,Xi=pr,Fg=Dt,cx=Dt,ee=Vt,Yi=kt,Gf=ea;function ps(t){const e=t.length;return Gf.encodingLength(e)+e}function hx(t){const e=t.length;return Gf.encodingLength(e)+t.reduce((r,n)=>r+ps(n),0)}const Ed=z.Buffer.allocUnsafe(0),Gg=[],fp=z.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),Wg=z.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),lx=z.Buffer.from("ffffffffffffffff","hex"),px={script:Ed,valueBuffer:lx};function dx(t){return t.value!==void 0}let Oi=class Te{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){const n=new ii.BufferReader(e),o=new Te;o.version=n.readInt32();const i=n.readUInt8(),s=n.readUInt8();let a=!1;i===Te.ADVANCED_TRANSACTION_MARKER&&s===Te.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;const f=n.readVarInt();for(let c=0;c<f;++c)o.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Gg});const u=n.readVarInt();for(let c=0;c<u;++c)o.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let c=0;c<f;++c)o.ins[c].witness=n.readVector();if(!o.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(o.locktime=n.readUInt32(),r)return o;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return o}static fromHex(e){return Te.fromBuffer(z.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){Yi(ee.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Te.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,o){return Yi(ee.tuple(ee.Hash256bit,ee.UInt32,ee.maybe(ee.UInt32),ee.maybe(ee.Buffer)),arguments),ee.Null(n)&&(n=Te.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:o||Ed,sequence:n,witness:Gg})-1}addOutput(e,r){return Yi(ee.tuple(ee.Buffer,ee.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){const e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const r=e&&this.hasWitnesses();return(r?10:8)+Gf.encodingLength(this.ins.length)+Gf.encodingLength(this.outs.length)+this.ins.reduce((n,o)=>n+40+ps(o.script),0)+this.outs.reduce((n,o)=>n+8+ps(o.script),0)+(r?this.ins.reduce((n,o)=>n+hx(o.witness),0):0)}clone(){const e=new Te;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Yi(ee.tuple(ee.UInt32,ee.Buffer,ee.Number),arguments),e>=this.ins.length)return Wg;const o=Fg.compile(Fg.decompile(r).filter(a=>a!==cx.OPS.OP_CODESEPARATOR)),i=this.clone();if((n&31)===Te.SIGHASH_NONE)i.outs=[],i.ins.forEach((a,f)=>{f!==e&&(a.sequence=0)});else if((n&31)===Te.SIGHASH_SINGLE){if(e>=this.outs.length)return Wg;i.outs.length=e+1;for(let a=0;a<e;a++)i.outs[a]=px;i.ins.forEach((a,f)=>{f!==e&&(a.sequence=0)})}n&Te.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=o):(i.ins.forEach(a=>{a.script=Ed}),i.ins[e].script=o);const s=z.Buffer.allocUnsafe(i.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),i.__toBuffer(s,0,!1),Xi.hash256(s)}hashForWitnessV0(e,r,n,o){Yi(ee.tuple(ee.UInt32,ee.Buffer,ee.Satoshi,ee.UInt32),arguments);let i=z.Buffer.from([]),s,a=fp,f=fp,u=fp;if(o&Te.SIGHASH_ANYONECANPAY||(i=z.Buffer.allocUnsafe(36*this.ins.length),s=new ii.BufferWriter(i,0),this.ins.forEach(l=>{s.writeSlice(l.hash),s.writeUInt32(l.index)}),f=Xi.hash256(i)),!(o&Te.SIGHASH_ANYONECANPAY)&&(o&31)!==Te.SIGHASH_SINGLE&&(o&31)!==Te.SIGHASH_NONE&&(i=z.Buffer.allocUnsafe(4*this.ins.length),s=new ii.BufferWriter(i,0),this.ins.forEach(l=>{s.writeUInt32(l.sequence)}),u=Xi.hash256(i)),(o&31)!==Te.SIGHASH_SINGLE&&(o&31)!==Te.SIGHASH_NONE){const l=this.outs.reduce((p,y)=>p+8+ps(y.script),0);i=z.Buffer.allocUnsafe(l),s=new ii.BufferWriter(i,0),this.outs.forEach(p=>{s.writeUInt64(p.value),s.writeVarSlice(p.script)}),a=Xi.hash256(i)}else if((o&31)===Te.SIGHASH_SINGLE&&e<this.outs.length){const l=this.outs[e];i=z.Buffer.allocUnsafe(8+ps(l.script)),s=new ii.BufferWriter(i,0),s.writeUInt64(l.value),s.writeVarSlice(l.script),a=Xi.hash256(i)}i=z.Buffer.allocUnsafe(156+ps(r)),s=new ii.BufferWriter(i,0);const c=this.ins[e];return s.writeUInt32(this.version),s.writeSlice(f),s.writeSlice(u),s.writeSlice(c.hash),s.writeUInt32(c.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(c.sequence),s.writeSlice(a),s.writeUInt32(this.locktime),s.writeUInt32(o),Xi.hash256(i)}getHash(e){return e&&this.isCoinbase()?z.Buffer.alloc(32,0):Xi.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return ii.reverseBuffer(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Yi(ee.tuple(ee.Number,ee.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Yi(ee.tuple(ee.Number,[ee.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=z.Buffer.allocUnsafe(this.byteLength(n)));const o=new ii.BufferWriter(e,r||0);o.writeInt32(this.version);const i=n&&this.hasWitnesses();return i&&(o.writeUInt8(Te.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(Te.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach(s=>{o.writeSlice(s.hash),o.writeUInt32(s.index),o.writeVarSlice(s.script),o.writeUInt32(s.sequence)}),o.writeVarInt(this.outs.length),this.outs.forEach(s=>{dx(s)?o.writeUInt64(s.value):o.writeSlice(s.valueBuffer),o.writeVarSlice(s.script)}),i&&this.ins.forEach(s=>{o.writeVector(s.witness)}),o.writeUInt32(this.locktime),r!==void 0?e.slice(r,o.offset):e}};Oi.DEFAULT_SEQUENCE=4294967295;Oi.SIGHASH_ALL=1;Oi.SIGHASH_NONE=2;Oi.SIGHASH_SINGLE=3;Oi.SIGHASH_ANYONECANPAY=128;Oi.ADVANCED_TRANSACTION_MARKER=0;Oi.ADVANCED_TRANSACTION_FLAG=1;ra.Transaction=Oi;var A8=function(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");for(var r=t.length,n=t.concat();r>1;){for(var o=0,i=0;i<r;i+=2,++o){var s=n[i],a=i+1===r?s:n[i+1],f=z.Buffer.concat([s,a]);n[o]=e(f)}r=o}return n[0]};Object.defineProperty($0,"__esModule",{value:!0});const Hu=Yr,cp=pr,bx=ra,yx=Vt,gx=A8,mx=kt,hp=ea,lp=new TypeError("Cannot compute merkle root for zero transactions"),Vg=new TypeError("Cannot compute witness commit for non-segwit block");let vx=class ds{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const r=new Hu.BufferReader(e),n=new ds;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;const o=()=>{const a=bx.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=a.byteLength(),a},i=r.readVarInt();n.transactions=[];for(let a=0;a<i;++a){const f=o();n.transactions.push(f)}const s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return ds.fromBuffer(z.Buffer.from(e,"hex"))}static calculateTarget(e){const r=((e&4278190080)>>24)-3,n=e&8388607,o=z.Buffer.alloc(32,0);return o.writeUIntBE(n,29-r,3),o}static calculateMerkleRoot(e,r){if(mx([{getHash:yx.Function}],e),e.length===0)throw lp;if(r&&!zg(e))throw Vg;const n=e.map(i=>i.getHash(r)),o=gx(n,cp.hash256);return r?cp.hash256(z.Buffer.concat([o,e[0].ins[0].witness[0]])):o}getWitnessCommit(){if(!zg(this.transactions))return null;const e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(z.Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;const r=e[e.length-1];return r instanceof z.Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof z.Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return wx(this.transactions)}weight(){const e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+hp.encodingLength(this.transactions.length)+this.transactions.reduce((n,o)=>n+o.byteLength(r),0)}getHash(){return cp.hash256(this.toBuffer(!0))}getId(){return Hu.reverseBuffer(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const r=z.Buffer.allocUnsafe(this.byteLength(e)),n=new Hu.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(hp.encode(this.transactions.length,r,n.offset),n.offset+=hp.encode.bytes,this.transactions.forEach(o=>{const i=o.byteLength();o.toBuffer(r,n.offset),n.offset+=i})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){const e=Hu.reverseBuffer(this.getHash()),r=ds.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw lp;const e=ds.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw lp;if(!this.hasWitnessCommit())throw Vg;const e=ds.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};$0.Block=vx;function zg(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function wx(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}var Y0={},Z0={},J0={},Q0={},pu={},Uo={},Ge={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]})(Ge);var Co={};Object.defineProperty(Co,"__esModule",{value:!0});const k8=Ge,_x=t=>[...Array(t).keys()];function Sx(t){if(t.key[0]!==k8.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(const n of _x(t.value.length/4-1)){const o=t.value.readUInt32LE(n*4+4),i=!!(o&2147483648),s=o&2147483647;r.path+="/"+s.toString(10)+(i?"'":"")}return r}Co.decode=Sx;function Ex(t){const e=z.Buffer.from([k8.GlobalTypes.GLOBAL_XPUB]),r=z.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),o=z.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(o,0);let i=4;return n.slice(1).forEach(s=>{const a=s.slice(-1)==="'";let f=2147483647&parseInt(a?s.slice(0,-1):s,10);a&&(f+=2147483648),o.writeUInt32LE(f,i),i+=4}),{key:r,value:o}}Co.encode=Ex;Co.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Ax(t){const e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return z.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&z.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}Co.check=Ax;function kx(t,e,r){const n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.extendedPubkey.equals(e.extendedPubkey)).length===0)}Co.canAddToArray=kx;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});const Ix=Ge;function Tx(t){return{key:z.Buffer.from([Ix.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}t2.encode=Tx;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});const I8=Ge;function Ox(t){if(t.key[0]!==I8.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}Ho.decode=Ox;function Bx(t){return{key:z.Buffer.from([I8.InputTypes.FINAL_SCRIPTSIG]),value:t}}Ho.encode=Bx;Ho.expected="Buffer";function Mx(t){return z.Buffer.isBuffer(t)}Ho.check=Mx;function Px(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}Ho.canAdd=Px;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const T8=Ge;function xx(t){if(t.key[0]!==T8.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}jo.decode=xx;function Nx(t){return{key:z.Buffer.from([T8.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}jo.encode=Nx;jo.expected="Buffer";function Rx(t){return z.Buffer.isBuffer(t)}jo.check=Rx;function Ux(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}jo.canAdd=Ux;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const O8=Ge;function Cx(t){if(t.key[0]!==O8.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}Lo.decode=Cx;function Hx(t){return{key:z.Buffer.from([O8.InputTypes.NON_WITNESS_UTXO]),value:t}}Lo.encode=Hx;Lo.expected="Buffer";function jx(t){return z.Buffer.isBuffer(t)}Lo.check=jx;function Lx(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}Lo.canAdd=Lx;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const B8=Ge;function Dx(t){if(t.key[0]!==B8.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}Do.decode=Dx;function Kx(t){const e=z.Buffer.from([B8.InputTypes.PARTIAL_SIG]);return{key:z.Buffer.concat([e,t.pubkey]),value:t.signature}}Do.encode=Kx;Do.expected="{ pubkey: Buffer; signature: Buffer; }";function qx(t){return z.Buffer.isBuffer(t.pubkey)&&z.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Fx(t.signature)}Do.check=qx;function Fx(t){if(!z.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;const e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;const r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function Gx(t,e,r){const n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)).length===0)}Do.canAddToArray=Gx;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const M8=Ge;function Wx(t){if(t.key[0]!==M8.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}Ko.decode=Wx;function Vx(t){return{key:z.Buffer.from([M8.InputTypes.POR_COMMITMENT]),value:z.Buffer.from(t,"utf8")}}Ko.encode=Vx;Ko.expected="string";function zx(t){return typeof t=="string"}Ko.check=zx;function $x(t,e){return!!t&&!!e&&t.porCommitment===void 0}Ko.canAdd=$x;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});const P8=Ge;function Xx(t){if(t.key[0]!==P8.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}qo.decode=Xx;function Yx(t){const e=z.Buffer.from([P8.InputTypes.SIGHASH_TYPE]),r=z.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}qo.encode=Yx;qo.expected="number";function Zx(t){return typeof t=="number"}qo.check=Zx;function Jx(t,e){return!!t&&!!e&&t.sighashType===void 0}qo.canAdd=Jx;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const x8=Ge;function Qx(t){if(t.key[0]!==x8.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!N8(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Fo.decode=Qx;function tN(t){return{key:z.Buffer.from([x8.InputTypes.TAP_KEY_SIG]),value:t}}Fo.encode=tN;Fo.expected="Buffer";function N8(t){return z.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Fo.check=N8;function eN(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Fo.canAdd=eN;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});const R8=Ge;function rN(t){if(t.key[0]!==R8.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));const e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));const r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Go.decode=rN;function nN(t){const e=z.Buffer.from([R8.InputTypes.TAP_LEAF_SCRIPT]),r=z.Buffer.from([t.leafVersion]);return{key:z.Buffer.concat([e,t.controlBlock]),value:z.Buffer.concat([t.script,r])}}Go.encode=nN;Go.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function iN(t){return z.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&z.Buffer.isBuffer(t.script)}Go.check=iN;function oN(t,e,r){const n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.controlBlock.equals(e.controlBlock)).length===0)}Go.canAddToArray=oN;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});const U8=Ge;function sN(t){if(t.key[0]!==U8.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!C8(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Wo.decode=sN;function aN(t){return{key:z.Buffer.from([U8.InputTypes.TAP_MERKLE_ROOT]),value:t}}Wo.encode=aN;Wo.expected="Buffer";function C8(t){return z.Buffer.isBuffer(t)&&t.length===32}Wo.check=C8;function uN(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Wo.canAdd=uN;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const H8=Ge;function fN(t){if(t.key[0]!==H8.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));const e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Vo.decode=fN;function cN(t){const e=z.Buffer.from([H8.InputTypes.TAP_SCRIPT_SIG]);return{key:z.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Vo.encode=cN;Vo.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function hN(t){return z.Buffer.isBuffer(t.pubkey)&&z.Buffer.isBuffer(t.leafHash)&&z.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Vo.check=hN;function lN(t,e,r){const n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)&&o.leafHash.equals(e.leafHash)).length===0)}Vo.canAddToArray=lN;var zo={},En={},An={};Object.defineProperty(An,"__esModule",{value:!0});const pN=9007199254740991;function e2(t){if(t<0||t>pN||t%1!==0)throw new RangeError("value out of range")}function Ba(t,e,r){if(e2(t),e||(e=z.Buffer.allocUnsafe(j8(t))),!z.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(Ba,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(Ba,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(Ba,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(Ba,{bytes:9})),e}An.encode=Ba;function Ma(t,e){if(!z.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);const r=t.readUInt8(e);if(r<253)return Object.assign(Ma,{bytes:1}),r;if(r===253)return Object.assign(Ma,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(Ma,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(Ma,{bytes:9});const n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5)*4294967296+n;return e2(o),o}}An.decode=Ma;function j8(t){return e2(t),t<253?1:t<=65535?3:t<=4294967295?5:9}An.encodingLength=j8;Object.defineProperty(En,"__esModule",{value:!0});const ju=An;En.range=t=>[...Array(t).keys()];function dN(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}En.reverseBuffer=dN;function bN(t){const e=t.map(L8);return e.push(z.Buffer.from([0])),z.Buffer.concat(e)}En.keyValsToBuffer=bN;function L8(t){const e=t.key.length,r=t.value.length,n=ju.encodingLength(e),o=ju.encodingLength(r),i=z.Buffer.allocUnsafe(n+e+o+r);return ju.encode(e,i,0),t.key.copy(i,n),ju.encode(r,i,n+e),t.value.copy(i,n+e+o),i}En.keyValToBuffer=L8;function D8(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function yN(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,D8(n+r,9007199254740991),n+r}En.readUInt64LE=yN;function gN(t,e,r){return D8(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}En.writeUInt64LE=gN;Object.defineProperty(zo,"__esModule",{value:!0});const K8=Ge,q8=En,Wf=An;function mN(t){if(t.key[0]!==K8.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));const e=q8.readUInt64LE(t.value,0);let r=8;const n=Wf.decode(t.value,r);r+=Wf.encodingLength(n);const o=t.value.slice(r);if(o.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:o,value:e}}zo.decode=mN;function vN(t){const{script:e,value:r}=t,n=Wf.encodingLength(e.length),o=z.Buffer.allocUnsafe(8+n+e.length);return q8.writeUInt64LE(o,r,0),Wf.encode(e.length,o,8),e.copy(o,8+n),{key:z.Buffer.from([K8.InputTypes.WITNESS_UTXO]),value:o}}zo.encode=vN;zo.expected="{ script: Buffer; value: number; }";function wN(t){return z.Buffer.isBuffer(t.script)&&typeof t.value=="number"}zo.check=wN;function _N(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}zo.canAdd=_N;var $o={};Object.defineProperty($o,"__esModule",{value:!0});const F8=Ge,Ad=An;function SN(t){if(t.key[0]!==F8.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0;const r=[];for(;e<t.value.length;){const n=t.value[e++],o=t.value[e++],i=Ad.decode(t.value,e);e+=Ad.encodingLength(i),r.push({depth:n,leafVersion:o,script:t.value.slice(e,e+i)}),e+=i}return{leaves:r}}$o.decode=SN;function EN(t){const e=z.Buffer.from([F8.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[z.Buffer.of(n.depth,n.leafVersion),Ad.encode(n.script.length),n.script]));return{key:e,value:z.Buffer.concat(r)}}$o.encode=EN;$o.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function AN(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&z.Buffer.isBuffer(e.script))}$o.check=AN;function kN(t,e){return!!t&&!!e&&t.tapTree===void 0}$o.canAdd=kN;var rh={};Object.defineProperty(rh,"__esModule",{value:!0});const IN=t=>[...Array(t).keys()],TN=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function ON(t,e=TN){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));const f=a.key.slice(1);if(!e(f))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const u={masterFingerprint:a.value.slice(0,4),pubkey:f,path:"m"};for(const c of IN(a.value.length/4-1)){const l=a.value.readUInt32LE(c*4+4),p=!!(l&2147483648),y=l&2147483647;u.path+="/"+y.toString(10)+(p?"'":"")}return u}function n(a){const f=z.Buffer.from([t]),u=z.Buffer.concat([f,a.pubkey]),c=a.path.split("/"),l=z.Buffer.allocUnsafe(c.length*4);a.masterFingerprint.copy(l,0);let p=4;return c.slice(1).forEach(y=>{const v=y.slice(-1)==="'";let A=2147483647&parseInt(v?y.slice(0,-1):y,10);v&&(A+=2147483648),l.writeUInt32LE(A,p),p+=4}),{key:u,value:l}}const o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function i(a){return z.Buffer.isBuffer(a.pubkey)&&z.Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function s(a,f,u){const c=f.pubkey.toString("hex");return u.has(c)?!1:(u.add(c),a.filter(l=>l.pubkey.equals(f.pubkey)).length===0)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:s}}rh.makeConverter=ON;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});function BN(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}r2.makeChecker=BN;var n2={};Object.defineProperty(n2,"__esModule",{value:!0});function MN(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:z.Buffer.from([t]),value:s}}const n="Buffer";function o(s){return z.Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.redeemScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}n2.makeConverter=MN;var i2={};Object.defineProperty(i2,"__esModule",{value:!0});const Lu=An,PN=rh,xN=t=>t.length===32;function NN(t){const e=PN.makeConverter(t,xN);function r(s){const a=Lu.decode(s.value),f=Lu.encodingLength(a),u=e.decode({key:s.key,value:s.value.slice(f+a*32)}),c=new Array(a);for(let l=0,p=f;l<a;l++,p+=32)c[l]=s.value.slice(p,p+32);return Object.assign({},u,{leafHashes:c})}function n(s){const a=e.encode(s),f=Lu.encodingLength(s.leafHashes.length),u=z.Buffer.allocUnsafe(f);Lu.encode(s.leafHashes.length,u);const c=z.Buffer.concat([u,...s.leafHashes,a.value]);return Object.assign({},a,{value:c})}const o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function i(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(a=>z.Buffer.isBuffer(a)&&a.length===32)&&e.check(s)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:e.canAddToArray}}i2.makeConverter=NN;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});function RN(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:z.Buffer.from([t]),value:s}}const n="Buffer";function o(s){return z.Buffer.isBuffer(s)&&s.length===32}function i(s,a){return!!s&&!!a&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}o2.makeConverter=RN;var s2={};Object.defineProperty(s2,"__esModule",{value:!0});function UN(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:z.Buffer.from([t]),value:s}}const n="Buffer";function o(s){return z.Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.witnessScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}s2.makeConverter=UN;Object.defineProperty(Uo,"__esModule",{value:!0});const Er=Ge,CN=Co,HN=t2,jN=Ho,LN=jo,DN=Lo,KN=Do,qN=Ko,FN=qo,GN=Fo,WN=Go,VN=Wo,zN=Vo,$N=zo,XN=$o,G8=rh,a2=r2,W8=n2,V8=i2,z8=o2,$8=s2,YN={unsignedTx:HN,globalXpub:CN,checkPubkey:a2.makeChecker([])};Uo.globals=YN;const ZN={nonWitnessUtxo:DN,partialSig:KN,sighashType:FN,finalScriptSig:jN,finalScriptWitness:LN,porCommitment:qN,witnessUtxo:$N,bip32Derivation:G8.makeConverter(Er.InputTypes.BIP32_DERIVATION),redeemScript:W8.makeConverter(Er.InputTypes.REDEEM_SCRIPT),witnessScript:$8.makeConverter(Er.InputTypes.WITNESS_SCRIPT),checkPubkey:a2.makeChecker([Er.InputTypes.PARTIAL_SIG,Er.InputTypes.BIP32_DERIVATION]),tapKeySig:GN,tapScriptSig:zN,tapLeafScript:WN,tapBip32Derivation:V8.makeConverter(Er.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:z8.makeConverter(Er.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:VN};Uo.inputs=ZN;const JN={bip32Derivation:G8.makeConverter(Er.OutputTypes.BIP32_DERIVATION),redeemScript:W8.makeConverter(Er.OutputTypes.REDEEM_SCRIPT),witnessScript:$8.makeConverter(Er.OutputTypes.WITNESS_SCRIPT),checkPubkey:a2.makeChecker([Er.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:V8.makeConverter(Er.OutputTypes.TAP_BIP32_DERIVATION),tapTree:XN,tapInternalKey:z8.makeConverter(Er.OutputTypes.TAP_INTERNAL_KEY)};Uo.outputs=JN;Object.defineProperty(pu,"__esModule",{value:!0});const se=Uo,Vf=En,$g=An,Ct=Ge;function QN(t,e){let r=0;function n(){const T=$g.decode(t,r);r+=$g.encodingLength(T);const P=t.slice(r,r+T);return r+=T,P}function o(){const T=t.readUInt32BE(r);return r+=4,T}function i(){const T=t.readUInt8(r);return r+=1,T}function s(){const T=n(),P=n();return{key:T,value:P}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");const T=t.readUInt8(r)===0;return T&&r++,T}if(o()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(i()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],u={};for(;!a();){const T=s(),P=T.key.toString("hex");if(u[P])throw new Error("Format Error: Keys must be unique for global keymap: key "+P);u[P]=1,f.push(T)}const c=f.filter(T=>T.key[0]===Ct.GlobalTypes.UNSIGNED_TX);if(c.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const l=e(c[0].value),{inputCount:p,outputCount:y}=l.getInputOutputCounts(),v=[],A=[];for(const T of Vf.range(p)){const P={},C=[];for(;!a();){const D=s(),F=D.key.toString("hex");if(P[F])throw new Error("Format Error: Keys must be unique for each input: input index "+T+" key "+F);P[F]=1,C.push(D)}v.push(C)}for(const T of Vf.range(y)){const P={},C=[];for(;!a();){const D=s(),F=D.key.toString("hex");if(P[F])throw new Error("Format Error: Keys must be unique for each output: output index "+T+" key "+F);P[F]=1,C.push(D)}A.push(C)}return X8(l,{globalMapKeyVals:f,inputKeyVals:v,outputKeyVals:A})}pu.psbtFromBuffer=QN;function ze(t,e,r){if(!e.equals(z.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}pu.checkKeyBuffer=ze;function X8(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){const o={unsignedTx:t};let i=0;for(const c of e)switch(c.key[0]){case Ct.GlobalTypes.UNSIGNED_TX:if(ze("global",c.key,Ct.GlobalTypes.UNSIGNED_TX),i>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");i++;break;case Ct.GlobalTypes.GLOBAL_XPUB:o.globalXpub===void 0&&(o.globalXpub=[]),o.globalXpub.push(se.globals.globalXpub.decode(c));break;default:o.unknownKeyVals||(o.unknownKeyVals=[]),o.unknownKeyVals.push(c)}const s=r.length,a=n.length,f=[],u=[];for(const c of Vf.range(s)){const l={};for(const p of r[c])switch(se.inputs.checkPubkey(p),p.key[0]){case Ct.InputTypes.NON_WITNESS_UTXO:if(ze("input",p.key,Ct.InputTypes.NON_WITNESS_UTXO),l.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");l.nonWitnessUtxo=se.inputs.nonWitnessUtxo.decode(p);break;case Ct.InputTypes.WITNESS_UTXO:if(ze("input",p.key,Ct.InputTypes.WITNESS_UTXO),l.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");l.witnessUtxo=se.inputs.witnessUtxo.decode(p);break;case Ct.InputTypes.PARTIAL_SIG:l.partialSig===void 0&&(l.partialSig=[]),l.partialSig.push(se.inputs.partialSig.decode(p));break;case Ct.InputTypes.SIGHASH_TYPE:if(ze("input",p.key,Ct.InputTypes.SIGHASH_TYPE),l.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");l.sighashType=se.inputs.sighashType.decode(p);break;case Ct.InputTypes.REDEEM_SCRIPT:if(ze("input",p.key,Ct.InputTypes.REDEEM_SCRIPT),l.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");l.redeemScript=se.inputs.redeemScript.decode(p);break;case Ct.InputTypes.WITNESS_SCRIPT:if(ze("input",p.key,Ct.InputTypes.WITNESS_SCRIPT),l.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");l.witnessScript=se.inputs.witnessScript.decode(p);break;case Ct.InputTypes.BIP32_DERIVATION:l.bip32Derivation===void 0&&(l.bip32Derivation=[]),l.bip32Derivation.push(se.inputs.bip32Derivation.decode(p));break;case Ct.InputTypes.FINAL_SCRIPTSIG:ze("input",p.key,Ct.InputTypes.FINAL_SCRIPTSIG),l.finalScriptSig=se.inputs.finalScriptSig.decode(p);break;case Ct.InputTypes.FINAL_SCRIPTWITNESS:ze("input",p.key,Ct.InputTypes.FINAL_SCRIPTWITNESS),l.finalScriptWitness=se.inputs.finalScriptWitness.decode(p);break;case Ct.InputTypes.POR_COMMITMENT:ze("input",p.key,Ct.InputTypes.POR_COMMITMENT),l.porCommitment=se.inputs.porCommitment.decode(p);break;case Ct.InputTypes.TAP_KEY_SIG:ze("input",p.key,Ct.InputTypes.TAP_KEY_SIG),l.tapKeySig=se.inputs.tapKeySig.decode(p);break;case Ct.InputTypes.TAP_SCRIPT_SIG:l.tapScriptSig===void 0&&(l.tapScriptSig=[]),l.tapScriptSig.push(se.inputs.tapScriptSig.decode(p));break;case Ct.InputTypes.TAP_LEAF_SCRIPT:l.tapLeafScript===void 0&&(l.tapLeafScript=[]),l.tapLeafScript.push(se.inputs.tapLeafScript.decode(p));break;case Ct.InputTypes.TAP_BIP32_DERIVATION:l.tapBip32Derivation===void 0&&(l.tapBip32Derivation=[]),l.tapBip32Derivation.push(se.inputs.tapBip32Derivation.decode(p));break;case Ct.InputTypes.TAP_INTERNAL_KEY:ze("input",p.key,Ct.InputTypes.TAP_INTERNAL_KEY),l.tapInternalKey=se.inputs.tapInternalKey.decode(p);break;case Ct.InputTypes.TAP_MERKLE_ROOT:ze("input",p.key,Ct.InputTypes.TAP_MERKLE_ROOT),l.tapMerkleRoot=se.inputs.tapMerkleRoot.decode(p);break;default:l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(p)}f.push(l)}for(const c of Vf.range(a)){const l={};for(const p of n[c])switch(se.outputs.checkPubkey(p),p.key[0]){case Ct.OutputTypes.REDEEM_SCRIPT:if(ze("output",p.key,Ct.OutputTypes.REDEEM_SCRIPT),l.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");l.redeemScript=se.outputs.redeemScript.decode(p);break;case Ct.OutputTypes.WITNESS_SCRIPT:if(ze("output",p.key,Ct.OutputTypes.WITNESS_SCRIPT),l.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");l.witnessScript=se.outputs.witnessScript.decode(p);break;case Ct.OutputTypes.BIP32_DERIVATION:l.bip32Derivation===void 0&&(l.bip32Derivation=[]),l.bip32Derivation.push(se.outputs.bip32Derivation.decode(p));break;case Ct.OutputTypes.TAP_INTERNAL_KEY:ze("output",p.key,Ct.OutputTypes.TAP_INTERNAL_KEY),l.tapInternalKey=se.outputs.tapInternalKey.decode(p);break;case Ct.OutputTypes.TAP_TREE:ze("output",p.key,Ct.OutputTypes.TAP_TREE),l.tapTree=se.outputs.tapTree.decode(p);break;case Ct.OutputTypes.TAP_BIP32_DERIVATION:l.tapBip32Derivation===void 0&&(l.tapBip32Derivation=[]),l.tapBip32Derivation.push(se.outputs.tapBip32Derivation.decode(p));break;default:l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(p)}u.push(l)}return{globalMap:o,inputs:f,outputs:u}}pu.psbtFromKeyVals=X8;var nh={};Object.defineProperty(nh,"__esModule",{value:!0});const pp=Uo,Xg=En;function tR({globalMap:t,inputs:e,outputs:r}){const{globalKeyVals:n,inputKeyVals:o,outputKeyVals:i}=Y8({globalMap:t,inputs:e,outputs:r}),s=Xg.keyValsToBuffer(n),a=l=>l.length===0?[z.Buffer.from([0])]:l.map(Xg.keyValsToBuffer),f=a(o),u=a(i),c=z.Buffer.allocUnsafe(5);return c.writeUIntBE(482972169471,0,5),z.Buffer.concat([c,s].concat(f,u))}nh.psbtToBuffer=tR;const eR=(t,e)=>t.key.compare(e.key);function dp(t,e){const r=new Set,n=Object.entries(t).reduce((i,[s,a])=>{if(s==="unknownKeyVals")return i;const f=e[s];if(f===void 0)return i;const u=(Array.isArray(a)?a:[a]).map(f.encode);return u.map(c=>c.key.toString("hex")).forEach(c=>{if(r.has(c))throw new Error("Serialize Error: Duplicate key: "+c);r.add(c)}),i.concat(u)},[]),o=t.unknownKeyVals?t.unknownKeyVals.filter(i=>!r.has(i.key.toString("hex"))):[];return n.concat(o).sort(eR)}function Y8({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:dp(t,pp.globals),inputKeyVals:e.map(n=>dp(n,pp.inputs)),outputKeyVals:r.map(n=>dp(n,pp.outputs))}}nh.psbtToKeyVals=Y8;(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(pu),e(nh)})(Q0);Object.defineProperty(J0,"__esModule",{value:!0});const bp=Q0;function rR(t){const e=t[0],r=bp.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");const o=Yg(e);if(o===void 0)throw new Error("Combine: Self missing transaction");const i=ss(r.globalKeyVals),s=r.inputKeyVals.map(ss),a=r.outputKeyVals.map(ss);for(const f of n){const u=Yg(f);if(u===void 0||!u.toBuffer().equals(o.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const c=bp.psbtToKeyVals(f);ss(c.globalKeyVals).forEach(yp(i,r.globalKeyVals,c.globalKeyVals)),c.inputKeyVals.map(ss).forEach((l,p)=>l.forEach(yp(s[p],r.inputKeyVals[p],c.inputKeyVals[p]))),c.outputKeyVals.map(ss).forEach((l,p)=>l.forEach(yp(a[p],r.outputKeyVals[p],c.outputKeyVals[p])))}return bp.psbtFromKeyVals(o,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}J0.combine=rR;function yp(t,e,r){return n=>{if(t.has(n))return;const o=r.filter(i=>i.key.toString("hex")===n)[0];e.push(o),t.add(n)}}function Yg(t){return t.globalMap.unsignedTx}function ss(t){const e=new Set;return t.forEach(r=>{const n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}var u2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Uo;function r(y,v){const A=y[v];if(A===void 0)throw new Error(`No input #${v}`);return A}t.checkForInput=r;function n(y,v){const A=y[v];if(A===void 0)throw new Error(`No output #${v}`);return A}t.checkForOutput=n;function o(y,v,A){if(y.key[0]<A)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(v&&v.filter(T=>T.key.equals(y.key)).length!==0)throw new Error(`Duplicate Key: ${y.key.toString("hex")}`)}t.checkHasKey=o;function i(y){let v=0;return Object.keys(y).forEach(A=>{Number(isNaN(Number(A)))&&v++}),v}t.getEnumLength=i;function s(y,v){let A=!1;if(v.nonWitnessUtxo||v.witnessUtxo){const T=!!v.redeemScript,P=!!v.witnessScript,C=!T||!!v.finalScriptSig,D=!P||!!v.finalScriptWitness,F=!!v.finalScriptSig||!!v.finalScriptWitness;A=C&&D&&F}if(A===!1)throw new Error(`Input #${y} has too much or too little data to clean`)}t.inputCheckUncleanFinalized=s;function a(y,v,A,T){throw new Error(`Data for ${y} key ${v} is incorrect: Expected ${A} and got ${JSON.stringify(T)}`)}function f(y){return(v,A)=>{for(const T of Object.keys(v)){const P=v[T],{canAdd:C,canAddToArray:D,check:F,expected:V}=e[y+"s"][T]||{},U=!!D;if(F)if(U){if(!Array.isArray(P)||A[T]&&!Array.isArray(A[T]))throw new Error(`Key type ${T} must be an array`);P.every(F)||a(y,T,V,P);const J=A[T]||[],tt=new Set;if(!P.every(Q=>D(J,Q,tt)))throw new Error("Can not add duplicate data to array");A[T]=J.concat(P)}else{if(F(P)||a(y,T,V,P),!C(A,P))throw new Error(`Can not add duplicate data to ${y}`);A[T]=P}}}}t.updateGlobal=f("global"),t.updateInput=f("input"),t.updateOutput=f("output");function u(y,v){const A=y.length-1,T=r(y,A);t.updateInput(v,T)}t.addInputAttributes=u;function c(y,v){const A=y.length-1,T=n(y,A);t.updateOutput(v,T)}t.addOutputAttributes=c;function l(y,v){if(!z.Buffer.isBuffer(v)||v.length<4)throw new Error("Set Version: Invalid Transaction");return v.writeUInt32LE(y,0),v}t.defaultVersionSetter=l;function p(y,v){if(!z.Buffer.isBuffer(v)||v.length<4)throw new Error("Set Locktime: Invalid Transaction");return v.writeUInt32LE(y,v.length-4),v}t.defaultLocktimeSetter=p})(u2);Object.defineProperty(Z0,"__esModule",{value:!0});const nR=J0,Zg=Q0,gp=Ge,Ve=u2;let iR=class{constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}static fromBase64(t,e){const r=z.Buffer.from(t,"base64");return this.fromBuffer(r,e)}static fromHex(t,e){const r=z.Buffer.from(t,"hex");return this.fromBuffer(r,e)}static fromBuffer(t,e){const r=Zg.psbtFromBuffer(t,e),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return Zg.psbtToBuffer(this)}updateGlobal(t){return Ve.updateGlobal(t,this.globalMap),this}updateInput(t,e){const r=Ve.checkForInput(this.inputs,t);return Ve.updateInput(e,r),this}updateOutput(t,e){const r=Ve.checkForOutput(this.outputs,t);return Ve.updateOutput(e,r),this}addUnknownKeyValToGlobal(t){return Ve.checkHasKey(t,this.globalMap.unknownKeyVals,Ve.getEnumLength(gp.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,e){const r=Ve.checkForInput(this.inputs,t);return Ve.checkHasKey(e,r.unknownKeyVals,Ve.getEnumLength(gp.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addUnknownKeyValToOutput(t,e){const r=Ve.checkForOutput(this.outputs,t);return Ve.checkHasKey(e,r.unknownKeyVals,Ve.getEnumLength(gp.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach(n=>this.addUnknownKeyValToInput(r,n)),Ve.addInputAttributes(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach(n=>this.addUnknownKeyValToInput(r,n)),Ve.addOutputAttributes(this.outputs,t),this}clearFinalizedInput(t){const e=Ve.checkForInput(this.inputs,t);Ve.inputCheckUncleanFinalized(t,e);for(const r of Object.keys(e))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete e[r];return this}combine(...t){const e=nR.combine([this].concat(t));return Object.assign(this,e),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Z0.Psbt=iR;Object.defineProperty(Y0,"__esModule",{value:!0});const Jg=Z0,zf=An,en=u2,Qg=_n,$f=Yr,oR=pr,Z8=Ti,sR=sr,Xe=qr,yr=Dt,Be=ra,aR={network:sR.bitcoin,maximumFeeRate:5e3};let uR=class kd{constructor(e={},r=new Jg.Psbt(new J8)){this.data=r,this.opts=Object.assign({},aR,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const n=(o,i,s,a)=>Object.defineProperty(o,i,{enumerable:s,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}static fromBase64(e,r={}){const n=z.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){const n=z.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){const n=Jg.Psbt.fromBuffer(e,fR),o=new kd(r,n);return gR(o.__CACHE.__TX,o.__CACHE),o}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:$f.cloneBuffer(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=Qg.fromOutputScript(e.script,this.opts.network)}catch{}return{script:$f.cloneBuffer(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){const e=kd.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){Du(e),this.opts.maximumFeeRate=e}setVersion(e){Du(e),Sa(this.data.inputs,"setVersion");const r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){Du(e),Sa(this.data.inputs,"setLocktime");const r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){Du(r),Sa(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");Sa(this.data.inputs,"addInput"),e.witnessScript&&Xf(e.witnessScript);const r=this.__CACHE;this.data.addInput(e);const n=r.__TX.ins[r.__TX.ins.length-1];r4(r,n);const o=this.data.inputs.length-1,i=this.data.inputs[o];return i.nonWitnessUtxo&&Id(this.__CACHE,i,o),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Sa(this.data.inputs,"addOutput");const{address:r}=e;if(typeof r=="string"){const{network:o}=this.opts,i=Qg.toOutputScript(r,o);e=Object.assign(e,{script:i})}const n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(Q8))throw new Error("Not finalized");const r=this.__CACHE;if(e||dR(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;const n=r.__TX.clone();return s4(this.data.inputs,n,r,!0),n}getFeeRate(){return om("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return om("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return en.checkForInput(this.data.inputs,0),Ea(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r=mR){const n=en.checkForInput(this.data.inputs,e),{script:o,isP2SH:i,isP2WSH:s,isSegwit:a}=SR(e,n,this.__CACHE);if(!o)throw new Error(`No script found for input #${e}`);bR(n);const{finalScriptSig:f,finalScriptWitness:u}=r(e,n,o,a,i,s);if(f&&this.data.updateInput(e,{finalScriptSig:f}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!f&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){const r=en.checkForInput(this.data.inputs,e),n=a4(e,r,this.__CACHE),o=sh(n,e,"input",r.redeemScript||TR(r.finalScriptSig),r.witnessScript||OR(r.finalScriptWitness)),i=o.type==="raw"?"":o.type+"-",s=f4(o.meaningfulScript);return i+s}inputHasPubkey(e,r){const n=en.checkForInput(this.data.inputs,e);return kR(r,n,e,this.__CACHE)}inputHasHDKey(e,r){const n=en.checkForInput(this.data.inputs,e),o=rm(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}outputHasPubkey(e,r){const n=en.checkForOutput(this.data.outputs,e);return IR(r,n,e,this.__CACHE)}outputHasHDKey(e,r){const n=en.checkForOutput(this.data.outputs,e),o=rm(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}validateSignaturesOfAllInputs(){return en.checkForInput(this.data.inputs,0),Ea(this.data.inputs.length).map(e=>this.validateSignaturesOfInput(e)).reduce((e,r)=>r===!0&&e,!0)}validateSignaturesOfInput(e,r){const n=this.data.inputs[e],o=(n||{}).partialSig;if(!n||!o||o.length<1)throw new Error("No signatures to validate");const i=r?o.filter(c=>c.pubkey.equals(r)):o;if(i.length<1)throw new Error("No signatures for this pubkey");const s=[];let a,f,u;for(const c of i){const l=yr.signature.decode(c.signature),{hash:p,script:y}=u!==l.hashType?i4(e,Object.assign({},n,{sighashType:l.hashType}),this.__CACHE,!0):{hash:a,script:f};u=l.hashType,a=p,f=y,e4(c.pubkey,y,"verify");const v=Z8.fromPublicKey(c.pubkey);s.push(v.verify(p,l.signature))}return s.every(c=>c===!0)}signAllInputsHD(e,r=[Be.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const o of Ea(this.data.inputs.length))try{this.signInputHD(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Be.Transaction.SIGHASH_ALL]){return new Promise((n,o)=>{if(!e||!e.publicKey||!e.fingerprint)return o(new Error("Need HDSigner to sign input"));const i=[],s=[];for(const a of Ea(this.data.inputs.length))s.push(this.signInputHDAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Be.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return am(e,this.data.inputs,r).forEach(o=>this.signInput(e,o,n)),this}signInputHDAsync(e,r,n=[Be.Transaction.SIGHASH_ALL]){return new Promise((o,i)=>{if(!r||!r.publicKey||!r.fingerprint)return i(new Error("Need HDSigner to sign input"));const s=am(e,this.data.inputs,r).map(a=>this.signInputAsync(e,a,n));return Promise.all(s).then(()=>{o()}).catch(i)})}signAllInputs(e,r=[Be.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const o of Ea(this.data.inputs.length))try{this.signInput(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r=[Be.Transaction.SIGHASH_ALL]){return new Promise((n,o)=>{if(!e||!e.publicKey)return o(new Error("Need Signer to sign input"));const i=[],s=[];for(const[a]of this.data.inputs.entries())s.push(this.signInputAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInput(e,r,n=[Be.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const{hash:o,sighashType:i}=sm(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:yr.signature.encode(r.sign(o),i)}];return this.data.updateInput(e,{partialSig:s}),this}signInputAsync(e,r,n=[Be.Transaction.SIGHASH_ALL]){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const{hash:o,sighashType:i}=sm(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(o)).then(s=>{const a=[{pubkey:r.publicKey,signature:yr.signature.encode(s,i)}];this.data.updateInput(e,{partialSig:a})})})}toBuffer(){return mp(this.__CACHE),this.data.toBuffer()}toHex(){return mp(this.__CACHE),this.data.toHex()}toBase64(){return mp(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&Xf(r.witnessScript),this.data.updateInput(e,r),r.nonWitnessUtxo&&Id(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){return this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};Y0.Psbt=uR;const fR=t=>new J8(t);class J8{constructor(e=z.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Be.Transaction.fromBuffer(e),yR(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!z.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");const r=typeof e.hash=="string"?$f.reverseBuffer(z.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!z.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function cR(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return tm(1,t.partialSig);case"multisig":const n=Xe.p2ms({output:e});return tm(n.m,t.partialSig,n.pubkeys);default:return!1}}function mp(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function tm(t,e,r){if(!e)return!1;let n;if(r?n=r.map(o=>{const i=Z8.fromPublicKey(o,{compressed:!0}).publicKey;return e.find(s=>s.pubkey.equals(i))}).filter(o=>!!o):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function Q8(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function na(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}const hR=na(Xe.p2ms),lR=na(Xe.p2pk),pR=na(Xe.p2pkh),ih=na(Xe.p2wpkh),em=na(Xe.p2wsh),t4=na(Xe.p2sh);function rm(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function Du(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function dR(t,e,r){const n=e.__FEE_RATE||t.getFeeRate(),o=e.__EXTRACTED_TX.virtualSize(),i=n*o;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(i/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${o} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Sa(t,e){t.forEach(r=>{let n=!1,o=[];if((r.partialSig||[]).length===0){if(!r.finalScriptSig&&!r.finalScriptWitness)return;o=_R(r)}else o=r.partialSig;if(o.forEach(i=>{const{hashType:s}=yr.signature.decode(i.signature),a=[];switch(s&Be.Transaction.SIGHASH_ANYONECANPAY&&a.push("addInput"),s&31){case Be.Transaction.SIGHASH_ALL:break;case Be.Transaction.SIGHASH_SINGLE:case Be.Transaction.SIGHASH_NONE:a.push("addOutput"),a.push("setInputSequence");break}a.indexOf(e)===-1&&(n=!0)}),n)throw new Error("Can not modify transaction, signatures exist.")})}function bR(t){if(!t.sighashType||!t.partialSig)return;const{partialSig:e,sighashType:r}=t;e.forEach(n=>{const{hashType:o}=yr.signature.decode(n.signature);if(r!==o)throw new Error("Signature sighash does not match input sighash type")})}function e4(t,e,r){if(!f2(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function yR(t){if(!t.ins.every(e=>e.script&&e.script.length===0&&e.witness&&e.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function gR(t,e){t.ins.forEach(r=>{r4(e,r)})}function r4(t,e){const r=$f.reverseBuffer(z.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function n4(t,e){return(r,n,o,i)=>{const s=t({redeem:{output:o}}).output;if(!n.equals(s))throw new Error(`${e} for ${i} #${r} doesn't match the scriptPubKey in the prevout`)}}const nm=n4(Xe.p2sh,"Redeem script"),im=n4(Xe.p2wsh,"Witness script");function om(t,e,r,n){if(!r.every(Q8))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let o,i=!0;if(n.__EXTRACTED_TX?(o=n.__EXTRACTED_TX,i=!1):o=n.__TX.clone(),s4(r,o,n,i),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function mR(t,e,r,n,o,i){const s=f4(r);if(!cR(e,r,s))throw new Error(`Can not finalize input #${t}`);return vR(r,s,e.partialSig,n,o,i)}function vR(t,e,r,n,o,i){let s,a;const f=wR(t,e,r),u=i?Xe.p2wsh({redeem:f}):null,c=o?Xe.p2sh({redeem:u||f}):null;return n?(u?a=um(u.witness):a=um(f.witness),c&&(s=c.input)):c?s=c.input:s=f.input,{finalScriptSig:s,finalScriptWitness:a}}function sm(t,e,r,n,o){const i=en.checkForInput(t,e),{hash:s,sighashType:a,script:f}=i4(e,i,n,!1,o);return e4(r,f,"sign"),{hash:s,sighashType:a}}function i4(t,e,r,n,o){const i=r.__TX,s=e.sighashType||Be.Transaction.SIGHASH_ALL;if(o&&o.indexOf(s)<0){const l=AR(s);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${l}`)}let a,f;if(e.nonWitnessUtxo){const l=oh(r,e,t),p=i.ins[t].hash,y=l.getHash();if(!p.equals(y))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);const v=i.ins[t].index;f=l.outs[v]}else if(e.witnessUtxo)f=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:u,type:c}=sh(f.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(c)>=0)a=i.hashForWitnessV0(t,u,f.value,s);else if(ih(u)){const l=Xe.p2pkh({hash:u.slice(2)}).output;a=i.hashForWitnessV0(t,l,f.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=i.hashForSignature(t,u,s)}return{script:u,sighashType:s,hash:a}}function wR(t,e,r){let n;switch(e){case"multisig":const o=ER(t,r);n=Xe.p2ms({output:t,signatures:o});break;case"pubkey":n=Xe.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Xe.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Xe.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function _R(t){const e=t.finalScriptSig?yr.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?yr.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>z.Buffer.isBuffer(n)&&yr.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}function SR(t,e,r){const n=r.__TX,o={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(o.isP2SH=!!e.redeemScript,o.isP2WSH=!!e.witnessScript,e.witnessScript)o.script=e.witnessScript;else if(e.redeemScript)o.script=e.redeemScript;else if(e.nonWitnessUtxo){const i=oh(r,e,t),s=n.ins[t].index;o.script=i.outs[s].script}else e.witnessUtxo&&(o.script=e.witnessUtxo.script);return(e.witnessScript||ih(o.script))&&(o.isSegwit=!0),o}function am(t,e,r){const n=en.checkForInput(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const o=n.bip32Derivation.map(i=>{if(i.masterFingerprint.equals(r.fingerprint))return i}).filter(i=>!!i);if(o.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return o.map(i=>{const s=r.derivePath(i.path);if(!i.pubkey.equals(s.publicKey))throw new Error("pubkey did not match bip32Derivation");return s})}function ER(t,e){return Xe.p2ms({output:t}).pubkeys.map(r=>(e.filter(n=>n.pubkey.equals(r))[0]||{}).signature).filter(r=>!!r)}function o4(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){const s=zf.decode(t,e);return e+=zf.decode.bytes,s}function o(){return r(n())}function i(){const s=n(),a=[];for(let f=0;f<s;f++)a.push(o());return a}return i()}function AR(t){let e=t&Be.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Be.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Be.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Be.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function um(t){let e=z.Buffer.allocUnsafe(0);function r(s){e=z.Buffer.concat([e,z.Buffer.from(s)])}function n(s){const a=e.length,f=zf.encodingLength(s);e=z.Buffer.concat([e,z.Buffer.allocUnsafe(f)]),zf.encode(s,e,a)}function o(s){n(s.length),r(s)}function i(s){n(s.length),s.forEach(o)}return i(t),e}function Id(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;const n=Be.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const o=t,i=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){const s=o.__NON_WITNESS_UTXO_BUF_CACHE[i],a=o.__NON_WITNESS_UTXO_TX_CACHE[i];if(s!==void 0)return s;{const f=a.toBuffer();return o.__NON_WITNESS_UTXO_BUF_CACHE[i]=f,f}},set(s){o.__NON_WITNESS_UTXO_BUF_CACHE[i]=s}})}function s4(t,e,r,n){let o=0;t.forEach((f,u)=>{if(n&&f.finalScriptSig&&(e.ins[u].script=f.finalScriptSig),n&&f.finalScriptWitness&&(e.ins[u].witness=o4(f.finalScriptWitness)),f.witnessUtxo)o+=f.witnessUtxo.value;else if(f.nonWitnessUtxo){const c=oh(r,f,u),l=e.ins[u].index,p=c.outs[l];o+=p.value}});const i=e.outs.reduce((f,u)=>f+u.value,0),s=o-i;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/a)}function oh(t,e,r){const n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||Id(t,e,r),n[r]}function a4(t,e,r){if(e.witnessUtxo!==void 0)return e.witnessUtxo.script;if(e.nonWitnessUtxo!==void 0)return oh(r,e,t).outs[r.__TX.ins[t].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function kR(t,e,r,n){const o=a4(r,e,n),{meaningfulScript:i}=sh(o,r,"input",e.redeemScript,e.witnessScript);return f2(t,i)}function IR(t,e,r,n){const o=n.__TX.outs[r].script,{meaningfulScript:i}=sh(o,r,"output",e.redeemScript,e.witnessScript);return f2(t,i)}function TR(t){if(!t)return;const e=yr.decompile(t);if(!e)return;const r=e[e.length-1];if(!(!z.Buffer.isBuffer(r)||u4(r)||BR(r)||!yr.decompile(r)))return r}function OR(t){if(!t)return;const e=o4(t),r=e[e.length-1];if(!(u4(r)||!yr.decompile(r)))return r}function u4(t){return t.length===33&&yr.isCanonicalPubKey(t)}function BR(t){return yr.isCanonicalScriptSignature(t)}function sh(t,e,r,n,o){const i=t4(t),s=i&&n&&em(n),a=em(t);if(i&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&o===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let f;return s?(f=o,nm(e,t,n,r),im(e,n,o,r),Xf(f)):a?(f=o,im(e,t,o,r),Xf(f)):i?(f=n,nm(e,t,n,r)):f=t,{meaningfulScript:f,type:s?"p2sh-p2wsh":i?"p2sh":a?"p2wsh":"raw"}}function Xf(t){if(ih(t)||t4(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function f2(t,e){const r=oR.hash160(t),n=yr.decompile(e);if(n===null)throw new Error("Unknown script error");return n.some(o=>typeof o=="number"?!1:o.equals(t)||o.equals(r))}function f4(t){return ih(t)?"witnesspubkeyhash":pR(t)?"pubkeyhash":hR(t)?"multisig":lR(t)?"pubkey":"nonstandard"}function Ea(t){return[...Array(t).keys()]}var c2={},ia={},oa={},h2={};Object.defineProperty(h2,"__esModule",{value:!0});const Td=Dt,c4=Dt;function MR(t){return t===c4.OPS.OP_0||Td.isCanonicalScriptSignature(t)}function h4(t,e){const r=Td.decompile(t);return r.length<2||r[0]!==c4.OPS.OP_0?!1:e?r.slice(1).every(MR):r.slice(1).every(Td.isCanonicalScriptSignature)}h2.check=h4;h4.toJSON=()=>"multisig input";var l2={};Object.defineProperty(l2,"__esModule",{value:!0});const fm=Dt,l4=Dt,cm=Vt,hm=l4.OPS.OP_RESERVED;function p4(t,e){const r=fm.decompile(t);if(r.length<4||r[r.length-1]!==l4.OPS.OP_CHECKMULTISIG||!cm.Number(r[0])||!cm.Number(r[r.length-2]))return!1;const n=r[0]-hm,o=r[r.length-2]-hm;return n<=0||o>16||n>o||o!==r.length-3?!1:e?!0:r.slice(1,-2).every(fm.isCanonicalPubKey)}l2.check=p4;p4.toJSON=()=>"multi-sig output";Object.defineProperty(oa,"__esModule",{value:!0});const PR=h2;oa.input=PR;const xR=l2;oa.output=xR;var ah={};Object.defineProperty(ah,"__esModule",{value:!0});const d4=Dt,NR=d4.OPS;function p2(t){const e=d4.compile(t);return e.length>1&&e[0]===NR.OP_RETURN}ah.check=p2;p2.toJSON=()=>"null data output";const RR={check:p2};ah.output=RR;var sa={},d2={};Object.defineProperty(d2,"__esModule",{value:!0});const lm=Dt;function b4(t){const e=lm.decompile(t);return e.length===1&&lm.isCanonicalScriptSignature(e[0])}d2.check=b4;b4.toJSON=()=>"pubKey input";var b2={};Object.defineProperty(b2,"__esModule",{value:!0});const pm=Dt,UR=Dt;function y4(t){const e=pm.decompile(t);return e.length===2&&pm.isCanonicalPubKey(e[0])&&e[1]===UR.OPS.OP_CHECKSIG}b2.check=y4;y4.toJSON=()=>"pubKey output";Object.defineProperty(sa,"__esModule",{value:!0});const CR=d2;sa.input=CR;const HR=b2;sa.output=HR;var aa={},y2={};Object.defineProperty(y2,"__esModule",{value:!0});const vp=Dt;function g4(t){const e=vp.decompile(t);return e.length===2&&vp.isCanonicalScriptSignature(e[0])&&vp.isCanonicalPubKey(e[1])}y2.check=g4;g4.toJSON=()=>"pubKeyHash input";var g2={};Object.defineProperty(g2,"__esModule",{value:!0});const jR=Dt,Ku=Dt;function m4(t){const e=jR.compile(t);return e.length===25&&e[0]===Ku.OPS.OP_DUP&&e[1]===Ku.OPS.OP_HASH160&&e[2]===20&&e[23]===Ku.OPS.OP_EQUALVERIFY&&e[24]===Ku.OPS.OP_CHECKSIG}g2.check=m4;m4.toJSON=()=>"pubKeyHash output";Object.defineProperty(aa,"__esModule",{value:!0});const LR=y2;aa.input=LR;const DR=g2;aa.output=DR;var uh={},m2={},fh={};Object.defineProperty(fh,"__esModule",{value:!0});const KR=Dt,qR=Dt;function v4(t){const e=KR.compile(t);return e.length===22&&e[0]===qR.OPS.OP_0&&e[1]===20}fh.check=v4;v4.toJSON=()=>"Witness pubKeyHash output";var ch={};Object.defineProperty(ch,"__esModule",{value:!0});const FR=Dt,GR=Dt;function w4(t){const e=FR.compile(t);return e.length===34&&e[0]===GR.OPS.OP_0&&e[1]===32}ch.check=w4;w4.toJSON=()=>"Witness scriptHash output";Object.defineProperty(m2,"__esModule",{value:!0});const Aa=Dt,dm=oa,bm=sa,ym=aa,WR=fh,VR=ch;function _4(t,e){const r=Aa.decompile(t);if(r.length<1)return!1;const n=r[r.length-1];if(!z.Buffer.isBuffer(n))return!1;const o=Aa.decompile(Aa.compile(r.slice(0,-1))),i=Aa.decompile(n);return!i||!Aa.isPushOnly(o)?!1:r.length===1?VR.check(i)||WR.check(i):!!(ym.input.check(o)&&ym.output.check(i)||dm.input.check(o,e)&&dm.output.check(i)||bm.input.check(o)&&bm.output.check(i))}m2.check=_4;_4.toJSON=()=>"scriptHash input";var v2={};Object.defineProperty(v2,"__esModule",{value:!0});const zR=Dt,gm=Dt;function S4(t){const e=zR.compile(t);return e.length===23&&e[0]===gm.OPS.OP_HASH160&&e[1]===20&&e[22]===gm.OPS.OP_EQUAL}v2.check=S4;S4.toJSON=()=>"scriptHash output";Object.defineProperty(uh,"__esModule",{value:!0});const $R=m2;uh.input=$R;const XR=v2;uh.output=XR;var w2={},du={};Object.defineProperty(du,"__esModule",{value:!0});const _2=Dt,E4=Dt,YR=Vt,A4=kt,k4=z.Buffer.from("aa21a9ed","hex");function S2(t){const e=_2.compile(t);return e.length>37&&e[0]===E4.OPS.OP_RETURN&&e[1]===36&&e.slice(2,6).equals(k4)}du.check=S2;S2.toJSON=()=>"Witness commitment output";function ZR(t){A4(YR.Hash256bit,t);const e=z.Buffer.allocUnsafe(36);return k4.copy(e,0),t.copy(e,4),_2.compile([E4.OPS.OP_RETURN,e])}du.encode=ZR;function JR(t){return A4(S2,t),_2.decompile(t)[1].slice(4,36)}du.decode=JR;Object.defineProperty(w2,"__esModule",{value:!0});const QR=du;w2.output=QR;var hh={},E2={};Object.defineProperty(E2,"__esModule",{value:!0});const Od=Dt;function tU(t){return Od.isCanonicalPubKey(t)&&t.length===33}function I4(t){const e=Od.decompile(t);return e.length===2&&Od.isCanonicalScriptSignature(e[0])&&tU(e[1])}E2.check=I4;I4.toJSON=()=>"witnessPubKeyHash input";Object.defineProperty(hh,"__esModule",{value:!0});const eU=E2;hh.input=eU;const rU=fh;hh.output=rU;var lh={},A2={};Object.defineProperty(A2,"__esModule",{value:!0});const mm=Dt,vm=kt,wm=oa,_m=sa,Sm=aa;function T4(t,e){if(vm(vm.Array,t),t.length<1)return!1;const r=t[t.length-1];if(!z.Buffer.isBuffer(r))return!1;const n=mm.decompile(r);if(!n||n.length===0)return!1;const o=mm.compile(t.slice(0,-1));return!!(Sm.input.check(o)&&Sm.output.check(n)||wm.input.check(o,e)&&wm.output.check(n)||_m.input.check(o)&&_m.output.check(n))}A2.check=T4;T4.toJSON=()=>"witnessScriptHash input";Object.defineProperty(lh,"__esModule",{value:!0});const nU=A2;lh.input=nU;const iU=ch;lh.output=iU;Object.defineProperty(ia,"__esModule",{value:!0});const k2=Dt,O4=oa,oU=ah,B4=sa,M4=aa,P4=uh,sU=w2,x4=hh,N4=lh,He={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};ia.types=He;function aU(t){if(x4.output.check(t))return He.P2WPKH;if(N4.output.check(t))return He.P2WSH;if(M4.output.check(t))return He.P2PKH;if(P4.output.check(t))return He.P2SH;const e=k2.decompile(t);if(!e)throw new TypeError("Invalid script");return O4.output.check(e)?He.P2MS:B4.output.check(e)?He.P2PK:sU.output.check(e)?He.WITNESS_COMMITMENT:oU.output.check(e)?He.NULLDATA:He.NONSTANDARD}ia.output=aU;function uU(t,e){const r=k2.decompile(t);if(!r)throw new TypeError("Invalid script");return M4.input.check(r)?He.P2PKH:P4.input.check(r,e)?He.P2SH:O4.input.check(r,e)?He.P2MS:B4.input.check(r)?He.P2PK:He.NONSTANDARD}ia.input=uU;function fU(t,e){const r=k2.decompile(t);if(!r)throw new TypeError("Invalid script");return x4.input.check(r)?He.P2WPKH:N4.input.check(r,e)?He.P2WSH:He.NONSTANDARD}ia.witness=fU;Object.defineProperty(c2,"__esModule",{value:!0});const cU=_n,hU=Yr,fo=ia,Em=pr,lU=Ti,pU=sr,ne=qr,co=Dt,dU=Dt,Nn=ra,Cn=Vt,$t=kt,Tt=fo.types,bU=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function re(t,e,r){try{$t(t,e)}catch{throw new Error(r)}}function yU(t){return typeof t=="string"||t instanceof String}function gU(t){return t instanceof Nn.Transaction}let mU=class R4{constructor(e=pU.bitcoin,r=2500){this.network=e,this.maximumFeeRate=r,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new Nn.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}static fromTransaction(e,r){const n=new R4(r);return n.setVersion(e.version),n.setLockTime(e.locktime),e.outs.forEach(o=>{n.addOutput(o.script,o.value)}),e.ins.forEach(o=>{n.__addInputUnsafe(o.hash,o.index,{sequence:o.sequence,script:o.script,witness:o.witness})}),n.__INPUTS.forEach((o,i)=>{vU(o,e,i)}),n}setLowR(e){return $t($t.maybe($t.Boolean),e),e===void 0&&(e=!0),this.__USE_LOW_R=e,e}setLockTime(e){if($t(Cn.UInt32,e),this.__INPUTS.some(r=>r.signatures?r.signatures.some(n=>n!==void 0):!1))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}setVersion(e){$t(Cn.UInt32,e),this.__TX.version=e}addInput(e,r,n,o){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");let i;if(yU(e))e=hU.reverseBuffer(z.Buffer.from(e,"hex"));else if(gU(e)){const s=e.outs[r];o=s.script,i=s.value,e=e.getHash(!1)}return this.__addInputUnsafe(e,r,{sequence:n,prevOutScript:o,value:i})}addOutput(e,r){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return typeof e=="string"&&(e=cU.toOutputScript(e,this.network)),this.__TX.addOutput(e,r)}build(){return this.__build(!1)}buildIncomplete(){return this.__build(!0)}sign(e,r,n,o,i,s){SU(EU(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,r,n,o,i,s,this.__USE_LOW_R))}__addInputUnsafe(e,r,n){if(Nn.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");const o=e.toString("hex")+":"+r;if(this.__PREV_TX_SET[o]!==void 0)throw new Error("Duplicate TxOut: "+o);let i={};if(n.script!==void 0&&(i=uf(n.script,n.witness||[])),n.value!==void 0&&(i.value=n.value),!i.prevOutScript&&n.prevOutScript){let a;if(!i.pubkeys&&!i.signatures){const f=Pa(n.prevOutScript);f.pubkeys&&(i.pubkeys=f.pubkeys,i.signatures=f.signatures),a=f.type}i.prevOutScript=n.prevOutScript,i.prevOutType=a||fo.output(n.prevOutScript)}const s=this.__TX.addInput(e,r,n.sequence,n.scriptSig);return this.__INPUTS[s]=i,this.__PREV_TX_SET[o]=!0,s}__build(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}const r=this.__TX.clone();if(this.__INPUTS.forEach((n,o)=>{if(!n.prevOutType&&!e)throw new Error("Transaction is not complete");const i=Bd(n.prevOutType,n,e);if(!i){if(!e&&n.prevOutType===Tt.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information");return}r.setInputScript(o,i.input),r.setWitness(o,i.witness)}),!e&&this.__overMaximumFees(r.virtualSize()))throw new Error("Transaction has absurd fees");return r}__canModifyInputs(){return this.__INPUTS.every(e=>e.signatures?e.signatures.every(r=>r?(_p(r)&Nn.Transaction.SIGHASH_ANYONECANPAY)!==0:!0):!0)}__needsOutputs(e){return e===Nn.Transaction.SIGHASH_ALL?this.__TX.outs.length===0:this.__TX.outs.length===0&&this.__INPUTS.some(r=>r.signatures?r.signatures.some(n=>!(!n||_p(n)&Nn.Transaction.SIGHASH_NONE)):!1)}__canModifyOutputs(){const e=this.__TX.ins.length,r=this.__TX.outs.length;return this.__INPUTS.every(n=>n.signatures===void 0?!0:n.signatures.every(o=>{if(!o)return!0;const i=_p(o)&31;return i===Nn.Transaction.SIGHASH_NONE?!0:i===Nn.Transaction.SIGHASH_SINGLE?e<=r:!1}))}__overMaximumFees(e){const r=this.__INPUTS.reduce((o,i)=>o+(i.value>>>0),0),n=this.__TX.outs.reduce((o,i)=>o+i.value,0);return(r-n)/e>this.maximumFeeRate}};c2.TransactionBuilder=mU;function uf(t,e,r,n){if(t.length===0&&e.length===0)return{};if(!r){let o=fo.input(t,!0),i=fo.witness(e,!0);o===Tt.NONSTANDARD&&(o=void 0),i===Tt.NONSTANDARD&&(i=void 0),r=o||i}switch(r){case Tt.P2WPKH:{const{output:o,pubkey:i,signature:s}=ne.p2wpkh({witness:e});return{prevOutScript:o,prevOutType:Tt.P2WPKH,pubkeys:[i],signatures:[s]}}case Tt.P2PKH:{const{output:o,pubkey:i,signature:s}=ne.p2pkh({input:t});return{prevOutScript:o,prevOutType:Tt.P2PKH,pubkeys:[i],signatures:[s]}}case Tt.P2PK:{const{signature:o}=ne.p2pk({input:t});return{prevOutType:Tt.P2PK,pubkeys:[void 0],signatures:[o]}}case Tt.P2MS:{const{m:o,pubkeys:i,signatures:s}=ne.p2ms({input:t,output:n},{allowIncomplete:!0});return{prevOutType:Tt.P2MS,pubkeys:i,signatures:s,maxSignatures:o}}}if(r===Tt.P2SH){const{output:o,redeem:i}=ne.p2sh({input:t,witness:e}),s=fo.output(i.output),a=uf(i.input,i.witness,s,i.output);return a.prevOutType?{prevOutScript:o,prevOutType:Tt.P2SH,redeemScript:i.output,redeemScriptType:a.prevOutType,witnessScript:a.witnessScript,witnessScriptType:a.witnessScriptType,pubkeys:a.pubkeys,signatures:a.signatures}:{}}if(r===Tt.P2WSH){const{output:o,redeem:i}=ne.p2wsh({input:t,witness:e}),s=fo.output(i.output);let a;return s===Tt.P2WPKH?a=uf(i.input,i.witness,s):a=uf(co.compile(i.witness),[],s,i.output),a.prevOutType?{prevOutScript:o,prevOutType:Tt.P2WSH,witnessScript:i.output,witnessScriptType:a.prevOutType,pubkeys:a.pubkeys,signatures:a.signatures}:{}}return{prevOutType:Tt.NONSTANDARD,prevOutScript:t}}function vU(t,e,r){if(t.redeemScriptType!==Tt.P2MS||!t.redeemScript||t.pubkeys.length===t.signatures.length)return;const n=t.signatures.concat();t.signatures=t.pubkeys.map(o=>{const i=lU.fromPublicKey(o);let s;return n.some((a,f)=>{if(!a)return!1;const u=co.signature.decode(a),c=e.hashForSignature(r,t.redeemScript,u.hashType);return i.verify(c,u.signature)?(n[f]=void 0,s=a,!0):!1}),s})}function Pa(t,e){$t(Cn.Buffer,t);const r=fo.output(t);switch(r){case Tt.P2PKH:{if(!e)return{type:r};const n=ne.p2pkh({output:t}).hash,o=Em.hash160(e);return n.equals(o)?{type:r,pubkeys:[e],signatures:[void 0]}:{type:r}}case Tt.P2WPKH:{if(!e)return{type:r};const n=ne.p2wpkh({output:t}).hash,o=Em.hash160(e);return n.equals(o)?{type:r,pubkeys:[e],signatures:[void 0]}:{type:r}}case Tt.P2PK:{const n=ne.p2pk({output:t});return{type:r,pubkeys:[n.pubkey],signatures:[void 0]}}case Tt.P2MS:{const n=ne.p2ms({output:t});return{type:r,pubkeys:n.pubkeys,signatures:n.pubkeys.map(()=>{}),maxSignatures:n.m}}}return{type:r}}function wU(t,e,r,n){if(r&&n){const i=ne.p2wsh({redeem:{output:n}}),s=ne.p2wsh({output:r}),a=ne.p2sh({redeem:{output:r}}),f=ne.p2sh({redeem:i});if(!i.hash.equals(s.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!a.hash.equals(f.hash))throw new Error("Redeem script inconsistent with prevOutScript");const u=Pa(i.redeem.output,e);if(!u.pubkeys)throw new Error(u.type+" not supported as witnessScript ("+co.toASM(n)+")");t.signatures&&t.signatures.some(l=>l!==void 0)&&(u.signatures=t.signatures);const c=n;if(u.type===Tt.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:Tt.P2WSH,witnessScript:n,witnessScriptType:u.type,prevOutType:Tt.P2SH,prevOutScript:a.output,hasWitness:!0,signScript:c,signType:u.type,pubkeys:u.pubkeys,signatures:u.signatures,maxSignatures:u.maxSignatures}}if(r){const i=ne.p2sh({redeem:{output:r}});if(t.prevOutScript){let f;try{f=ne.p2sh({output:t.prevOutScript})}catch{throw new Error("PrevOutScript must be P2SH")}if(!i.hash.equals(f.hash))throw new Error("Redeem script inconsistent with prevOutScript")}const s=Pa(i.redeem.output,e);if(!s.pubkeys)throw new Error(s.type+" not supported as redeemScript ("+co.toASM(r)+")");t.signatures&&t.signatures.some(f=>f!==void 0)&&(s.signatures=t.signatures);let a=r;return s.type===Tt.P2WPKH&&(a=ne.p2pkh({pubkey:s.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:s.type,prevOutType:Tt.P2SH,prevOutScript:i.output,hasWitness:s.type===Tt.P2WPKH,signScript:a,signType:s.type,pubkeys:s.pubkeys,signatures:s.signatures,maxSignatures:s.maxSignatures}}if(n){const i=ne.p2wsh({redeem:{output:n}});if(t.prevOutScript){const f=ne.p2wsh({output:t.prevOutScript});if(!i.hash.equals(f.hash))throw new Error("Witness script inconsistent with prevOutScript")}const s=Pa(i.redeem.output,e);if(!s.pubkeys)throw new Error(s.type+" not supported as witnessScript ("+co.toASM(n)+")");t.signatures&&t.signatures.some(f=>f!==void 0)&&(s.signatures=t.signatures);const a=n;if(s.type===Tt.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:n,witnessScriptType:s.type,prevOutType:Tt.P2WSH,prevOutScript:i.output,hasWitness:!0,signScript:a,signType:s.type,pubkeys:s.pubkeys,signatures:s.signatures,maxSignatures:s.maxSignatures}}if(t.prevOutType&&t.prevOutScript){if(t.prevOutType===Tt.P2SH)throw new Error("PrevOutScript is "+t.prevOutType+", requires redeemScript");if(t.prevOutType===Tt.P2WSH)throw new Error("PrevOutScript is "+t.prevOutType+", requires witnessScript");if(!t.prevOutScript)throw new Error("PrevOutScript is missing");const i=Pa(t.prevOutScript,e);if(!i.pubkeys)throw new Error(i.type+" not supported ("+co.toASM(t.prevOutScript)+")");t.signatures&&t.signatures.some(a=>a!==void 0)&&(i.signatures=t.signatures);let s=t.prevOutScript;return i.type===Tt.P2WPKH&&(s=ne.p2pkh({pubkey:i.pubkeys[0]}).output),{prevOutType:i.type,prevOutScript:t.prevOutScript,hasWitness:i.type===Tt.P2WPKH,signScript:s,signType:i.type,pubkeys:i.pubkeys,signatures:i.signatures,maxSignatures:i.maxSignatures}}const o=ne.p2pkh({pubkey:e}).output;return{prevOutType:Tt.P2PKH,prevOutScript:o,hasWitness:!1,signScript:o,signType:Tt.P2PKH,pubkeys:[e],signatures:[void 0]}}function Bd(t,e,r){const n=e.pubkeys||[];let o=e.signatures||[];switch(t){case Tt.P2PKH:{if(n.length===0||o.length===0)break;return ne.p2pkh({pubkey:n[0],signature:o[0]})}case Tt.P2WPKH:{if(n.length===0||o.length===0)break;return ne.p2wpkh({pubkey:n[0],signature:o[0]})}case Tt.P2PK:{if(n.length===0||o.length===0)break;return ne.p2pk({signature:o[0]})}case Tt.P2MS:{const i=e.maxSignatures;r?o=o.map(a=>a||dU.OPS.OP_0):o=o.filter(a=>a);const s=!r||i===o.length;return ne.p2ms({m:i,pubkeys:n,signatures:o},{allowIncomplete:r,validate:s})}case Tt.P2SH:{const i=Bd(e.redeemScriptType,e,r);return i?ne.p2sh({redeem:{output:i.output||e.redeemScript,input:i.input,witness:i.witness}}):void 0}case Tt.P2WSH:{const i=Bd(e.witnessScriptType,e,r);return i?ne.p2wsh({redeem:{output:e.witnessScript,input:i.input,witness:i.witness}}):void 0}}}function wp(t){return t.signScript!==void 0&&t.signType!==void 0&&t.pubkeys!==void 0&&t.signatures!==void 0&&t.signatures.length===t.pubkeys.length&&t.pubkeys.length>0&&(t.hasWitness===!1||t.value!==void 0)}function _p(t){return t.readUInt8(t.length-1)}function _U(t,e){if(!bU.has(e.prevOutScriptType))throw new TypeError(`Unknown prevOutScriptType "${e.prevOutScriptType}"`);re($t.Number,e.vin,"sign must include vin parameter as Number (input index)"),re(Cn.Signer,e.keyPair,"sign must include keyPair parameter as Signer interface"),re($t.maybe($t.Number),e.hashType,"sign hashType parameter must be a number");const r=(t[e.vin]||[]).prevOutType,n=e.prevOutScriptType;switch(n){case"p2pkh":if(r&&r!=="pubkeyhash")throw new TypeError(`input #${e.vin} is not of type p2pkh: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),re($t.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2pk":if(r&&r!=="pubkey")throw new TypeError(`input #${e.vin} is not of type p2pk: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),re($t.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2wpkh":if(r&&r!=="witnesspubkeyhash")throw new TypeError(`input #${e.vin} is not of type p2wpkh: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),re(Cn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2ms":if(r&&r!=="multisig")throw new TypeError(`input #${e.vin} is not of type p2ms: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),re($t.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2sh-p2wpkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type p2sh-p2wpkh: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.Buffer,e.redeemScript,`${n} requires redeemScript`),re(Cn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);re($t.value(void 0),e.witnessScript,`${n} requires NO witnessScript`),re($t.Buffer,e.redeemScript,`${n} requires redeemScript`),re($t.value(void 0),e.witnessValue,`${n} requires NO witnessValue`);break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&r!=="witnessscripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);re($t.Buffer,e.witnessScript,`${n} requires witnessScript`),re($t.value(void 0),e.redeemScript,`${n} requires NO redeemScript`),re(Cn.Satoshi,e.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&r!=="scripthash")throw new TypeError(`input #${e.vin} is not of type ${n}: ${r}`);re($t.Buffer,e.witnessScript,`${n} requires witnessScript`),re($t.Buffer,e.redeemScript,`${n} requires witnessScript`),re(Cn.Satoshi,e.witnessValue,`${n} requires witnessScript`);break}}function SU({input:t,ourPubKey:e,keyPair:r,signatureHash:n,hashType:o,useLowR:i}){let s=!1;for(const[a,f]of t.pubkeys.entries()){if(!e.equals(f))continue;if(t.signatures[a])throw new Error("Signature already exists");if(e.length!==33&&t.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");const u=r.sign(n,i);t.signatures[a]=co.signature.encode(u,o),s=!0}if(!s)throw new Error("Key pair cannot sign for this input")}function EU(t,e,r,n,o,i,s,a,f,u,c){let l;if(typeof o=="number")console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),l=o;else if(typeof o=="object")_U(e,o),{vin:l,keyPair:i,redeemScript:s,hashType:a,witnessValue:f,witnessScript:u}=o;else throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");if(i===void 0)throw new Error("sign requires keypair");if(i.network&&i.network!==t)throw new TypeError("Inconsistent network");if(!e[l])throw new Error("No input at index: "+l);if(a=a||Nn.Transaction.SIGHASH_ALL,r(a))throw new Error("Transaction needs outputs");const p=e[l];if(p.redeemScript!==void 0&&s&&!p.redeemScript.equals(s))throw new Error("Inconsistent redeemScript");const y=i.publicKey||i.getPublicKey&&i.getPublicKey();if(!wp(p)){if(f!==void 0){if(p.value!==void 0&&p.value!==f)throw new Error("Input did not match witnessValue");$t(Cn.Satoshi,f),p.value=f}if(!wp(p)){const A=wU(p,y,s,u);Object.assign(p,A)}if(!wp(p))throw Error(p.prevOutType+" not supported")}let v;return p.hasWitness?v=n.hashForWitnessV0(l,p.signScript,p.value,a):v=n.hashForSignature(l,p.signScript,a),{input:p,ourPubKey:y,keyPair:i,signatureHash:v,hashType:a,useLowR:!!c}}Object.defineProperty(kr,"__esModule",{value:!0});const AU=Ws;kr.bip32=AU;const kU=_n;var IU=kr.address=kU;const TU=pr;kr.crypto=TU;const OU=Ti;kr.ECPair=OU;const BU=sr;var MU=kr.networks=BU;const PU=qr;var Am=kr.payments=PU;const xU=Dt;var NU=kr.script=xU,RU=$0;kr.Block=RU.Block;var UU=Y0,U4=kr.Psbt=UU.Psbt,CU=Dt,HU=kr.opcodes=CU.OPS,jU=ra,FV=kr.Transaction=jU.Transaction,LU=c2;kr.TransactionBuilder=LU.TransactionBuilder;function Ua(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function DU(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function to(t,...e){if(!DU(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function C4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ua(t.outputLen),Ua(t.blockLen)}function Yf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KU(t,e){to(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Sp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function I2(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const So=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Jr=(t,e)=>t<<32-e|t>>>e,qU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qU)throw new Error("Non little-endian hardware is not supported");const FU=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function GU(t){if(!I2(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=FU[t[r]];return e}const Mn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function km(t){if(t>=Mn._0&&t<=Mn._9)return t-Mn._0;if(t>=Mn._A&&t<=Mn._F)return t-(Mn._A-10);if(t>=Mn._a&&t<=Mn._f)return t-(Mn._a-10)}function WU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){const s=km(t.charCodeAt(i)),a=km(t.charCodeAt(i+1));if(s===void 0||a===void 0){const f=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}n[o]=s*16+a}return n}function H4(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ga(t){if(typeof t=="string"&&(t=H4(t)),!I2(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function xa(...t){let e=0;for(let n=0;n<t.length;n++){const o=t[n];if(!I2(o))throw new Error("Uint8Array expected");e+=o.length}const r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){const i=t[n];r.set(i,o),o+=i.length}return r}class j4{clone(){return this._cloneInto()}}const VU={}.toString;function zU(t,e){if(e!==void 0&&VU.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function T2(t){const e=n=>t().update(Ga(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $U(t=32){if(Sp&&typeof Sp.getRandomValues=="function")return Sp.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class L4 extends j4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,C4(e);const n=Ga(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Yf(this),this.iHash.update(e),this}digestInto(e){Yf(this),to(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Wa=(t,e,r)=>new L4(t,e).update(r).digest();Wa.create=(t,e)=>new L4(t,e);function XU(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),f=n?4:0,u=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+u,a,n)}class O2 extends j4{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=So(this.buffer)}update(e){Yf(this);const{view:r,buffer:n,blockLen:o}=this;e=Ga(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const f=So(e);for(;o<=i-s;s+=o)this.process(f,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yf(this),KU(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:i}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)r[l]=0;XU(n,o-8,BigInt(this.length*8),i),this.process(n,0);const a=So(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=f/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,c[l],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}}const YU=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),D4=Uint8Array.from({length:16},(t,e)=>e),ZU=D4.map(t=>(9*t+5)%16);let B2=[D4],M2=[ZU];for(let t=0;t<4;t++)for(let e of[B2,M2])e.push(e[t].map(r=>YU[r]));const K4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),JU=B2.map((t,e)=>t.map(r=>K4[e][r])),QU=M2.map((t,e)=>t.map(r=>K4[e][r])),tC=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),eC=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),qu=(t,e)=>t<<e|t>>>32-e;function Im(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}const Fu=new Uint32Array(16);class rC extends O2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:r,h2:n,h3:o,h4:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,r){for(let y=0;y<16;y++,r+=4)Fu[y]=e.getUint32(r,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,f=a,u=this.h3|0,c=u,l=this.h4|0,p=l;for(let y=0;y<5;y++){const v=4-y,A=tC[y],T=eC[y],P=B2[y],C=M2[y],D=JU[y],F=QU[y];for(let V=0;V<16;V++){const U=qu(n+Im(y,i,a,u)+Fu[P[V]]+A,D[V])+l|0;n=l,l=u,u=qu(a,10)|0,a=i,i=U}for(let V=0;V<16;V++){const U=qu(o+Im(v,s,f,c)+Fu[C[V]]+T,F[V])+p|0;o=p,p=c,c=qu(f,10)|0,f=s,s=U}}this.set(this.h1+a+c|0,this.h2+u+p|0,this.h3+l+o|0,this.h4+n+s|0,this.h0+i+f|0)}roundClean(){Fu.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const nC=T2(()=>new rC),iC=(t,e,r)=>t&e^~t&r,oC=(t,e,r)=>t&e^t&r^e&r,sC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),si=new Uint32Array(64);class aC extends O2{constructor(){super(64,32,8,!1),this.A=oi[0]|0,this.B=oi[1]|0,this.C=oi[2]|0,this.D=oi[3]|0,this.E=oi[4]|0,this.F=oi[5]|0,this.G=oi[6]|0,this.H=oi[7]|0}get(){const{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:f}=this;return[e,r,n,o,i,s,a,f]}set(e,r,n,o,i,s,a,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=f|0}process(e,r){for(let l=0;l<16;l++,r+=4)si[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const p=si[l-15],y=si[l-2],v=Jr(p,7)^Jr(p,18)^p>>>3,A=Jr(y,17)^Jr(y,19)^y>>>10;si[l]=A+si[l-7]+v+si[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:f,G:u,H:c}=this;for(let l=0;l<64;l++){const p=Jr(a,6)^Jr(a,11)^Jr(a,25),y=c+p+iC(a,f,u)+sC[l]+si[l]|0,v=(Jr(n,2)^Jr(n,13)^Jr(n,22))+oC(n,o,i)|0;c=u,u=f,f=a,a=s+y|0,s=i,i=o,o=n,n=y+v|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,f=f+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,o,i,s,a,f,u,c)}roundClean(){si.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const P2=T2(()=>new aC),Gu=BigInt(2**32-1),Md=BigInt(32);function q4(t,e=!1){return e?{h:Number(t&Gu),l:Number(t>>Md&Gu)}:{h:Number(t>>Md&Gu)|0,l:Number(t&Gu)|0}}function uC(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=q4(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}const fC=(t,e)=>BigInt(t>>>0)<<Md|BigInt(e>>>0),cC=(t,e,r)=>t>>>r,hC=(t,e,r)=>t<<32-r|e>>>r,lC=(t,e,r)=>t>>>r|e<<32-r,pC=(t,e,r)=>t<<32-r|e>>>r,dC=(t,e,r)=>t<<64-r|e>>>r-32,bC=(t,e,r)=>t>>>r-32|e<<64-r,yC=(t,e)=>e,gC=(t,e)=>t,mC=(t,e,r)=>t<<r|e>>>32-r,vC=(t,e,r)=>e<<r|t>>>32-r,wC=(t,e,r)=>e<<r-32|t>>>64-r,_C=(t,e,r)=>t<<r-32|e>>>64-r;function SC(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const EC=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),AC=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,kC=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),IC=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,TC=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),OC=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,jt={fromBig:q4,split:uC,toBig:fC,shrSH:cC,shrSL:hC,rotrSH:lC,rotrSL:pC,rotrBH:dC,rotrBL:bC,rotr32H:yC,rotr32L:gC,rotlSH:mC,rotlSL:vC,rotlBH:wC,rotlBL:_C,add:SC,add3L:EC,add3H:AC,add4L:kC,add4H:IC,add5H:OC,add5L:TC},[BC,MC]=jt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ai=new Uint32Array(80),ui=new Uint32Array(80);class PC extends O2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:f,Eh:u,El:c,Fh:l,Fl:p,Gh:y,Gl:v,Hh:A,Hl:T}=this;return[e,r,n,o,i,s,a,f,u,c,l,p,y,v,A,T]}set(e,r,n,o,i,s,a,f,u,c,l,p,y,v,A,T){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=f|0,this.Eh=u|0,this.El=c|0,this.Fh=l|0,this.Fl=p|0,this.Gh=y|0,this.Gl=v|0,this.Hh=A|0,this.Hl=T|0}process(e,r){for(let D=0;D<16;D++,r+=4)ai[D]=e.getUint32(r),ui[D]=e.getUint32(r+=4);for(let D=16;D<80;D++){const F=ai[D-15]|0,V=ui[D-15]|0,U=jt.rotrSH(F,V,1)^jt.rotrSH(F,V,8)^jt.shrSH(F,V,7),J=jt.rotrSL(F,V,1)^jt.rotrSL(F,V,8)^jt.shrSL(F,V,7),tt=ai[D-2]|0,Q=ui[D-2]|0,st=jt.rotrSH(tt,Q,19)^jt.rotrBH(tt,Q,61)^jt.shrSH(tt,Q,6),m=jt.rotrSL(tt,Q,19)^jt.rotrBL(tt,Q,61)^jt.shrSL(tt,Q,6),O=jt.add4L(J,m,ui[D-7],ui[D-16]),h=jt.add4H(O,U,st,ai[D-7],ai[D-16]);ai[D]=h|0,ui[D]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:f,Dh:u,Dl:c,Eh:l,El:p,Fh:y,Fl:v,Gh:A,Gl:T,Hh:P,Hl:C}=this;for(let D=0;D<80;D++){const F=jt.rotrSH(l,p,14)^jt.rotrSH(l,p,18)^jt.rotrBH(l,p,41),V=jt.rotrSL(l,p,14)^jt.rotrSL(l,p,18)^jt.rotrBL(l,p,41),U=l&y^~l&A,J=p&v^~p&T,tt=jt.add5L(C,V,J,MC[D],ui[D]),Q=jt.add5H(tt,P,F,U,BC[D],ai[D]),st=tt|0,m=jt.rotrSH(n,o,28)^jt.rotrBH(n,o,34)^jt.rotrBH(n,o,39),O=jt.rotrSL(n,o,28)^jt.rotrBL(n,o,34)^jt.rotrBL(n,o,39),h=n&i^n&a^i&a,g=o&s^o&f^s&f;P=A|0,C=T|0,A=y|0,T=v|0,y=l|0,v=p|0,{h:l,l:p}=jt.add(u|0,c|0,Q|0,st|0),u=a|0,c=f|0,a=i|0,f=s|0,i=n|0,s=o|0;const _=jt.add3L(st,O,g);n=jt.add3H(_,Q,m,h),o=_|0}({h:n,l:o}=jt.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=jt.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:f}=jt.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:u,l:c}=jt.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:l,l:p}=jt.add(this.Eh|0,this.El|0,l|0,p|0),{h:y,l:v}=jt.add(this.Fh|0,this.Fl|0,y|0,v|0),{h:A,l:T}=jt.add(this.Gh|0,this.Gl|0,A|0,T|0),{h:P,l:C}=jt.add(this.Hh|0,this.Hl|0,P|0,C|0),this.set(n,o,i,s,a,f,u,c,l,p,y,v,A,T,P,C)}roundClean(){ai.fill(0),ui.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pd=T2(()=>new PC);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F4=BigInt(0),ph=BigInt(1),xC=BigInt(2);function bn(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const NC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function js(t){if(!bn(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=NC[t[r]];return e}function G4(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function x2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Pn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tm(t){if(t>=Pn._0&&t<=Pn._9)return t-Pn._0;if(t>=Pn._A&&t<=Pn._F)return t-(Pn._A-10);if(t>=Pn._a&&t<=Pn._f)return t-(Pn._a-10)}function Ls(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){const s=Tm(t.charCodeAt(i)),a=Tm(t.charCodeAt(i+1));if(s===void 0||a===void 0){const f=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+i)}n[o]=s*16+a}return n}function Eo(t){return x2(js(t))}function N2(t){if(!bn(t))throw new Error("Uint8Array expected");return x2(js(Uint8Array.from(t).reverse()))}function Ds(t,e){return Ls(t.toString(16).padStart(e*2,"0"))}function R2(t,e){return Ds(t,e).reverse()}function RC(t){return Ls(G4(t))}function Gr(t,e,r){let n;if(typeof e=="string")try{n=Ls(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(bn(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}function Va(...t){let e=0;for(let o=0;o<t.length;o++){const i=t[o];if(!bn(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e),n=0;for(let o=0;o<t.length;o++){const i=t[o];r.set(i,n),n+=i.length}return r}function UC(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function CC(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function HC(t){let e;for(e=0;t>F4;t>>=ph,e+=1);return e}function jC(t,e){return t>>BigInt(e)&ph}const LC=(t,e,r)=>t|(r?ph:F4)<<BigInt(e),U2=t=>(xC<<BigInt(t-1))-ph,Ep=t=>new Uint8Array(t),Om=t=>Uint8Array.from(t);function W4(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ep(t),o=Ep(t),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},a=(...c)=>r(o,n,...c),f=(c=Ep())=>{o=a(Om([0]),c),n=a(),c.length!==0&&(o=a(Om([1]),c),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const l=[];for(;c<e;){n=a();const p=n.slice();l.push(p),c+=n.length}return Va(...l)};return(c,l)=>{s(),f(c);let p;for(;!(p=l(u()));)f();return s(),p}}const DC={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||bn(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function bu(t,e,r={}){const n=(o,i,s)=>{const a=DC[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const f=t[o];if(!(s&&f===void 0)&&!a(f,t))throw new Error(`Invalid param ${String(o)}=${f} (${typeof f}), expected ${i}`)};for(const[o,i]of Object.entries(e))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return t}const KC=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jC,bitLen:HC,bitMask:U2,bitSet:LC,bytesToHex:js,bytesToNumberBE:Eo,bytesToNumberLE:N2,concatBytes:Va,createHmacDrbg:W4,ensureBytes:Gr,equalBytes:UC,hexToBytes:Ls,hexToNumber:x2,isBytes:bn,numberToBytesBE:Ds,numberToBytesLE:R2,numberToHexUnpadded:G4,numberToVarBytesBE:RC,utf8ToBytes:CC,validateObject:bu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Le=BigInt(0),ke=BigInt(1),eo=BigInt(2),qC=BigInt(3),xd=BigInt(4),Bm=BigInt(5),Mm=BigInt(8);BigInt(9);BigInt(16);function cr(t,e){const r=t%e;return r>=Le?r:e+r}function FC(t,e,r){if(r<=Le||e<Le)throw new Error("Expected power/modulo > 0");if(r===ke)return Le;let n=ke;for(;e>Le;)e&ke&&(n=n*t%r),t=t*t%r,e>>=ke;return n}function Mr(t,e,r){let n=t;for(;e-- >Le;)n*=n,n%=r;return n}function Nd(t,e){if(t===Le||e<=Le)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=cr(t,e),n=e,o=Le,i=ke;for(;r!==Le;){const s=n/r,a=n%r,f=o-i*s;n=r,r=a,o=i,i=f}if(n!==ke)throw new Error("invert: does not exist");return cr(o,e)}function GC(t){const e=(t-ke)/eo;let r,n,o;for(r=t-ke,n=0;r%eo===Le;r/=eo,n++);for(o=eo;o<t&&FC(o,e,t)!==t-ke;o++);if(n===1){const s=(t+ke)/xd;return function(a,f){const u=a.pow(f,s);if(!a.eql(a.sqr(u),f))throw new Error("Cannot find square root");return u}}const i=(r+ke)/eo;return function(s,a){if(s.pow(a,e)===s.neg(s.ONE))throw new Error("Cannot find square root");let f=n,u=s.pow(s.mul(s.ONE,o),r),c=s.pow(a,i),l=s.pow(a,r);for(;!s.eql(l,s.ONE);){if(s.eql(l,s.ZERO))return s.ZERO;let p=1;for(let v=s.sqr(l);p<f&&!s.eql(v,s.ONE);p++)v=s.sqr(v);const y=s.pow(u,ke<<BigInt(f-p-1));u=s.sqr(y),c=s.mul(c,y),l=s.mul(l,u),f=p}return c}}function WC(t){if(t%xd===qC){const e=(t+ke)/xd;return function(r,n){const o=r.pow(n,e);if(!r.eql(r.sqr(o),n))throw new Error("Cannot find square root");return o}}if(t%Mm===Bm){const e=(t-Bm)/Mm;return function(r,n){const o=r.mul(n,eo),i=r.pow(o,e),s=r.mul(n,i),a=r.mul(r.mul(s,eo),i),f=r.mul(s,r.sub(a,r.ONE));if(!r.eql(r.sqr(f),n))throw new Error("Cannot find square root");return f}}return GC(t)}const VC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zC(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=VC.reduce((n,o)=>(n[o]="function",n),e);return bu(t,r)}function $C(t,e,r){if(r<Le)throw new Error("Expected power > 0");if(r===Le)return t.ONE;if(r===ke)return e;let n=t.ONE,o=e;for(;r>Le;)r&ke&&(n=t.mul(n,o)),o=t.sqr(o),r>>=ke;return n}function XC(t,e){const r=new Array(e.length),n=e.reduce((i,s,a)=>t.is0(s)?i:(r[a]=i,t.mul(i,s)),t.ONE),o=t.inv(n);return e.reduceRight((i,s,a)=>t.is0(s)?i:(r[a]=t.mul(i,r[a]),t.mul(i,s)),o),r}function V4(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function YC(t,e,r=!1,n={}){if(t<=Le)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:i}=V4(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=WC(t),a=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:U2(o),ZERO:Le,ONE:ke,create:f=>cr(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof f}`);return Le<=f&&f<t},is0:f=>f===Le,isOdd:f=>(f&ke)===ke,neg:f=>cr(-f,t),eql:(f,u)=>f===u,sqr:f=>cr(f*f,t),add:(f,u)=>cr(f+u,t),sub:(f,u)=>cr(f-u,t),mul:(f,u)=>cr(f*u,t),pow:(f,u)=>$C(a,f,u),div:(f,u)=>cr(f*Nd(u,t),t),sqrN:f=>f*f,addN:(f,u)=>f+u,subN:(f,u)=>f-u,mulN:(f,u)=>f*u,inv:f=>Nd(f,t),sqrt:n.sqrt||(f=>s(a,f)),invertBatch:f=>XC(a,f),cmov:(f,u,c)=>c?u:f,toBytes:f=>r?R2(f,i):Ds(f,i),fromBytes:f=>{if(f.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${f.length}`);return r?N2(f):Eo(f)}});return Object.freeze(a)}function z4(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $4(t){const e=z4(t);return e+Math.ceil(e/2)}function ZC(t,e,r=!1){const n=t.length,o=z4(e),i=$4(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const s=r?Eo(t):N2(t),a=cr(s,e-ke)+ke;return r?R2(a,o):Ds(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JC=BigInt(0),Ap=BigInt(1);function QC(t,e){const r=(o,i)=>{const s=i.negate();return o?s:i},n=o=>{const i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:r,unsafeLadder(o,i){let s=t.ZERO,a=o;for(;i>JC;)i&Ap&&(s=s.add(a)),a=a.double(),i>>=Ap;return s},precomputeWindow(o,i){const{windows:s,windowSize:a}=n(i),f=[];let u=o,c=u;for(let l=0;l<s;l++){c=u,f.push(c);for(let p=1;p<a;p++)c=c.add(u),f.push(c);u=c.double()}return f},wNAF(o,i,s){const{windows:a,windowSize:f}=n(o);let u=t.ZERO,c=t.BASE;const l=BigInt(2**o-1),p=2**o,y=BigInt(o);for(let v=0;v<a;v++){const A=v*f;let T=Number(s&l);s>>=y,T>f&&(T-=p,s+=Ap);const P=A,C=A+Math.abs(T)-1,D=v%2!==0,F=T<0;T===0?c=c.add(r(D,i[P])):u=u.add(r(F,i[C]))}return{p:u,f:c}},wNAFCached(o,i,s,a){const f=o._WINDOW_SIZE||1;let u=i.get(o);return u||(u=this.precomputeWindow(o,f),f!==1&&i.set(o,a(u))),this.wNAF(f,u,s)}}}function X4(t){return zC(t.Fp),bu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...V4(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tH(t){const e=X4(t);bu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eH,hexToBytes:rH}=KC,ho={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=ho;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:eH(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=ho,r=typeof t=="string"?rH(t):t;if(!bn(r))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:o,l:i}=ho._parseInt(r.subarray(2)),{d:s,l:a}=ho._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),o=e(r(t.r)),i=n.length/2,s=o.length/2,a=r(i),f=r(s);return`30${r(s+i+4)}02${f}${o}02${a}${n}`}},Hn=BigInt(0),Nr=BigInt(1);BigInt(2);const Pm=BigInt(3);BigInt(4);function nH(t){const e=tH(t),{Fp:r}=e,n=e.toBytes||((v,A,T)=>{const P=A.toAffine();return Va(Uint8Array.from([4]),r.toBytes(P.x),r.toBytes(P.y))}),o=e.fromBytes||(v=>{const A=v.subarray(1),T=r.fromBytes(A.subarray(0,r.BYTES)),P=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:T,y:P}});function i(v){const{a:A,b:T}=e,P=r.sqr(v),C=r.mul(P,v);return r.add(r.add(C,r.mul(v,A)),T)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(v){return typeof v=="bigint"&&Hn<v&&v<e.n}function a(v){if(!s(v))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function f(v){const{allowedPrivateKeyLengths:A,nByteLength:T,wrapPrivateKey:P,n:C}=e;if(A&&typeof v!="bigint"){if(bn(v)&&(v=js(v)),typeof v!="string"||!A.includes(v.length))throw new Error("Invalid key");v=v.padStart(T*2,"0")}let D;try{D=typeof v=="bigint"?v:Eo(Gr("private key",v,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof v}`)}return P&&(D=cr(D,C)),a(D),D}const u=new Map;function c(v){if(!(v instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(A,T,P){if(this.px=A,this.py=T,this.pz=P,A==null||!r.isValid(A))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if(P==null||!r.isValid(P))throw new Error("z required")}static fromAffine(A){const{x:T,y:P}=A||{};if(!A||!r.isValid(T)||!r.isValid(P))throw new Error("invalid affine point");if(A instanceof l)throw new Error("projective point not allowed");const C=D=>r.eql(D,r.ZERO);return C(T)&&C(P)?l.ZERO:new l(T,P,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const T=r.invertBatch(A.map(P=>P.pz));return A.map((P,C)=>P.toAffine(T[C])).map(l.fromAffine)}static fromHex(A){const T=l.fromAffine(o(Gr("pointHex",A)));return T.assertValidity(),T}static fromPrivateKey(A){return l.BASE.multiply(f(A))}_setWindowSize(A){this._WINDOW_SIZE=A,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:A,y:T}=this.toAffine();if(!r.isValid(A)||!r.isValid(T))throw new Error("bad point: x or y not FE");const P=r.sqr(T),C=i(A);if(!r.eql(P,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){c(A);const{px:T,py:P,pz:C}=this,{px:D,py:F,pz:V}=A,U=r.eql(r.mul(T,V),r.mul(D,C)),J=r.eql(r.mul(P,V),r.mul(F,C));return U&&J}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:T}=e,P=r.mul(T,Pm),{px:C,py:D,pz:F}=this;let V=r.ZERO,U=r.ZERO,J=r.ZERO,tt=r.mul(C,C),Q=r.mul(D,D),st=r.mul(F,F),m=r.mul(C,D);return m=r.add(m,m),J=r.mul(C,F),J=r.add(J,J),V=r.mul(A,J),U=r.mul(P,st),U=r.add(V,U),V=r.sub(Q,U),U=r.add(Q,U),U=r.mul(V,U),V=r.mul(m,V),J=r.mul(P,J),st=r.mul(A,st),m=r.sub(tt,st),m=r.mul(A,m),m=r.add(m,J),J=r.add(tt,tt),tt=r.add(J,tt),tt=r.add(tt,st),tt=r.mul(tt,m),U=r.add(U,tt),st=r.mul(D,F),st=r.add(st,st),tt=r.mul(st,m),V=r.sub(V,tt),J=r.mul(st,Q),J=r.add(J,J),J=r.add(J,J),new l(V,U,J)}add(A){c(A);const{px:T,py:P,pz:C}=this,{px:D,py:F,pz:V}=A;let U=r.ZERO,J=r.ZERO,tt=r.ZERO;const Q=e.a,st=r.mul(e.b,Pm);let m=r.mul(T,D),O=r.mul(P,F),h=r.mul(C,V),g=r.add(T,P),_=r.add(D,F);g=r.mul(g,_),_=r.add(m,O),g=r.sub(g,_),_=r.add(T,C);let M=r.add(D,V);return _=r.mul(_,M),M=r.add(m,h),_=r.sub(_,M),M=r.add(P,C),U=r.add(F,V),M=r.mul(M,U),U=r.add(O,h),M=r.sub(M,U),tt=r.mul(Q,_),U=r.mul(st,h),tt=r.add(U,tt),U=r.sub(O,tt),tt=r.add(O,tt),J=r.mul(U,tt),O=r.add(m,m),O=r.add(O,m),h=r.mul(Q,h),_=r.mul(st,_),O=r.add(O,h),h=r.sub(m,h),h=r.mul(Q,h),_=r.add(_,h),m=r.mul(O,_),J=r.add(J,m),m=r.mul(M,_),U=r.mul(g,U),U=r.sub(U,m),m=r.mul(g,O),tt=r.mul(M,tt),tt=r.add(tt,m),new l(U,J,tt)}subtract(A){return this.add(A.negate())}is0(){return this.equals(l.ZERO)}wNAF(A){return y.wNAFCached(this,u,A,T=>{const P=r.invertBatch(T.map(C=>C.pz));return T.map((C,D)=>C.toAffine(P[D])).map(l.fromAffine)})}multiplyUnsafe(A){const T=l.ZERO;if(A===Hn)return T;if(a(A),A===Nr)return this;const{endo:P}=e;if(!P)return y.unsafeLadder(this,A);let{k1neg:C,k1:D,k2neg:F,k2:V}=P.splitScalar(A),U=T,J=T,tt=this;for(;D>Hn||V>Hn;)D&Nr&&(U=U.add(tt)),V&Nr&&(J=J.add(tt)),tt=tt.double(),D>>=Nr,V>>=Nr;return C&&(U=U.negate()),F&&(J=J.negate()),J=new l(r.mul(J.px,P.beta),J.py,J.pz),U.add(J)}multiply(A){a(A);let T=A,P,C;const{endo:D}=e;if(D){const{k1neg:F,k1:V,k2neg:U,k2:J}=D.splitScalar(T);let{p:tt,f:Q}=this.wNAF(V),{p:st,f:m}=this.wNAF(J);tt=y.constTimeNegate(F,tt),st=y.constTimeNegate(U,st),st=new l(r.mul(st.px,D.beta),st.py,st.pz),P=tt.add(st),C=Q.add(m)}else{const{p:F,f:V}=this.wNAF(T);P=F,C=V}return l.normalizeZ([P,C])[0]}multiplyAndAddUnsafe(A,T,P){const C=l.BASE,D=(V,U)=>U===Hn||U===Nr||!V.equals(C)?V.multiplyUnsafe(U):V.multiply(U),F=D(this,T).add(D(A,P));return F.is0()?void 0:F}toAffine(A){const{px:T,py:P,pz:C}=this,D=this.is0();A==null&&(A=D?r.ONE:r.inv(C));const F=r.mul(T,A),V=r.mul(P,A),U=r.mul(C,A);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:F,y:V}}isTorsionFree(){const{h:A,isTorsionFree:T}=e;if(A===Nr)return!0;if(T)return T(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:T}=e;return A===Nr?this:T?T(l,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return this.assertValidity(),n(l,this,A)}toHex(A=!0){return js(this.toRawBytes(A))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,y=QC(l,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:i,isWithinCurveOrder:s}}function iH(t){const e=X4(t);return bu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oH(t){const e=iH(t),{Fp:r,n}=e,o=r.BYTES+1,i=2*r.BYTES+1;function s(_){return Hn<_&&_<r.ORDER}function a(_){return cr(_,n)}function f(_){return Nd(_,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:p}=nH({...e,toBytes(_,M,R){const x=M.toAffine(),b=r.toBytes(x.x),E=Va;return R?E(Uint8Array.from([M.hasEvenY()?2:3]),b):E(Uint8Array.from([4]),b,r.toBytes(x.y))},fromBytes(_){const M=_.length,R=_[0],x=_.subarray(1);if(M===o&&(R===2||R===3)){const b=Eo(x);if(!s(b))throw new Error("Point is not on curve");const E=l(b);let S=r.sqrt(E);const B=(S&Nr)===Nr;return(R&1)===1!==B&&(S=r.neg(S)),{x:b,y:S}}else if(M===i&&R===4){const b=r.fromBytes(x.subarray(0,r.BYTES)),E=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:b,y:E}}else throw new Error(`Point of length ${M} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),y=_=>js(Ds(_,e.nByteLength));function v(_){const M=n>>Nr;return _>M}function A(_){return v(_)?a(-_):_}const T=(_,M,R)=>Eo(_.slice(M,R));class P{constructor(M,R,x){this.r=M,this.s=R,this.recovery=x,this.assertValidity()}static fromCompact(M){const R=e.nByteLength;return M=Gr("compactSignature",M,R*2),new P(T(M,0,R),T(M,R,2*R))}static fromDER(M){const{r:R,s:x}=ho.toSig(Gr("DER",M));return new P(R,x)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new P(this.r,this.s,M)}recoverPublicKey(M){const{r:R,s:x,recovery:b}=this,E=J(Gr("msgHash",M));if(b==null||![0,1,2,3].includes(b))throw new Error("recovery id invalid");const S=b===2||b===3?R+e.n:R;if(S>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=b&1?"03":"02",$=u.fromHex(B+y(S)),et=f(S),ot=a(-E*et),Z=a(x*et),q=u.BASE.multiplyAndAddUnsafe($,ot,Z);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ls(this.toDERHex())}toDERHex(){return ho.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ls(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const C={isValidPrivateKey(_){try{return c(_),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const _=$4(e.n);return ZC(e.randomBytes(_),e.n)},precompute(_=8,M=u.BASE){return M._setWindowSize(_),M.multiply(BigInt(3)),M}};function D(_,M=!0){return u.fromPrivateKey(_).toRawBytes(M)}function F(_){const M=bn(_),R=typeof _=="string",x=(M||R)&&_.length;return M?x===o||x===i:R?x===2*o||x===2*i:_ instanceof u}function V(_,M,R=!0){if(F(_))throw new Error("first arg must be private key");if(!F(M))throw new Error("second arg must be public key");return u.fromHex(M).multiply(c(_)).toRawBytes(R)}const U=e.bits2int||function(_){const M=Eo(_),R=_.length*8-e.nBitLength;return R>0?M>>BigInt(R):M},J=e.bits2int_modN||function(_){return a(U(_))},tt=U2(e.nBitLength);function Q(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(Hn<=_&&_<tt))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ds(_,e.nByteLength)}function st(_,M,R=m){if(["recovered","canonical"].some(Y=>Y in R))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:b}=e;let{lowS:E,prehash:S,extraEntropy:B}=R;E==null&&(E=!0),_=Gr("msgHash",_),S&&(_=Gr("prehashed msgHash",x(_)));const $=J(_),et=c(M),ot=[Q(et),Q($)];if(B!=null){const Y=B===!0?b(r.BYTES):B;ot.push(Gr("extraEntropy",Y))}const Z=Va(...ot),q=$;function L(Y){const rt=U(Y);if(!p(rt))return;const H=f(rt),K=u.BASE.multiply(rt).toAffine(),it=a(K.x);if(it===Hn)return;const at=a(H*a(q+it*et));if(at===Hn)return;let yt=(K.x===it?0:2)|Number(K.y&Nr),dt=at;return E&&v(at)&&(dt=A(at),yt^=1),new P(it,dt,yt)}return{seed:Z,k2sig:L}}const m={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function h(_,M,R=m){const{seed:x,k2sig:b}=st(_,M,R),E=e;return W4(E.hash.outputLen,E.nByteLength,E.hmac)(x,b)}u.BASE._setWindowSize(8);function g(_,M,R,x=O){var b;const E=_;if(M=Gr("msgHash",M),R=Gr("publicKey",R),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:S,prehash:B}=x;let $,et;try{if(typeof E=="string"||bn(E))try{$=P.fromDER(E)}catch(K){if(!(K instanceof ho.Err))throw K;$=P.fromCompact(E)}else if(typeof E=="object"&&typeof E.r=="bigint"&&typeof E.s=="bigint"){const{r:K,s:it}=E;$=new P(K,it)}else throw new Error("PARSE");et=u.fromHex(R)}catch(K){if(K.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(S&&$.hasHighS())return!1;B&&(M=e.hash(M));const{r:ot,s:Z}=$,q=J(M),L=f(Z),Y=a(q*L),rt=a(ot*L),H=(b=u.BASE.multiplyAndAddUnsafe(et,Y,rt))==null?void 0:b.toAffine();return H?a(H.x)===ot:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:V,sign:h,verify:g,ProjectivePoint:u,Signature:P,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sH(t){return{hash:t,hmac:(e,...r)=>Wa(t,e,xa(...r)),randomBytes:$U}}function aH(t,e){const r=n=>oH({...t,...sH(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xm=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),uH=BigInt(1),Rd=BigInt(2),Nm=(t,e)=>(t+e/Rd)/e;function fH(t){const e=Y4,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),f=BigInt(88),u=t*t*t%e,c=u*u*t%e,l=Mr(c,r,e)*c%e,p=Mr(l,r,e)*c%e,y=Mr(p,Rd,e)*u%e,v=Mr(y,o,e)*y%e,A=Mr(v,i,e)*v%e,T=Mr(A,a,e)*A%e,P=Mr(T,f,e)*T%e,C=Mr(P,a,e)*A%e,D=Mr(C,r,e)*c%e,F=Mr(D,s,e)*v%e,V=Mr(F,n,e)*u%e,U=Mr(V,Rd,e);if(!Ud.eql(Ud.sqr(U),t))throw new Error("Cannot find square root");return U}const Ud=YC(Y4,void 0,void 0,{sqrt:fH}),rn=aH({a:BigInt(0),b:BigInt(7),Fp:Ud,n:xm,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=xm,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-uH*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=Nm(i*t,e),f=Nm(-n*t,e);let u=cr(t-a*r-f*o,e),c=cr(-a*n-f*i,e);const l=u>s,p=c>s;if(l&&(u=e-u),p&&(c=e-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:u,k2neg:p,k2:c}}}},P2);BigInt(0);rn.ProjectivePoint;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cd(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Z4(...t){const e=i=>i,r=(i,s)=>a=>i(s(a)),n=t.map(i=>i.encode).reduceRight(r,e),o=t.map(i=>i.decode).reduce(r,e);return{encode:n,decode:o}}function cH(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function hH(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Rm(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0;const o=[],i=Array.from(t);for(i.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let f=n;f<i.length;f++){const u=i[f],c=e*s+u;if(!Number.isSafeInteger(c)||e*s/e!==s||c-u!==e*s)throw new Error("convertRadix: carry overflow");s=c%r;const l=Math.floor(c/r);if(i[f]=l,!Number.isSafeInteger(l)||l*r+s!==c)throw new Error("convertRadix: carry overflow");if(a)l?a=!1:n=f;else continue}if(o.push(s),a)break}for(let s=0;s<t.length-1&&t[s]===0;s++)o.push(0);return o.reverse()}function lH(t){return{encode:e=>{if(!Cd(e))throw new Error("radix.encode input should be Uint8Array");return Rm(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(Rm(e,t,2**8))}}}function pH(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!Cd(r))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),o=new Uint8Array(r.length+t);return o.set(r),o.set(n,r.length),o},decode(r){if(!Cd(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),o=e(n).slice(0,t),i=r.slice(-t);for(let s=0;s<t;s++)if(o[s]!==i[s])throw new Error("Invalid checksum");return n}}}const dH=t=>Z4(lH(58),cH(t),hH("")),bH=dH("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),yH=t=>Z4(pH(4,e=>t(t(e))),bH);/*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const Wu=rn.ProjectivePoint,kp=yH(P2);function Um(t){return BigInt(`0x${GU(t)}`)}function gH(t){return WU(t.toString(16).padStart(64,"0"))}const mH=H4("Bitcoin seed"),Ip={private:76066276,public:76067358},Tp=2147483648,vH=t=>nC(P2(t)),wH=t=>So(t).getUint32(0,!1),Vu=t=>{if(!Number.isSafeInteger(t)||t<0||t>2**32-1)throw new Error(`Invalid number=${t}. Should be from 0 to 2 ** 32 - 1`);const e=new Uint8Array(4);return So(e).setUint32(0,t,!1),e};class ro{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return wH(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return kp.encode(this.serialize(this.versions.private,xa(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return kp.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,r=Ip){if(to(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=Wa(Pd,mH,e);return new ro({versions:r,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,r=Ip){const n=kp.decode(e),o=So(n),i=o.getUint32(0,!1),s={versions:r,depth:n[4],parentFingerprint:o.getUint32(5,!1),index:o.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),f=a[0]===0;if(i!==r[f?"private":"public"])throw new Error("Version mismatch");return f?new ro({...s,privateKey:a.slice(1)}):new ro({...s,publicKey:a})}static fromJSON(e){return ro.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Ip,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!rn.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:Um(e.privateKey),this.privKeyBytes=gH(this.privKey),this.pubKey=rn.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=Wu.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=vH(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const r=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const o of r){const i=/^(\d+)('?)$/.exec(o),s=i&&i[1];if(!i||i.length!==3||typeof s!="string")throw new Error(`Invalid child index: ${o}`);let a=+s;if(!Number.isSafeInteger(a)||a>=Tp)throw new Error("Invalid index");i[2]==="'"&&(a+=Tp),n=n.deriveChild(a)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let r=Vu(e);if(e>=Tp){const a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");r=xa(new Uint8Array([0]),a,r)}else r=xa(this.pubKey,r);const n=Wa(Pd,this.chainCode,r),o=Um(n.slice(0,32)),i=n.slice(32);if(!rn.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");const s={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const a=cr(this.privKey+o,rn.CURVE.n);if(!rn.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=a}else{const a=Wu.fromHex(this.pubKey).add(Wu.fromPrivateKey(o));if(a.equals(Wu.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=a.toRawBytes(!0)}return new ro(s)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return to(e,32),rn.sign(e,this.privKey).toCompactRawBytes()}verify(e,r){if(to(e,32),to(r,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=rn.Signature.fromCompact(r)}catch{return!1}return rn.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,r){if(!this.chainCode)throw new Error("No chainCode set");return to(r,33),xa(Vu(e),new Uint8Array([this.depth]),Vu(this.parentFingerprint),Vu(this.index),this.chainCode,r)}}function _H(t,e,r,n){C4(t);const o=zU({dkLen:32,asyncTick:10},n),{c:i,dkLen:s,asyncTick:a}=o;if(Ua(i),Ua(s),Ua(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=Ga(e),u=Ga(r),c=new Uint8Array(s),l=Wa.create(t,f),p=l._cloneInto().update(u);return{c:i,dkLen:s,asyncTick:a,DK:c,PRF:l,PRFSalt:p}}function SH(t,e,r,n,o){return t.destroy(),e.destroy(),n&&n.destroy(),o.fill(0),r}function EH(t,e,r,n){const{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:f}=_H(t,e,r,n);let u;const c=new Uint8Array(4),l=So(c),p=new Uint8Array(a.outputLen);for(let y=1,v=0;v<i;y++,v+=a.outputLen){const A=s.subarray(v,v+a.outputLen);l.setInt32(0,y,!1),(u=f._cloneInto(u)).update(c).digestInto(p),A.set(p.subarray(0,A.length));for(let T=1;T<o;T++){a._cloneInto(u).update(p).digestInto(p);for(let P=0;P<A.length;P++)A[P]^=p[P]}}return SH(a,f,s,u,p)}/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function J4(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function AH(t){const e=J4(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}const kH=t=>J4(`mnemonic${t}`);function Q4(t,e=""){return EH(Pd,AH(t).nfkd,kH(e),{c:2048,dkLen:64})}var C2={},Ks={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.testnet=qs.bitcoin=void 0;qs.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};qs.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var tw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=kt,t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe})(tw);var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.testEcc=void 0;const Zt=t=>z.Buffer.from(t,"hex");function IH(t){nr(t.isPoint(Zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),nr(!t.isPoint(Zt("030000000000000000000000000000000000000000000000000000000000000005"))),nr(t.isPrivate(Zt("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),nr(t.isPrivate(Zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),nr(!t.isPrivate(Zt("0000000000000000000000000000000000000000000000000000000000000000"))),nr(!t.isPrivate(Zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),nr(!t.isPrivate(Zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),nr(z.Buffer.from(t.pointCompress(Zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(Zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),nr(z.Buffer.from(t.pointCompress(Zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(Zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),nr(z.Buffer.from(t.pointCompress(Zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(Zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),nr(z.Buffer.from(t.pointCompress(Zt("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(Zt("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),nr(z.Buffer.from(t.pointFromScalar(Zt("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(Zt("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),nr(z.Buffer.from(t.sign(Zt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),Zt("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(Zt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),nr(t.verify(Zt("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),Zt("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Zt("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),t.signSchnorr&&nr(z.Buffer.from(t.signSchnorr(Zt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),Zt("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),Zt("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(Zt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),t.verifySchnorr&&nr(t.verifySchnorr(Zt("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),Zt("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),Zt("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}dh.testEcc=IH;function nr(t){if(!t)throw new Error("ecc library invalid")}Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ECPairFactory=Ks.networks=void 0;const Hd=qs;Ks.networks=Hd;const ar=tw,TH=Xn,Cm=$c,OH=dh,Op=ar.typeforce.maybe(ar.typeforce.compile({compressed:ar.maybe(ar.Boolean),network:ar.maybe(ar.Network)}));function BH(t){(0,OH.testEcc)(t);function e(a){return t.isPoint(a)}function r(a,f){if(ar.typeforce(ar.Buffer256bit,a),!t.isPrivate(a))throw new TypeError("Private key not in range [1, n)");return ar.typeforce(Op,f),new s(a,void 0,f)}function n(a,f){return ar.typeforce(t.isPoint,a),ar.typeforce(Op,f),new s(void 0,a,f)}function o(a,f){const u=Cm.decode(a),c=u.version;if(ar.Array(f)){if(f=f.filter(l=>c===l.wif).pop(),!f)throw new Error("Unknown network version")}else if(f=f||Hd.bitcoin,c!==f.wif)throw new Error("Invalid network version");return r(u.privateKey,{compressed:u.compressed,network:f})}function i(a){ar.typeforce(Op,a),a===void 0&&(a={});const f=a.rng||TH;let u;do u=f(32),ar.typeforce(ar.Buffer256bit,u);while(!t.isPrivate(u));return r(u,a)}class s{constructor(f,u,c){ha(this,"__D"),ha(this,"__Q"),ha(this,"compressed"),ha(this,"network"),ha(this,"lowR"),this.__D=f,this.__Q=u,this.lowR=!1,c===void 0&&(c={}),this.compressed=c.compressed===void 0?!0:c.compressed,this.network=c.network||Hd.bitcoin,u!==void 0&&(this.__Q=z.Buffer.from(t.pointCompress(u,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const f=t.pointFromScalar(this.__D,this.compressed);this.__Q=z.Buffer.from(f)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return Cm.encode(this.network.wif,this.__D,this.compressed)}sign(f,u){if(!this.__D)throw new Error("Missing private key");if(u===void 0&&(u=this.lowR),u===!1)return z.Buffer.from(t.sign(f,this.__D));{let c=t.sign(f,this.__D);const l=z.Buffer.alloc(32,0);let p=0;for(;c[0]>127;)p++,l.writeUIntLE(p,0,6),c=t.sign(f,this.__D,l);return z.Buffer.from(c)}}signSchnorr(f){if(!this.privateKey)throw new Error("Missing private key");if(!t.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return z.Buffer.from(t.signSchnorr(f,this.privateKey))}verify(f,u){return t.verify(f,this.publicKey,u)}verifySchnorr(f,u){if(!t.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return t.verifySchnorr(f,this.publicKey.subarray(1,33),u)}}return{isPoint:e,fromPrivateKey:r,fromPublicKey:n,fromWIF:o,makeRandom:i}}Ks.ECPairFactory=BH;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ECPairFactory=t.default=void 0;var e=Ks;Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.ECPairFactory}}),Object.defineProperty(t,"ECPairFactory",{enumerable:!0,get:function(){return e.ECPairFactory}}),Object.defineProperty(t,"networks",{enumerable:!0,get:function(){return e.networks}})})(C2);const ew=t=>{switch(t){case Yt.Bitcoin:case Yt.BitcoinCash:return 550;case Yt.Litecoin:return 5500;case Yt.Dogecoin:return 1e5;default:throw new Error("Invalid Chain")}},yu=({inputs:t,outputs:e,feeRate:r=1,chain:n=Yt.Bitcoin})=>{const o=Math.ceil(r),i=t[0]&&"address"in t[0]?j2(t[0].address):H2.P2PKH,s=t.filter(p=>Ca(p)*o<=p.value),a=rw+e.reduce((p,y)=>p+Dd(y,i),0),f=e.reduce((p,y)=>p+y.value,0);let u=a*o,c=0,l=[];for(const p of s){const y=Ca(p),v=o*y;u+=v,c+=p.value,l.push(p);const A=u+f;if(c<A)continue;const T=c-A,P=o*Dd({address:"",value:0},i);if(T>P){const C=P+u,D=c-(f+C);if(D>Math.max(Ca({})*o,ew(n)))return{inputs:l,outputs:e.concat({value:D,address:""}),fee:C}}return{inputs:l,outputs:e,fee:u}}return{fee:o*L2({inputs:t,outputs:e,feeRate:o})}},GV=1e3,rw=10,MH=10,PH=41,xH=107,gu=t=>{const e=z.Buffer.from(t,"utf8");return NU.compile([HU.OP_RETURN,e])};var H2=(t=>(t.P2PKH="P2PKH",t.P2WPKH="P2WPKH",t))(H2||{});const jd={P2PKH:148,P2WPKH:68},Ld={P2PKH:34,P2WPKH:31},j2=t=>{if(t.startsWith("bc1")||t.startsWith("ltc1"))return"P2WPKH";if(t.startsWith("1")||t.startsWith("3")||t.startsWith("L")||t.startsWith("M")||t.startsWith("D")||t.startsWith("bitcoincash:q")||t.startsWith("q"))return"P2PKH";throw new Error("Invalid address")},L2=({inputs:t,outputs:e,feeRate:r})=>{const n=t[0]&&"address"in t[0]?j2(t[0].address):"P2PKH",o=t.filter(s=>s.value>=jd["type"in s?s.type:"P2PKH"]*Math.ceil(r)).reduce((s,a)=>s+Ca(a),0),i=e?.reduce((s,a)=>s+Dd(a),0)||Ld[n];return rw+o+i},Ca=t=>"type"in t?jd[t.type]:"address"in t?jd[j2(t.address)]:PH+xH,Dd=(t,e)=>t!=null&&t.script?MH+t.script.length+(t.script.length>=74?2:1):e?Ld[e]:Ld.P2PKH;var D2={name:"BitcoinCash",per1:1e8,unit:"BCH"},NH=Object.assign({},{hashGenesisBlock:"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f",port:8333,portRpc:8332,protocol:{magic:3908297187},seedsDns:["seed.bitcoinabc.org","seed-abc.bitcoinforks.org","btccash-seeder.bitcoinunlimited.info","seed.bitprim.org","seed.deadalnix.me","seeder.criptolayer.net"],versions:{bip32:{private:76066276,public:76067358},bip44:145,private:128,public:0,scripthash:5}},D2),RH=Object.assign({},{hashGenesisBlock:"000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943",port:18333,portRpc:18332,protocol:{magic:4109624820},seedsDns:["testnet-seed.bitcoinabc.org","testnet-seed-abc.bitcoinforks.org","testnet-seed.bitprim.org","testnet-seed.deadalnix.me","testnet-seeder.criptolayer.net"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},D2),UH=Object.assign({},{hashGenesisBlock:"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206",port:18444,portRpc:18332,protocol:{magic:4206867930},seedsDns:[],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},D2),CH={main:NH,test:RH,regtest:UH},HH={name:"BlackCoin",per1:1e8,unit:"BLK"},jH=Object.assign({},{hashGenesisBlock:"000001faef25dec4fbcf906e6242621df2c183bf232f263d0ba5b101911e4563",port:15714,portRpc:15715,protocol:{magic:86127984},seedsDns:["rat4.blackcoin.co","seed.blackcoin.co","archon.darkfox.id.au","foxy.seeds.darkfox.id.au","6.syllabear.us.to","bcseed.syllabear.us.to"],versions:{bip32:{private:76066276,public:76067358},bip44:10,private:153,public:25,scripthash:85}},HH),LH={main:jH,test:null},bh={name:"Bitcoin",per1:1e8,unit:"BTC",messagePrefix:`Bitcoin Signed Message:
`},DH=Object.assign({},{hashGenesisBlock:"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f",port:8333,portRpc:8332,protocol:{magic:3652501241},bech32:"bc",seedsDns:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","seed.bitcoinstats.com","seed.bitcoin.jonasschnelli.ch","seed.btc.petertodd.org","seed.bitcoin.sprovoost.nl","dnsseed.emzy.de"],versions:{bip32:{private:76066276,public:76067358},bip44:0,private:128,public:0,scripthash:5}},bh),KH=Object.assign({},{hashGenesisBlock:"000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943",port:18333,portRpc:18332,protocol:{magic:118034699},bech32:"tb",seedsDns:["testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de","testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},bh),qH=Object.assign({},{hashGenesisBlock:"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206",port:18444,portRpc:18332,protocol:{magic:3669344250},bech32:"bcrt",seedsDns:[],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},bh),FH=Object.assign({},{hashGenesisBlock:"f67ad7695d9b662a72ff3d8edbbb2de0bfa67b13974bb9910d116d5cbd863e68",port:18555,portRpc:18556,protocol:{magic:303307798},bech32:"sb",seedsDns:[],versions:{bip32:{private:69253376,public:69254458},bip44:115,private:100,public:63,scripthash:123}},bh),GH={main:DH,test:KH,regtest:qH,simnet:FH},nw={name:"Bitcoin Gold",unit:"BTG"},WH=Object.assign({},{hashGenesisBlock:"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f",port:8338,protocol:{magic:1148012513},bech32:"btg",seedsDns:["eu-dnsseed.bitcoingold-official.org","dnsseed.bitcoingold.org","dnsseed.btcgpu.org"],versions:{bip32:{private:76066276,public:76067358},bip44:156,private:128,public:38,scripthash:23}},nw),VH=Object.assign({},{hashGenesisBlock:"0x00000000e0781ebe24b91eedc293adfea2f557b53ec379e78959de3853e6f9f6",port:18338,portRpc:18332,protocol:{magic:1164855522},bech32:"tbtg",seedsDns:["test-dnsseed.bitcoingold.org","test-dnsseed.btcgpu.org","eu-test-dnsseed.bitcoingold-official.org"],versions:{bip32:{private:70615956,public:70617039},bip44:156,private:239,public:111,scripthash:196}},nw),zH={main:WH,test:VH},K2={name:"c0ban",unit:"RYO"},$H=Object.assign({},{hashGenesisBlock:"000000005184ffce04351e687a3965b300ee011d26b2089232cd039273be4a67",port:3881,portRpc:3882,protocol:{magic:1851928675},seedsDns:["jp01.dnsseed.c0ban.com","kr01.dnsseed.c0ban.com"],versions:{bip32:{private:76066276,public:76067358},bip44:88888,private:136,public:18,scripthash:28}},K2),XH=Object.assign({},{hashGenesisBlock:"000000005184ffce04351e687a3965b300ee011d26b2089232cd039273be4a67",port:13881,portRpc:13882,protocol:{magic:2390917251},seedsDns:[],versions:{bip32:{private:70812552,public:72910728},bip44:1,private:238,public:118,scripthash:198}},K2),YH=Object.assign({},{hashGenesisBlock:"3249e44acac8fc67e6b94e882525cea6f5a9853e1ff7b4a1d5f470b23ff8ae11",port:23881,portRpc:23882,protocol:{magic:3669344250},seedsDns:[],versions:{bip32:{private:70617039,public:70615956},bip44:1,private:239,public:111,scripthash:196}},K2),ZH={main:$H,test:XH,regtest:YH},iw={name:"CityCoin",isProofOfStake:!0},JH=Object.assign({},{unit:"CITY",hashGenesisBlock:"00000b0517068e602ed5279c20168cfa1e69884ee4e784909652da34c361bff2",port:4333,portRpc:4334,protocol:{magic:1129601281},seedsDns:["seed.city-chain.org","seed.city-coin.org","seed.citychain.foundation","seed.liberstad.com"],versions:{bip32:{private:76066276,public:76067358},bip44:1926,private:237,public:28,scripthash:88}},iw),QH=Object.assign({},{unit:"TCITY",hashGenesisBlock:"00077765f625cc2cb6266544ff7d5a462f25be14ea1116dc2bd2fec17e40a5e3",port:24333,portRpc:24334,protocol:{magic:1129600001},seedsDns:["testseed.city-chain.org","testseed.city-coin.org","testseed.citychain.foundation"],versions:{bip32:{private:76066276,public:76067358},bip44:1926,private:194,public:66,scripthash:196}},iw),tj={main:JH,test:QH},ow={name:"Dash",unit:"DASH"},ej=Object.assign({},{hashGenesisBlock:"00000ffd590b1485b3caadc19b22e6379c733355108f107a430458cdf3407ab6",port:9999,portRpc:9998,protocol:{magic:3177909439},seedsDns:["dash.org","dnsseed.dash.org","dashdot.io","dnsseed.dashdot.io","masternode.io","dnsseed.masternode.io","dashpay.io","dnsseed.dashpay.io"],versions:{bip32:{private:76066276,public:76067358},bip44:5,private:204,public:76,scripthash:16}},ow),rj=Object.assign({},{hashGenesisBlock:"00000bafbc94add76cb75e2ec92894837288a481e5c005f6563d91623bf8bc2c",port:19999,portRpc:19998,seedsDns:["dashdot.io","testnet-seed.dashdot.io","masternode.io","test.dnsseed.masternode.io"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:140,scripthash:19}},ow),nj={main:ej,test:rj},sw={name:"Denarius",unit:"DNR"},ij=Object.assign({},{hashGenesisBlock:"00000d5dbbda01621cfc16bbc1f9bf3264d641a5dbf0de89fd0182c2c4828fcd",port:33339,portRpc:32339,protocol:{magic:3035624186},seedsDns:["denariusexplorer.org","denarius.host","denarius.tech","denarius.network"],versions:{bip32:{private:76066276,public:76067358},bip44:116,private:158,public:30,scripthash:90}},sw),oj=Object.assign({},{hashGenesisBlock:"000086bfe8264d241f7f8e5393f747784b8ca2aa98bdd066278d590462a4fdb4",versions:{bip44:1,private:140,public:18,scripthash:116}},sw),sj={main:ij,test:oj},aw={name:"Decred",unit:"DCR"},aj=Object.assign({},{hashGenesisBlock:"298e5cc3d985bfe7f81dc135f360abe089edd4396b86d2de66b0cef42b21d980",port:9108,portRpc:9109,protocol:{magic:4177573081},seedsDns:["mainnet-seed.decred.mindcry.org","mainnet-seed.decred.netpurgatory.com","mainnet.decredseed.org","mainnet-seed.decred.org"],versions:{bip32:{private:50177256,public:50178342},bip44:42,private:8926,public:1855,scripthash:1818}},aw),uj=Object.assign({},{hashGenesisBlock:"5b7466edf6739adc9b32aaedc54e24bdc59a05f0ced855088835fe3cbe58375f",port:19108,portRpc:19109,protocol:{magic:1223139429},seedsDns:["testnet-seed.decred.mindcry.org","testnet-seed.decred.netpurgatory.org","testnet.decredseed.org","testnet-seed.decred.org"],versions:{bip32:{private:70615959,public:70617041},bip44:42,private:8974,public:3873,scripthash:3836}},aw),fj={main:aj,test:uj},cj={name:"DigiByte",per1:1e8,unit:"DGB"},hj=Object.assign({},{hashGenesisBlock:"000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f",port:12024,portRpc:14022,protocol:{magic:4207130330},bech32:"dgb",seedsDns:["seed.digibyte.io","digiexplorer.info","digihash.co"],versions:{bip44:2147483668,private:128,public:30,scripthash:63,scripthash2:5}},cj),lj={main:hj},uw={name:"Dogecoin",unit:"DOGE"},pj=Object.assign({},{hashGenesisBlock:"1a91e3dace36e2be3bf030a65679fe821aa1d6ef92e7c9902eb318182c355691",port:22556,protocol:{magic:3233857728},seedsDns:["seed.multidoge.org","seed2.multidoge.org"],versions:{bip32:{private:49988504,public:49990397},bip44:3,private:158,public:30,scripthash:22}},uw),dj=Object.assign({},{hashGenesisBlock:"bb0a78264637406b6360aad926284d544d7049f45189db5664f3c4d07350559e",port:44556,protocol:{magic:4240553948},seedsDns:["testseed.jrn.me.uk"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:241,public:113,scripthash:196}},uw),bj={main:pj,test:dj},q2={name:"Groestlcoin",per1:1e8,unit:"GRS",messagePrefix:`GroestlCoin Signed Message:
`},yj=Object.assign({},{hashGenesisBlock:"00000ac5927c594d49cc0bdb81759d0da8297eb614683d3acb62f0703b639023",port:1331,portRpc:1441,protocol:{magic:3568615161},bech32:"grs",seedsDns:["dnsseed1.groestlcoin.org","dnsseed2.groestlcoin.org","dnsseed3.groestlcoin.org","dnsseed4.groestlcoin.org"],versions:{bip32:{private:76066276,public:76067358},bip44:17,private:128,public:36,scripthash:5}},q2),gj=Object.assign({},{hashGenesisBlock:"0x000000ffbb50fc9898cdd36ec163e6ba23230164c0052a28876255b7dcf2cd36",port:17777,portRpc:17766,protocol:{magic:118034699},bech32:"tgrs",seedsDns:["testnet-seed1.groestlcoin.org","testnet-seed2.groestlcoin.org"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},q2),mj=Object.assign({},{hashGenesisBlock:"0x000000ffbb50fc9898cdd36ec163e6ba23230164c0052a28876255b7dcf2cd36",port:18888,portRpc:18443,protocol:{magic:3669344250},bech32:"grsrt",seedsDns:[],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},q2),vj={main:yj,test:gj,regtest:mj},fw={name:"Litecoin",unit:"LTC"},wj=Object.assign({},{hashGenesisBlock:"12a765e31ffd4059bada1e25190f6e98c99d9714d334efa41a195a7e7e04bfe2",port:9333,protocol:{magic:3686187259},bech32:"ltc",seedsDns:["dnsseed.litecointools.com","dnsseed.litecoinpool.org","dnsseed.ltc.xurious.com","dnsseed.koin-project.com","dnsseed.weminemnc.com"],versions:{bip32:{private:27106558,public:27108450},bip44:2,private:176,public:48,scripthash:50,scripthash2:5}},fw),_j=Object.assign({},{hashGenesisBlock:"f5ae71e26c74beacc88382716aced69cddf3dffff24f384e1808905e0188f68f",bech32:"tltc",versions:{bip32:{private:70709117,public:70711009},bip44:1,private:239,public:111,scripthash:58,scripthash2:196}},fw),Sj={main:wj,test:_j},cw={name:"Viacoin",unit:"VIA"},Ej=Object.assign({},{hashGenesisBlock:"4e9b54001f9976049830128ec0331515eaabe35a70970d79971da1539a400ba1",port:5223,protocol:{magic:3418777615},seedsDns:["seed.viacoin.net","viaseeder.barbatos.fr","mainnet.viacoin.net"],versions:{bip32:{private:76066276,public:76067358},bip44:14,private:199,public:71,scripthash:33}},cw),Aj=Object.assign({},{hashGenesisBlock:"770aa712aa08fdcbdecc1c8df1b3e2d4e17a7cf6e63a28b785b32e74c96cb27d",port:25223,protocol:{magic:2465187241},seedsDns:["testnet.viacoin.net","seed-testnet.viacoin.net"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:255,public:127,scripthash:196}},cw),kj={main:Ej,test:Aj},hw={name:"Monacoin",unit:"MONA"},Ij=Object.assign({},{hashGenesisBlock:"ff9f1c0116d19de7c9963845e129f9ed1bfc0b376eb54fd7afa42e0d418c8bb6",port:9401,portRpc:9402,protocol:{magic:3686187259},bech32:"mona",seedsDns:["dnsseed.monacoin.org"],versions:{bip32:{private:76066276,public:76067358},bip44:22,private:176,private2:178,public:50,scripthash:55,scripthash2:5}},hw),Tj=Object.assign({},{hashGenesisBlock:"a2b106ceba3be0c6d097b2a6a6aacf9d638ba8258ae478158f449c321061e0b2",port:19403,portRpc:19402,protocol:{magic:4056470269},bech32:"tmona",seedsDns:["testnet-dnsseed.monacoin.org"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:117,scripthash2:196}},hw),Oj={main:Ij,test:Tj},Bj={name:"NuBits",per1:1e6,unit:"NBT"},Mj=Object.assign({},{hashGenesisBlock:"000003cc2da5a0a289ad0a590c20a8b975219ddc1204efd169e947dd4cbad73f",port:7890,portRpc:14002,protocol:{magic:3652501241},seedsDns:[],versions:{bip32:{private:76066276,public:76067358},bip44:12,private:150,public:25,scripthash:26}},Bj),Pj={main:Mj},xj={name:"Namecoin",unit:"NMC"},Nj=Object.assign({},{hashGenesisBlock:"000000000062b72c5e2ceb45fbc8587e807c155b0da735e6483dfba2f0a9c770",versions:{bip44:7,private:180,public:52,scripthash:5}},xj),Rj={main:Nj,test:null},lw={name:"Peercoin",per1:1e6,unit:"PPC",messagePrefix:`Peercoin Signed Message:
`},Uj=Object.assign({},{hashGenesisBlock:"0000000032fe677166d54963b62a4677d8957e87c508eaa4fd7eb1c880cd27e3",port:9901,portRpc:9902,protocol:{magic:3857311974},seedsDns:["seed.peercoin.net","seed2.peercoin.net","seed.peercoin-library.org","ppcseed.ns.7server.net"],versions:{bip32:{private:76066276,public:76067358},bip44:6,private:183,public:55,scripthash:117}},lw),Cj=Object.assign({},{hashGenesisBlock:"00000001f757bb737f6596503e17cd17b0658ce630cc727c0cca81aec47c9f06",port:9903,portRpc:9904,protocol:{magic:4022399691},seedsDns:["tseed.peercoin.net","tseed2.peercoin.net","tseed.peercoin-library.org"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},lw),Hj={main:Uj,test:Cj},jj={name:"Qtum",unit:"QTUM"},Lj=Object.assign({},{hashGenesisBlock:"000075aef83cf2853580f8ae8ce6f8c3096cfa21d98334d6e3f95e5582ed986c",port:3888,protocol:{magic:3550924785},bech32:"qc",seedsDns:["qtum3.dynu.net"],versions:{bip32:{private:76066276,public:76067358},bip44:2301,private:128,public:58,scripthash:50}},jj),Dj={main:Lj},pw={name:"Ravencoin",unit:"RVN"},Kj=Object.assign({},{hashGenesisBlock:"0000006b444bc2f2ffe627be9d9e7e7a0730000870ef6eb6da46c8eae389df90",port:8767,protocol:{magic:1314275666},bech32:"rc",seedsDns:["seed-raven.bitactivate.com","seed-raven.ravencoin.com","seed-raven.ravencoin.org"],versions:{bip32:{private:76066276,public:76067358},bip44:175,private:128,public:60,scripthash:122}},pw),qj=Object.assign({},{hashGenesisBlock:"000000ecfc5e6324a079542221d00e10362bdc894d56500c414060eea8a3ad5a",port:18770,protocol:{magic:1414420050},bech32:"tr",seedsDns:["seed-testnet-raven.bitactivate.com","seed-testnet-raven.ravencoin.com","seed-testnet-raven.ravencoin.org"],versions:{bip32:{private:70615956,public:70617039},bip44:1,private:239,public:111,scripthash:196}},pw),Fj={main:Kj,test:qj},dw={name:"ReddCoin",unit:"RDD"},Gj=Object.assign({},{hashGenesisBlock:"b868e0d95a3c3c0e0dadc67ee587aaf9dc8acbf99e3b4b3110fad4eb74c1decc",versions:{bip44:4,private:189,public:61,scripthash:5}},dw),Wj=Object.assign({},{hashGenesisBlock:"a12ac9bd4cd26262c53a6277aafc61fe9dfe1e2b05eaa1ca148a5be8b394e35a",versions:{bip44:1,private:239,public:111,scripthash:196}},dw),Vj={main:Gj,test:Wj},F2={name:"Vertcoin",unit:"VTC"},zj=Object.assign({},{hashGenesisBlock:"4d96a915f49d40b1e5c2844d1ee2dccb90013a990ccea12c492d22110489f0c4",port:5889,protocol:{magic:3669344250},bech32:"vtc",seedsDns:["useast1.vtconline.org","vtc.gertjaap.org","seed.vtc.bryangoodson.org","dnsseed.pknight.ca","seed.orderofthetaco.org","seed.alexturek.org","vertcoin.mbl.cash"],versions:{bip32:{private:76066276,public:76067358},bip44:28,private:128,public:71,scripthash:5}},F2),$j=Object.assign({},{hashGenesisBlock:"cee8f24feb7a64c8f07916976aa4855decac79b6741a8ec2e32e2747497ad2c9",port:15889,protocol:{magic:1953654134},bech32:"tvtc",seedsDns:["jlovejoy.mit.edu","gertjaap.ddns.net","fr1.vtconline.org","tvtc.vertcoin.org"],versions:{bip32:{private:70615956,public:70617039},private:239,public:74,scripthash:196}},F2),Xj=Object.assign({},{hashGenesisBlock:"0f9188f13cb7b2c71f2a335e3a4fc328bf5beb436012afca590b1a11466e2206",port:18444,protocol:{magic:3669344250},seedsDns:[],versions:{bip32:{private:70615956,public:70617039},private:239,public:111,scripthash:196}},F2),Yj={main:zj,test:$j,regtest:Xj},bw={name:"x42",isProofOfStake:!0},Zj=Object.assign({},{unit:"x42",hashGenesisBlock:"04ffe583707a96c1c2eb54af33a4b1dc6d9d8e09fea8c9a7b097ba88f0cb64c4",port:52342,portRpc:52343,protocol:{magic:55731778},seedsDns:["mainnet1.x42seed.host","mainnetnode1.x42seed.host","tech.x42.cloud","x42.seed.blockcore.net"],versions:{bip32:{private:76066276,public:76067358},bip44:424242,private:203,public:75,scripthash:125}},bw),Jj=Object.assign({},{unit:"Tx42",hashGenesisBlock:"a92bf124a1e6f237015440d5f1e1999bdef8e321f2d3fdc367eb2f7733b17854",port:62342,portRpc:62343,protocol:{magic:72508994},seedsDns:["testnet1.x42seed.host"],versions:{bip32:{private:76066276,public:76067358},bip44:424242,private:193,public:65,scripthash:196}},bw),Qj={main:Zj,test:Jj},yw={name:"Zcash",unit:"ZEC"},tL=Object.assign({},{hashGenesisBlock:"00040fe8ec8471911baa1db1266ea15dd06b4a8a5c453883c000b031973dce08",port:8233,portRpc:8232,protocol:{magic:1680337188},seedsDns:["dnsseed.z.cash","dnsseed.str4d.xyz","dnsseed.znodes.org"],versions:{bip32:{private:76066276,public:76067358},bip44:133,private:128,public:7352,scripthash:7357}},yw),eL=Object.assign({},{hashGenesisBlock:"0x05a60a92d99d85997cce3b87616c089f6124d7342af37106edc76126334a2c38",port:18233,portRpc:18232,protocol:{magic:3220773626},seedsDns:["dnsseed.testnet.z.cash"],versions:{bip32:{private:70615956,public:70617039},bip44:133,private:239,public:7461,scripthash:7354}},yw),rL={main:tL,test:eL},nL=St.Buffer,gw=[CH,LH,GH,zH,ZH,tj,nj,sj,fj,lj,bj,vj,Sj,kj,Oj,Pj,Rj,Hj,Dj,Fj,Vj,Yj,Qj,rL],nn={};gw.forEach(function(t){var e=t.main.unit.toLowerCase(),r=t.main.name.toLowerCase();t.main.testnet=!1,t.main.toBitcoinJS=zu.bind(t.main),t.main.toBitcore=$u.bind(t.main),nn[e]=t.main,nn[r]=t.main,t.test&&(t.test.testnet=!0,t.test.toBitcoinJS=zu.bind(t.test),t.test.toBitcore=$u.bind(t.test),nn[e+"-test"]=t.test,nn[r+"-test"]=t.test),t.regtest&&(t.regtest.testnet=!0,t.regtest.toBitcoinJS=zu.bind(t.regtest),t.regtest.toBitcore=$u.bind(t.regtest),nn[e+"-regtest"]=t.regtest,nn[r+"-regtest"]=t.regtest),t.simnet&&(t.simnet.testnet=!0,t.simnet.toBitcoinJS=zu.bind(t.simnet),t.simnet.toBitcore=$u.bind(t.simnet),nn[e+"-simnet"]=t.simnet,nn[r+"-simnet"]=t.simnet)});function mw(t){var e=t.toLowerCase();return e in nn?nn[e]:null}gw.forEach(function(t){mw[t.main.name.toLowerCase()]=t});function zu(){return Object.assign({},this,{messagePrefix:this.messagePrefix||""+this.name+` Signed Message:
`,bech32:this.bech32,bip32:{public:(this.versions.bip32||{}).public,private:(this.versions.bip32||{}).private},pubKeyHash:this.versions.public,scriptHash:this.versions.scripthash,wif:this.versions.private,dustThreshold:null})}function $u(){var t=nL.allocUnsafe(4);return t.writeUInt32BE(this.protocol?this.protocol.magic:0,0),t=t.readUInt32LE(0),Object.assign({},this,{name:this.testnet?"testnet":"livenet",alias:this.testnet?"testnet":"mainnet",pubkeyhash:this.versions.public,privatekey:this.versions.private,scripthash:this.versions.scripthash,xpubkey:(this.versions.bip32||{}).public,xprivkey:(this.versions.bip32||{}).private,networkMagic:t,port:this.port,dnsSeeds:this.seedsDns||[]})}var iL=mw;const Xu=ac(iL),oL=typeof z.process<"u"&&z.process.pid?z.process.pid.toString(36):"",qn=t=>{switch(t){case Yt.Bitcoin:return MU.bitcoin;case Yt.BitcoinCash:return Xu.bitcoincash.main.toBitcoinJS();case Yt.Dogecoin:const e={private:70615956,public:70617039},r=Xu.dogecoin.test;return r.versions.bip32=e,Xu.dogecoin.main.toBitcoinJS();case Yt.Litecoin:return Xu.litecoin.main.toBitcoinJS();default:throw new Error("Invalid chain")}},sL=t=>({[bo.Average]:t,[bo.Fast]:t*1.5,[bo.Fastest]:t*2});let Bp=0;const aL=()=>{const t=Date.now(),e=Bp||t;return Bp=e,t>Bp?t:e+1},uL=()=>oL+aL().toString(36),Hm=async({phrase:t,wif:e,derivationPath:r,chain:n})=>{if(!e&&!t)throw new Error("Either phrase or wif must be provided");const o=await Promise.resolve().then(()=>Xv),i=C2.ECPairFactory(o),s=qn(n);if(e)return i.fromWIF(e,s);const a=Q4(t),f=ro.fromMasterSeed(a,s).derive(r);if(!f.privateKey)throw new Error("Could not get private key from phrase");return i.fromPrivateKey(z.Buffer.from(f.privateKey),{network:s})},vw=({address:t,chain:e})=>{try{return IU.toOutputScript(t,qn(e)),!0}catch{return!1}},fL=({keys:t,chain:e})=>{if(!t)throw new Error("Keys must be provided");const r=Yt.Dogecoin===e?Am.p2pkh:Am.p2wpkh,{address:n}=r({pubkey:t.publicKey,network:qn(e)});if(!n)throw new Error("Address not defined");return n},cL=async({signTransaction:t,from:e,memo:r,recipient:n,chain:o,apiClient:i,feeOptionKey:s,broadcastTx:a,feeRate:f,assetValue:u})=>{if(!e)throw new Error("From address must be provided");if(!n)throw new Error("Recipient address must be provided");const c=f||(await yh(i))[s||bo.Fast],{psbt:l}=await _w({recipient:n,feeRate:c,sender:e,fetchTxHex:o===Yt.Dogecoin,chain:o,apiClient:i,assetValue:u,memo:r}),p=await t(l);return p.finalizeAllInputs(),a(p.extractTransaction().toHex())},hL=async({address:t,chain:e,apiClient:r})=>{const n=await r.getBalance(t)/10**a7[e];return[await Yp.fromIdentifier(`${e}.${e}`,n)]},yh=async t=>sL(await t.getSuggestedTxFee()),ww=async({assetValue:t,recipient:e,memo:r,sender:n,fetchTxHex:o=!1,apiClient:i,chain:s})=>{const a=await i.scanUTXOs({address:n,fetchTxHex:o});if(!vw({address:e,chain:s,apiClient:i}))throw new Error("Invalid address");return{inputs:a,outputs:[{address:e,value:Number(t.bigIntValue)},...r?[{address:"",script:gu(r),value:0}]:[]]}},_w=async({assetValue:t,recipient:e,memo:r,feeRate:n,sender:o,fetchTxHex:i=!1,apiClient:s,chain:a})=>{const f=r?gu(r):null,u=await ww({assetValue:t,recipient:e,memo:r,sender:o,fetchTxHex:i,apiClient:s,chain:a}),{inputs:c,outputs:l}=yu({...u,feeRate:n,chain:a});if(!c||!l)throw new Error("Insufficient Balance for transaction");const p=new U4({network:qn(a)});return a===Yt.Dogecoin&&p.setMaximumFeeRate(65e7),c.forEach(y=>p.addInput({hash:y.hash,index:y.index,...!!y.witnessUtxo&&a!==Yt.Dogecoin&&{witnessUtxo:y.witnessUtxo},...a===Yt.Dogecoin&&{nonWitnessUtxo:y.txHex?z.Buffer.from(y.txHex,"hex"):void 0}})),l.forEach(y=>{y.address||(y.address=o),y.script?f&&p.addOutput({script:f,value:0}):p.addOutput(y)}),{psbt:p,utxos:u.inputs,inputs:c}},jm=async({assetValue:t,apiClient:e,chain:r,feeOptionKey:n=bo.Fast,feeRate:o,fetchTxHex:i=!1,memo:s,recipient:a,sender:f})=>{const u=await ww({assetValue:t,recipient:a,memo:s,sender:f,fetchTxHex:i,apiClient:e,chain:r}),c=o?Math.floor(o):(await yh(e))[n];return yu({...u,feeRate:c,chain:r})},lL=async({from:t,memo:e,feeRate:r,feeOptionKey:n=bo.Fast,recipients:o=1,chain:i,apiClient:s})=>{const a=await s.getAddressData(t),f=r?Math.ceil(r):(await yh(s))[n],u=a.utxo.map(y=>({...y,type:H2.P2PKH,hash:""})).filter(y=>y.value>Math.max(ew(i),Ca(y)*f)),c=Yp.fromChainOrSignature(i,u.reduce((y,v)=>y+=v.value,0));let l=typeof o=="number"?Array.from({length:o},()=>({address:t,value:0})):o;if(e){const y=gu(e);l.push({address:t,script:y,value:0})}const p=L2({inputs:u,outputs:l,feeRate:f})*f;return new Yp({identifier:c.toString(),value:c.sub(p),decimal:c.decimal})},gh=t=>({accumulative:yu,apiClient:t.apiClient,broadcastTx:t.broadcastTx,calculateTxSize:L2,buildTx:e=>_w({...e,...t}),getAddressFromKeys:e=>fL({keys:e,...t}),validateAddress:e=>vw({address:e,...t}),createKeysForPath:e=>Hm({...e,...t}),getPrivateKeyFromMnemonic:async({phrase:e,derivationPath:r})=>(await Hm({phrase:e,derivationPath:r,...t})).toWIF(),getBalance:async(e,r)=>hL({address:e,...t}),getFeeRates:()=>yh(t.apiClient),transfer:e=>cL({...e,...t}),getInputsOutputsFee:e=>jm({...e,...t}),getFeeForTransaction:async e=>new s7({value:(await jm({...e,...t})).fee,decimal:8}),estimateMaxSendableAmount:async e=>lL({...e,...t})}),pL=0,dL=0,bL=76,yL=77,gL=78,mL=79,vL=80,wL=81,_L=81,SL=82,EL=83,AL=84,kL=85,IL=86,TL=87,OL=88,BL=89,ML=90,PL=91,xL=92,NL=93,RL=94,UL=95,CL=96,HL=97,jL=98,LL=99,DL=100,KL=101,qL=102,FL=103,GL=104,WL=105,VL=106,zL=107,$L=108,XL=109,YL=110,ZL=111,JL=112,QL=113,tD=114,eD=115,rD=116,nD=117,iD=118,oD=119,sD=120,aD=121,uD=122,fD=123,cD=124,hD=125,lD=126,pD=127,dD=128,bD=129,yD=130,gD=131,mD=132,vD=133,wD=134,_D=135,SD=136,ED=137,AD=138,kD=139,ID=140,TD=141,OD=142,BD=143,MD=144,PD=145,xD=146,ND=147,RD=148,UD=149,CD=150,HD=151,jD=152,LD=153,DD=154,KD=155,qD=156,FD=157,GD=158,WD=159,VD=160,zD=161,$D=162,XD=163,YD=164,ZD=165,JD=166,QD=167,tK=168,eK=169,rK=170,nK=171,iK=172,oK=173,sK=174,aK=175,uK=176,fK=177,cK=177,hK=178,lK=178,pK=179,dK=180,bK=181,yK=182,gK=183,mK=184,vK=185,wK=186,_K=187,SK=188,EK=253,AK=254,kK=255,dr={OP_FALSE:pL,OP_0:dL,OP_PUSHDATA1:bL,OP_PUSHDATA2:yL,OP_PUSHDATA4:gL,OP_1NEGATE:mL,OP_RESERVED:vL,OP_TRUE:wL,OP_1:_L,OP_2:SL,OP_3:EL,OP_4:AL,OP_5:kL,OP_6:IL,OP_7:TL,OP_8:OL,OP_9:BL,OP_10:ML,OP_11:PL,OP_12:xL,OP_13:NL,OP_14:RL,OP_15:UL,OP_16:CL,OP_NOP:HL,OP_VER:jL,OP_IF:LL,OP_NOTIF:DL,OP_VERIF:KL,OP_VERNOTIF:qL,OP_ELSE:FL,OP_ENDIF:GL,OP_VERIFY:WL,OP_RETURN:VL,OP_TOALTSTACK:zL,OP_FROMALTSTACK:$L,OP_2DROP:XL,OP_2DUP:YL,OP_3DUP:ZL,OP_2OVER:JL,OP_2ROT:QL,OP_2SWAP:tD,OP_IFDUP:eD,OP_DEPTH:rD,OP_DROP:nD,OP_DUP:iD,OP_NIP:oD,OP_OVER:sD,OP_PICK:aD,OP_ROLL:uD,OP_ROT:fD,OP_SWAP:cD,OP_TUCK:hD,OP_CAT:lD,OP_SPLIT:pD,OP_NUM2BIN:dD,OP_BIN2NUM:bD,OP_SIZE:yD,OP_INVERT:gD,OP_AND:mD,OP_OR:vD,OP_XOR:wD,OP_EQUAL:_D,OP_EQUALVERIFY:SD,OP_RESERVED1:ED,OP_RESERVED2:AD,OP_1ADD:kD,OP_1SUB:ID,OP_2MUL:TD,OP_2DIV:OD,OP_NEGATE:BD,OP_ABS:MD,OP_NOT:PD,OP_0NOTEQUAL:xD,OP_ADD:ND,OP_SUB:RD,OP_MUL:UD,OP_DIV:CD,OP_MOD:HD,OP_LSHIFT:jD,OP_RSHIFT:LD,OP_BOOLAND:DD,OP_BOOLOR:KD,OP_NUMEQUAL:qD,OP_NUMEQUALVERIFY:FD,OP_NUMNOTEQUAL:GD,OP_LESSTHAN:WD,OP_GREATERTHAN:VD,OP_LESSTHANOREQUAL:zD,OP_GREATERTHANOREQUAL:$D,OP_MIN:XD,OP_MAX:YD,OP_WITHIN:ZD,OP_RIPEMD160:JD,OP_SHA1:QD,OP_SHA256:tK,OP_HASH160:eK,OP_HASH256:rK,OP_CODESEPARATOR:nK,OP_CHECKSIG:iK,OP_CHECKSIGVERIFY:oK,OP_CHECKMULTISIG:sK,OP_CHECKMULTISIGVERIFY:aK,OP_NOP1:uK,OP_NOP2:fK,OP_CHECKLOCKTIMEVERIFY:cK,OP_NOP3:hK,OP_CHECKSEQUENCEVERIFY:lK,OP_NOP4:pK,OP_NOP5:dK,OP_NOP6:bK,OP_NOP7:yK,OP_NOP8:gK,OP_NOP9:mK,OP_NOP10:vK,OP_CHECKDATASIG:wK,OP_CHECKDATASIGVERIFY:_K,OP_REVERSEBYTES:SK,OP_PUBKEYHASH:EK,OP_PUBKEY:AK,OP_INVALIDOPCODE:kK};var li=dr;function Sw(t){return t<li.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}function IK(t,e,r){var n=Sw(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(li.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(li.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(li.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}function TK(t,e){var r=t.readUInt8(e),n,o;if(r<li.OP_PUSHDATA1)n=r,o=1;else if(r===li.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),o=2}else if(r===li.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),o=3}else{if(e+5>t.length)return null;if(r!==li.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),o=5}return{opcode:r,number:n,size:o}}var Ew={encodingLength:Sw,encode:IK,decode:TK},Oe=kt,OK=Math.pow(2,31)-1;function BK(t){return Oe.UInt32(t)&&t<=OK}function Aw(t){return Oe.String(t)&&t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}Aw.toJSON=function(){return"BIP32 derivation path"};var MK=21*1e14;function PK(t){return Oe.UInt53(t)&&t<=MK}var Kd=Oe.quacksLike("BigInteger"),xK=Oe.quacksLike("Point"),NK=Oe.compile({r:Kd,s:Kd}),RK=Oe.compile({messagePrefix:Oe.oneOf(Oe.Buffer,Oe.String),bip32:{public:Oe.UInt32,private:Oe.UInt32},pubKeyHash:Oe.UInt8,scriptHash:Oe.UInt8,wif:Oe.UInt8}),kw={BigInt:Kd,BIP32Path:Aw,Buffer256bit:Oe.BufferN(32),ECPoint:xK,ECSignature:NK,Hash160bit:Oe.BufferN(20),Hash256bit:Oe.BufferN(32),Network:RK,Satoshi:PK,UInt31:BK};for(var Lm in Oe)kw[Lm]=Oe[Lm];var xe=kw,UK=St.Buffer;function CK(t,e,r){e=e||4,r=r===void 0?!0:r;var n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){var o=t.readUInt32LE(0),i=t.readUInt8(4);return i&128?-((i&-129)*4294967296+o):i*4294967296+o}for(var s=0,a=0;a<n;++a)s|=t[a]<<8*a;return t[n-1]&128?-(s&~(128<<8*(n-1))):s}function HK(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function jK(t){for(var e=Math.abs(t),r=HK(e),n=UK.allocUnsafe(r),o=t<0,i=0;i<r;++i)n.writeUInt8(e&255,i),e>>=8;return n[r-1]&128?n.writeUInt8(o?128:0,r-1):o&&(n[r-1]|=128),n}var Iw={decode:CK,encode:jK},Dm=dr,Tw={};for(var Km in Dm){var LK=Dm[Km];Tw[LK]=Km}var DK=Tw,lr=St.Buffer,KK=Qc,za=Ew,mh=kt,Mo=xe,qK=Iw,Cr=dr,FK=DK,Ow=Cr.OP_RESERVED;function GK(t){return Mo.Number(t)&&(t===Cr.OP_0||t>=Cr.OP_1&&t<=Cr.OP_16||t===Cr.OP_1NEGATE)}function WK(t){return Mo.Buffer(t)||GK(t)}function Bw(t){return Mo.Array(t)&&t.every(WK)}function Zf(t){if(t.length===0)return Cr.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return Ow+t[0];if(t[0]===129)return Cr.OP_1NEGATE}}function Mw(t){if(lr.isBuffer(t))return t;mh(Mo.Array,t);var e=t.reduce(function(o,i){return lr.isBuffer(i)?i.length===1&&Zf(i)!==void 0?o+1:o+za.encodingLength(i.length)+i.length:o+1},0),r=lr.allocUnsafe(e),n=0;if(t.forEach(function(o){if(lr.isBuffer(o)){var i=Zf(o);if(i!==void 0){r.writeUInt8(i,n),n+=1;return}n+=za.encode(r,o.length,n),o.copy(r,n),n+=o.length}else r.writeUInt8(o,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}function VK(t){if(lr.isBuffer(t))return t;var e=t.reduce(function(o,i){return lr.isBuffer(i)?o+za.encodingLength(i.length)+i.length:o+1},0),r=lr.allocUnsafe(e),n=0;if(t.forEach(function(o,i){lr.isBuffer(o)?(n+=za.encode(r,o.length,n),o.copy(r,n),n+=o.length):(r.writeUInt8(o,n),n+=1)}),n!==r.length)throw new Error("Could not decode chunks");return r}function G2(t){if(Mo.Array(t))return t;mh(Mo.Buffer,t);for(var e=[],r=0;r<t.length;){var n=t[r];if(n>Cr.OP_0&&n<=Cr.OP_PUSHDATA4){var o=za.decode(t,r);if(o===null)return[];r+=o.size;var i=t.slice(r,r+o.number);r+=o.number;var s=Zf(i);s!==void 0?e.push(s):e.push(i)}else e.push(n),r+=1}return e}function zK(t){return lr.isBuffer(t)&&(t=G2(t)),t.map(function(e){if(lr.isBuffer(e)){var r=Zf(e);if(r===void 0)return e.toString("hex");e=r}return FK[e]}).join(" ")}function $K(t){return mh(Mo.String,t),Mw(t.split(" ").map(function(e){return Cr[e]!==void 0?Cr[e]:lr.from(e,"hex")}))}function XK(t){return t=G2(t),mh(Bw,t),t.map(function(e){return lr.isBuffer(e)?e:e===Cr.OP_0?lr.allocUnsafe(0):qK.encode(e-Ow)})}function YK(t){if(!lr.isBuffer(t)||t.length<33)return!1;switch(t[0]){case 2:case 3:return t.length===33;case 4:return t.length===65}return!1}function Pw(t){var e=t&-193;return e>0&&e<4}function ZK(t){return!lr.isBuffer(t)||!Pw(t[t.length-1])?!1:t.length===65?!0:KK.check(t.slice(0,-1))}var Ne={compile:Mw,compile2:VK,decompile:G2,fromASM:$K,toASM:zK,toStack:XK,number:Iw,isCanonicalPubKey:YK,isCanonicalSignature:ZK,isPushOnly:Bw,isDefinedHashType:Pw},$a=Ne,qd=xe,xw=kt,W2=dr,Xa=W2.OP_RESERVED;function V2(t,e){var r=$a.decompile(t);if(r.length<4||r[r.length-1]!==W2.OP_CHECKMULTISIG||!qd.Number(r[0])||!qd.Number(r[r.length-2]))return!1;var n=r[0]-Xa,o=r[r.length-2]-Xa;if(n<=0||o>16||n>o||o!==r.length-3)return!1;if(e)return!0;var i=r.slice(1,-2);return i.every($a.isCanonicalPubKey)}V2.toJSON=function(){return"multi-sig output"};function JK(t,e){xw({m:qd.Number,pubKeys:[$a.isCanonicalPubKey]},{m:t,pubKeys:e});var r=e.length;if(r<t)throw new TypeError("Not enough pubKeys provided");return $a.compile([].concat(Xa+t,e,Xa+r,W2.OP_CHECKMULTISIG))}function QK(t,e){var r=$a.decompile(t);return xw(V2,r,e),{m:r[0]-Xa,pubKeys:r.slice(1,-2)}}var Nw={check:V2,decode:QK,encode:JK},tq=St.Buffer,Ya=Ne,eq=Nw,ff=kt,z2=dr;function Rw(t){return t===z2.OP_0||Ya.isCanonicalSignature(t)}function $2(t,e){var r=Ya.decompile(t);return r.length<2||r[0]!==z2.OP_0?!1:e?r.slice(1).every(Rw):r.slice(1).every(Ya.isCanonicalSignature)}$2.toJSON=function(){return"multisig input"};var qm=tq.allocUnsafe(0);function Uw(t,e){if(ff([Rw],t),e){var r=eq.decode(e);if(t.length<r.m)throw new TypeError("Not enough signatures provided");if(t.length>r.pubKeys.length)throw new TypeError("Too many signatures provided")}return[].concat(qm,t.map(function(n){return n===z2.OP_0?qm:n}))}function rq(t,e){return Ya.compile(Uw(t,e))}function Cw(t,e){return ff(ff.Array,t),ff($2,t,e),t.slice(1)}function nq(t,e){var r=Ya.decompile(t);return Cw(r,e)}var iq={check:$2,decode:nq,decodeStack:Cw,encode:rq,encodeStack:Uw},X2={input:iq,output:Nw},Hw=Ne,oq=xe,jw=kt,Lw=dr;function Y2(t){var e=Hw.compile(t);return e.length>1&&e[0]===Lw.OP_RETURN}Y2.toJSON=function(){return"null data output"};function sq(t){return jw(oq.Buffer,t),Hw.compile([Lw.OP_RETURN,t])}function aq(t){return jw(Y2,t),t.slice(2)}var uq={output:{check:Y2,decode:aq,encode:sq}},Za=Ne,cf=kt;function Z2(t){var e=Za.decompile(t);return e.length===1&&Za.isCanonicalSignature(e[0])}Z2.toJSON=function(){return"pubKey input"};function Dw(t){return cf(Za.isCanonicalSignature,t),[t]}function fq(t){return Za.compile(Dw(t))}function Kw(t){return cf(cf.Array,t),cf(Z2,t),t[0]}function cq(t){var e=Za.decompile(t);return Kw(e)}var hq={check:Z2,decode:cq,decodeStack:Kw,encode:fq,encodeStack:Dw},Ja=Ne,qw=kt,Fw=dr;function J2(t){var e=Ja.decompile(t);return e.length===2&&Ja.isCanonicalPubKey(e[0])&&e[1]===Fw.OP_CHECKSIG}J2.toJSON=function(){return"pubKey output"};function lq(t){return qw(Ja.isCanonicalPubKey,t),Ja.compile([t,Fw.OP_CHECKSIG])}function pq(t){var e=Ja.decompile(t);return qw(J2,e),e[0]}var dq={check:J2,decode:pq,encode:lq},Q2={input:hq,output:dq},Ao=Ne,hf=kt;function tb(t){var e=Ao.decompile(t);return e.length===2&&Ao.isCanonicalSignature(e[0])&&Ao.isCanonicalPubKey(e[1])}tb.toJSON=function(){return"pubKeyHash input"};function Gw(t,e){return hf({signature:Ao.isCanonicalSignature,pubKey:Ao.isCanonicalPubKey},{signature:t,pubKey:e}),[t,e]}function bq(t,e){return Ao.compile(Gw(t,e))}function Ww(t){return hf(hf.Array,t),hf(tb,t),{signature:t[0],pubKey:t[1]}}function yq(t){var e=Ao.decompile(t);return Ww(e)}var gq={check:tb,decode:yq,decodeStack:Ww,encode:bq,encodeStack:Gw},Vw=Ne,mq=xe,zw=kt,pi=dr;function eb(t){var e=Vw.compile(t);return e.length===25&&e[0]===pi.OP_DUP&&e[1]===pi.OP_HASH160&&e[2]===20&&e[23]===pi.OP_EQUALVERIFY&&e[24]===pi.OP_CHECKSIG}eb.toJSON=function(){return"pubKeyHash output"};function vq(t){return zw(mq.Hash160bit,t),Vw.compile([pi.OP_DUP,pi.OP_HASH160,t,pi.OP_EQUALVERIFY,pi.OP_CHECKSIG])}function wq(t){return zw(eb,t),t.slice(3,23)}var _q={check:eb,decode:wq,encode:vq},rb={input:gq,output:_q},$w=Ne,Sq=xe,Xw=kt,Yw=dr;function nb(t){var e=$w.compile(t);return e.length===22&&e[0]===Yw.OP_0&&e[1]===20}nb.toJSON=function(){return"Witness pubKeyHash output"};function Eq(t){return Xw(Sq.Hash160bit,t),$w.compile([Yw.OP_0,t])}function Aq(t){return Xw(nb,t),t.slice(2)}var Zw={check:nb,decode:Aq,encode:Eq},Jw=Ne,kq=xe,Qw=kt,t5=dr;function ib(t){var e=Jw.compile(t);return e.length===34&&e[0]===t5.OP_0&&e[1]===32}ib.toJSON=function(){return"Witness scriptHash output"};function Iq(t){return Qw(kq.Hash256bit,t),Jw.compile([t5.OP_0,t])}function Tq(t){return Qw(ib,t),t.slice(2)}var e5={check:ib,decode:Tq,encode:Iq},Oq=St.Buffer,un=Ne,Mp=kt,Fm=X2,Gm=Q2,Wm=rb,Bq=Zw,Mq=e5;function ob(t,e){var r=un.decompile(t);if(r.length<1)return!1;var n=r[r.length-1];if(!Oq.isBuffer(n))return!1;var o=un.decompile(un.compile(r.slice(0,-1))),i=un.decompile(n);return i.length===0||!un.isPushOnly(o)?!1:r.length===1?Mq.check(i)||Bq.check(i):!!(Wm.input.check(o)&&Wm.output.check(i)||Fm.input.check(o,e)&&Fm.output.check(i)||Gm.input.check(o)&&Gm.output.check(i))}ob.toJSON=function(){return"scriptHash input"};function r5(t,e){var r=un.compile(e);return[].concat(t,r)}function Pq(t,e){var r=un.decompile(t);return un.compile(r5(r,e))}function n5(t){return Mp(Mp.Array,t),Mp(ob,t),{redeemScriptStack:t.slice(0,-1),redeemScript:t[t.length-1]}}function xq(t){var e=un.decompile(t),r=n5(e);return r.redeemScriptSig=un.compile(r.redeemScriptStack),delete r.redeemScriptStack,r}var Nq={check:ob,decode:xq,decodeStack:n5,encode:Pq,encodeStack:r5},i5=Ne,Rq=xe,o5=kt,Jf=dr;function sb(t){var e=i5.compile(t);return e.length===23&&e[0]===Jf.OP_HASH160&&e[1]===20&&e[22]===Jf.OP_EQUAL}sb.toJSON=function(){return"scriptHash output"};function Uq(t){return o5(Rq.Hash160bit,t),i5.compile([Jf.OP_HASH160,t,Jf.OP_EQUAL])}function Cq(t){return o5(sb,t),t.slice(2,22)}var Hq={check:sb,decode:Cq,encode:Uq},jq={input:Nq,output:Hq},Qf=Ne,lf=kt;function s5(t){return Qf.isCanonicalPubKey(t)&&t.length===33}function ab(t){var e=Qf.decompile(t);return e.length===2&&Qf.isCanonicalSignature(e[0])&&s5(e[1])}ab.toJSON=function(){return"witnessPubKeyHash input"};function Lq(t,e){return lf({signature:Qf.isCanonicalSignature,pubKey:s5},{signature:t,pubKey:e}),[t,e]}function Dq(t){return lf(lf.Array,t),lf(ab,t),{signature:t[0],pubKey:t[1]}}var Kq={check:ab,decodeStack:Dq,encodeStack:Lq},qq={input:Kq,output:Zw},Vm=Ne,Fd=xe,Ha=kt,zm=X2,$m=Q2,Xm=rb;function ub(t,e){if(Ha(Fd.Array,t),t.length<1)return!1;var r=t[t.length-1];if(!z.Buffer.isBuffer(r))return!1;var n=Vm.decompile(r);if(n.length===0)return!1;var o=Vm.compile(t.slice(0,-1));return!!(Xm.input.check(o)&&Xm.output.check(n)||zm.input.check(o,e)&&zm.output.check(n)||$m.input.check(o)&&$m.output.check(n))}ub.toJSON=function(){return"witnessScriptHash input"};function Fq(t,e){return Ha({witnessData:[Fd.Buffer],witnessScript:Fd.Buffer},{witnessData:t,witnessScript:e}),[].concat(t,e)}function Gq(t){return Ha(Ha.Array,t),Ha(ub,t),{witnessData:t.slice(0,-1),witnessScript:t[t.length-1]}}var Wq={check:ub,decodeStack:Gq,encodeStack:Fq},Vq={input:Wq,output:e5},a5=St.Buffer,fb=Ne,zq=xe,u5=kt,f5=dr,c5=a5.from("aa21a9ed","hex");function cb(t){var e=fb.compile(t);return e.length>37&&e[0]===f5.OP_RETURN&&e[1]===36&&e.slice(2,6).equals(c5)}cb.toJSON=function(){return"Witness commitment output"};function $q(t){u5(zq.Hash256bit,t);var e=a5.allocUnsafe(36);return c5.copy(e,0),t.copy(e,4),fb.compile([f5.OP_RETURN,e])}function Xq(t){return u5(cb,t),fb.decompile(t)[1].slice(4,36)}var Yq={check:cb,decode:Xq,encode:$q},Zq={output:Yq},hb=Ne.decompile,lb=X2,h5=uq,pb=Q2,db=rb,bb=jq,yb=qq,gb=Vq,l5=Zq,je={MULTISIG:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};function Jq(t){if(yb.output.check(t))return je.P2WPKH;if(gb.output.check(t))return je.P2WSH;if(db.output.check(t))return je.P2PKH;if(bb.output.check(t))return je.P2SH;var e=hb(t);return lb.output.check(e)?je.MULTISIG:pb.output.check(e)?je.P2PK:l5.output.check(e)?je.WITNESS_COMMITMENT:h5.output.check(e)?je.NULLDATA:je.NONSTANDARD}function Qq(t,e){var r=hb(t);return db.input.check(r)?je.P2PKH:bb.input.check(r,e)?je.P2SH:lb.input.check(r,e)?je.MULTISIG:pb.input.check(r)?je.P2PK:je.NONSTANDARD}function tF(t,e){var r=hb(t);return yb.input.check(r)?je.P2WPKH:gb.input.check(r,e)?je.P2WSH:je.NONSTANDARD}var mb={classifyInput:Qq,classifyOutput:Jq,classifyWitness:tF,multisig:lb,nullData:h5,pubKey:pb,pubKeyHash:db,scriptHash:bb,witnessPubKeyHash:yb,witnessScriptHash:gb,witnessCommitment:l5,types:je},Pp=Ew,Fs=ea;function p5(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function eF(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,p5(n+r,9007199254740991),n+r}function rF(t,e,r){return p5(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}function nF(t,e){var r=Fs.decode(t,e);return{number:r,size:Fs.decode.bytes}}function iF(t,e,r){return Fs.encode(e,t,r),Fs.encode.bytes}var d5={pushDataSize:Pp.encodingLength,readPushDataInt:Pp.decode,readUInt64LE:eF,readVarInt:nF,varIntBuffer:Fs.encode,varIntSize:Fs.encodingLength,writePushDataInt:Pp.encode,writeUInt64LE:rF,writeVarInt:iF},vb=$n;function b5(t){return vb("ripemd160").update(t).digest()}function oF(t){return vb("sha1").update(t).digest()}function tc(t){return vb("sha256").update(t).digest()}function sF(t){return b5(tc(t))}function aF(t){return tc(tc(t))}var Xo={hash160:sF,hash256:aF,ripemd160:b5,sha1:oF,sha256:tc},Ur=St.Buffer,no=Xo,Ym=Ne,wb=d5,uF=dr,Bi=kt,Wt=xe,yn=ea;function Os(t){var e=t.length;return yn.encodingLength(e)+e}function fF(t){var e=t.length;return yn.encodingLength(e)+t.reduce(function(r,n){return r+Os(n)},0)}function Et(){this.version=2,this.locktime=0,this.ins=[],this.outs=[]}Et.DEFAULT_SEQUENCE=4294967295;Et.SIGHASH_ALL=1;Et.SIGHASH_NONE=2;Et.SIGHASH_SINGLE=3;Et.SIGHASH_ANYONECANPAY=128;Et.SIGHASH_BITCOINCASHBIP143=64;Et.ADVANCED_TRANSACTION_MARKER=0;Et.ADVANCED_TRANSACTION_FLAG=1;var _b=Ur.allocUnsafe(0),y5=[],xp=Ur.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),Zm=Ur.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),cF=Ur.from("ffffffffffffffff","hex"),hF={script:_b,valueBuffer:cF};Et.fromBuffer=function(t,e){var r=0;function n(P){return r+=P,t.slice(r-P,r)}function o(){var P=t.readUInt32LE(r);return r+=4,P}function i(){var P=t.readInt32LE(r);return r+=4,P}function s(){var P=wb.readUInt64LE(t,r);return r+=8,P}function a(){var P=yn.decode(t,r);return r+=yn.decode.bytes,P}function f(){return n(a())}function u(){for(var P=a(),C=[],D=0;D<P;D++)C.push(f());return C}var c=new Et;c.version=i();var l=t.readUInt8(r),p=t.readUInt8(r+1),y=!1;l===Et.ADVANCED_TRANSACTION_MARKER&&p===Et.ADVANCED_TRANSACTION_FLAG&&(r+=2,y=!0);for(var v=a(),A=0;A<v;++A)c.ins.push({hash:n(32),index:o(),script:f(),sequence:o(),witness:y5});var T=a();for(A=0;A<T;++A)c.outs.push({value:s(),script:f()});if(y){for(A=0;A<v;++A)c.ins[A].witness=u();if(!c.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(c.locktime=o(),e)return c;if(r!==t.length)throw new Error("Transaction has unexpected data");return c};Et.fromHex=function(t){return Et.fromBuffer(Ur.from(t,"hex"))};Et.isCoinbaseHash=function(t){Bi(Wt.Hash256bit,t);for(var e=0;e<32;++e)if(t[e]!==0)return!1;return!0};Et.prototype.isCoinbase=function(){return this.ins.length===1&&Et.isCoinbaseHash(this.ins[0].hash)};Et.prototype.addInput=function(t,e,r,n){return Bi(Wt.tuple(Wt.Hash256bit,Wt.UInt32,Wt.maybe(Wt.UInt32),Wt.maybe(Wt.Buffer)),arguments),Wt.Null(r)&&(r=Et.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:n||_b,sequence:r,witness:y5})-1};Et.prototype.addOutput=function(t,e){return Bi(Wt.tuple(Wt.Buffer,Wt.Satoshi),arguments),this.outs.push({script:t,value:e})-1};Et.prototype.hasWitnesses=function(){return this.ins.some(function(t){return t.witness.length!==0})};Et.prototype.weight=function(){var t=this.__byteLength(!1),e=this.__byteLength(!0);return t*3+e};Et.prototype.virtualSize=function(){return Math.ceil(this.weight()/4)};Et.prototype.byteLength=function(){return this.__byteLength(!0)};Et.prototype.__byteLength=function(t){var e=t&&this.hasWitnesses();return(e?10:8)+yn.encodingLength(this.ins.length)+yn.encodingLength(this.outs.length)+this.ins.reduce(function(r,n){return r+40+Os(n.script)},0)+this.outs.reduce(function(r,n){return r+8+Os(n.script)},0)+(e?this.ins.reduce(function(r,n){return r+fF(n.witness)},0):0)};Et.prototype.clone=function(){var t=new Et;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(function(e){return{hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}}),t.outs=this.outs.map(function(e){return{script:e.script,value:e.value}}),t};Et.prototype.hashForSignature=function(t,e,r){if(Bi(Wt.tuple(Wt.UInt32,Wt.Buffer,Wt.Number),arguments),t>=this.ins.length)return Zm;var n=Ym.compile(Ym.decompile(e).filter(function(a){return a!==uF.OP_CODESEPARATOR})),o=this.clone();if((r&31)===Et.SIGHASH_NONE)o.outs=[],o.ins.forEach(function(a,f){f!==t&&(a.sequence=0)});else if((r&31)===Et.SIGHASH_SINGLE){if(t>=this.outs.length)return Zm;o.outs.length=t+1;for(var i=0;i<t;i++)o.outs[i]=hF;o.ins.forEach(function(a,f){f!==t&&(a.sequence=0)})}r&Et.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[t]],o.ins[0].script=n):(o.ins.forEach(function(a){a.script=_b}),o.ins[t].script=n);var s=Ur.allocUnsafe(o.__byteLength(!1)+4);return s.writeInt32LE(r,s.length-4),o.__toBuffer(s,0,!1),no.hash256(s)};Et.prototype.hashForWitnessV0=function(t,e,r,n){Bi(Wt.tuple(Wt.UInt32,Wt.Buffer,Wt.Satoshi,Wt.UInt32),arguments);var o,i;function s(P){i+=P.copy(o,i)}function a(P){i=o.writeUInt32LE(P,i)}function f(P){i=wb.writeUInt64LE(o,P,i)}function u(P){yn.encode(P,o,i),i+=yn.encode.bytes}function c(P){u(P.length),s(P)}var l=xp,p=xp,y=xp;if(n&Et.SIGHASH_ANYONECANPAY||(o=Ur.allocUnsafe(36*this.ins.length),i=0,this.ins.forEach(function(P){s(P.hash),a(P.index)}),p=no.hash256(o)),!(n&Et.SIGHASH_ANYONECANPAY)&&(n&31)!==Et.SIGHASH_SINGLE&&(n&31)!==Et.SIGHASH_NONE&&(o=Ur.allocUnsafe(4*this.ins.length),i=0,this.ins.forEach(function(P){a(P.sequence)}),y=no.hash256(o)),(n&31)!==Et.SIGHASH_SINGLE&&(n&31)!==Et.SIGHASH_NONE){var v=this.outs.reduce(function(P,C){return P+8+Os(C.script)},0);o=Ur.allocUnsafe(v),i=0,this.outs.forEach(function(P){f(P.value),c(P.script)}),l=no.hash256(o)}else if((n&31)===Et.SIGHASH_SINGLE&&t<this.outs.length){var A=this.outs[t];o=Ur.allocUnsafe(8+Os(A.script)),i=0,f(A.value),c(A.script),l=no.hash256(o)}o=Ur.allocUnsafe(156+Os(e)),i=0;var T=this.ins[t];return a(this.version),s(p),s(y),s(T.hash),a(T.index),c(e),f(r),a(T.sequence),s(l),a(this.locktime),a(n),no.hash256(o)};Et.prototype.hashForCashSignature=function(t,e,r,n){if(Bi(Wt.tuple(Wt.UInt32,Wt.Buffer,Wt.Number,Wt.maybe(Wt.UInt53)),arguments),n&Et.SIGHASH_BITCOINCASHBIP143){if(Wt.Null(r))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(t,e,r,n)}else return this.hashForSignature(t,e,n)};Et.prototype.getHash=function(){return no.hash256(this.__toBuffer(void 0,void 0,!1))};Et.prototype.getId=function(){return this.getHash().reverse().toString("hex")};Et.prototype.toBuffer=function(t,e){return this.__toBuffer(t,e,!0)};Et.prototype.__toBuffer=function(t,e,r){t||(t=Ur.allocUnsafe(this.__byteLength(r)));var n=e||0;function o(y){n+=y.copy(t,n)}function i(y){n=t.writeUInt8(y,n)}function s(y){n=t.writeUInt32LE(y,n)}function a(y){n=t.writeInt32LE(y,n)}function f(y){n=wb.writeUInt64LE(t,y,n)}function u(y){yn.encode(y,t,n),n+=yn.encode.bytes}function c(y){u(y.length),o(y)}function l(y){u(y.length),y.forEach(c)}a(this.version);var p=r&&this.hasWitnesses();return p&&(i(Et.ADVANCED_TRANSACTION_MARKER),i(Et.ADVANCED_TRANSACTION_FLAG)),u(this.ins.length),this.ins.forEach(function(y){o(y.hash),s(y.index),c(y.script),s(y.sequence)}),u(this.outs.length),this.outs.forEach(function(y){y.valueBuffer?o(y.valueBuffer):f(y.value),c(y.script)}),p&&this.ins.forEach(function(y){l(y.witness)}),s(this.locktime),e!==void 0?t.slice(e,n):t};Et.prototype.toHex=function(){return this.toBuffer().toString("hex")};Et.prototype.setInputScript=function(t,e){Bi(Wt.tuple(Wt.Number,Wt.Buffer),arguments),this.ins[t].script=e};Et.prototype.setWitness=function(t,e){Bi(Wt.tuple(Wt.Number,[Wt.Buffer]),arguments),this.ins[t].witness=e};var Sb=Et,Eb=St.Buffer,g5=Xo,lF=A8,pF=kt,dF=xe,Qa=ea,bF=Sb;function Ye(){this.version=1,this.prevHash=null,this.merkleRoot=null,this.timestamp=0,this.bits=0,this.nonce=0}Ye.fromBuffer=function(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");var e=0;function r(l){return e+=l,t.slice(e-l,e)}function n(){var l=t.readUInt32LE(e);return e+=4,l}function o(){var l=t.readInt32LE(e);return e+=4,l}var i=new Ye;if(i.version=o(),i.prevHash=r(32),i.merkleRoot=r(32),i.timestamp=n(),i.bits=n(),i.nonce=n(),t.length===80)return i;function s(){var l=Qa.decode(t,e);return e+=Qa.decode.bytes,l}function a(){var l=bF.fromBuffer(t.slice(e),!0);return e+=l.byteLength(),l}var f=s();i.transactions=[];for(var u=0;u<f;++u){var c=a();i.transactions.push(c)}return i};Ye.prototype.byteLength=function(t){return t||!this.transactions?80:80+Qa.encodingLength(this.transactions.length)+this.transactions.reduce(function(e,r){return e+r.byteLength()},0)};Ye.fromHex=function(t){return Ye.fromBuffer(Eb.from(t,"hex"))};Ye.prototype.getHash=function(){return g5.hash256(this.toBuffer(!0))};Ye.prototype.getId=function(){return this.getHash().reverse().toString("hex")};Ye.prototype.getUTCDate=function(){var t=new Date(0);return t.setUTCSeconds(this.timestamp),t};Ye.prototype.toBuffer=function(t){var e=Eb.allocUnsafe(this.byteLength(t)),r=0;function n(s){s.copy(e,r),r+=s.length}function o(s){e.writeInt32LE(s,r),r+=4}function i(s){e.writeUInt32LE(s,r),r+=4}return o(this.version),n(this.prevHash),n(this.merkleRoot),i(this.timestamp),i(this.bits),i(this.nonce),t||!this.transactions||(Qa.encode(this.transactions.length,e,r),r+=Qa.encode.bytes,this.transactions.forEach(function(s){var a=s.byteLength();s.toBuffer(e,r),r+=a})),e};Ye.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")};Ye.calculateTarget=function(t){var e=((t&4278190080)>>24)-3,r=t&8388607,n=Eb.alloc(32,0);return n.writeUInt32BE(r,28-e),n};Ye.calculateMerkleRoot=function(t){if(pF([{getHash:dF.Function}],t),t.length===0)throw TypeError("Cannot compute merkle root for zero transactions");var e=t.map(function(r){return r.getHash()});return lF(e,g5.hash256)};Ye.prototype.checkMerkleRoot=function(){if(!this.transactions)return!1;var t=Ye.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(t)===0};Ye.prototype.checkProofOfWork=function(){var t=this.getHash().reverse(),e=Ye.calculateTarget(this.bits);return t.compare(e)<=0};var yF=Ye,mu={bitcoin:{messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},testnet:{messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},litecoin:{messagePrefix:`Litecoin Signed Message:
`,bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176}},m5=St.Buffer,ec=eh,v5=No,ka=Ne,di=mb,w5=mu,gF=kt,Np=xe;function _5(t){var e=v5.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");var r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}function S5(t){var e=ec.decode(t),r=ec.fromWords(e.words.slice(1));return{version:e.words[0],prefix:e.prefix,data:m5.from(r)}}function Gd(t,e){gF(Np.tuple(Np.Hash160bit,Np.UInt8),arguments);var r=m5.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),v5.encode(r)}function Wd(t,e,r){var n=ec.toWords(t);return n.unshift(e),ec.encode(r,n)}function mF(t,e){if(e=e||w5.bitcoin,di.pubKeyHash.output.check(t))return Gd(ka.compile(t).slice(3,23),e.pubKeyHash);if(di.scriptHash.output.check(t))return Gd(ka.compile(t).slice(2,22),e.scriptHash);if(di.witnessPubKeyHash.output.check(t))return Wd(ka.compile(t).slice(2,22),0,e.bech32);if(di.witnessScriptHash.output.check(t))return Wd(ka.compile(t).slice(2,34),0,e.bech32);throw new Error(ka.toASM(t)+" has no matching Address")}function vF(t,e){e=e||w5.bitcoin;var r;try{r=_5(t)}catch{}if(r){if(r.version===e.pubKeyHash)return di.pubKeyHash.output.encode(r.hash);if(r.version===e.scriptHash)return di.scriptHash.output.encode(r.hash)}else{try{r=S5(t)}catch{}if(r){if(r.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(r.version===0){if(r.data.length===20)return di.witnessPubKeyHash.output.encode(r.data);if(r.data.length===32)return di.witnessScriptHash.output.encode(r.data)}}}throw new Error(t+" has no matching Script")}var Ab={fromBase58Check:_5,fromBech32:S5,fromOutputScript:mF,toBase58Check:Gd,toBech32:Wd,toOutputScript:vF};const wF="bigi",_F="1.4.2",SF="Big integers.",EF=["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],AF={coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},kF={url:"https://github.com/cryptocoinjs/bigi",type:"git"},IF="./lib/index.js",TF={"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},OF={},BF={files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]},MF={name:wF,version:_F,description:SF,keywords:EF,devDependencies:AF,repository:kF,main:IF,scripts:TF,dependencies:OF,testling:BF};function vt(t,e,r){if(!(this instanceof vt))return new vt(t,e,r);t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}var gt=vt.prototype;gt.__bigi=MF.version;vt.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===gt.__bigi)};var ua;function PF(t,e,r,n,o,i){for(;--i>=0;){var s=e*this[t++]+r[n]+o;o=Math.floor(s/67108864),r[n++]=s&67108863}return o}vt.prototype.am=PF;ua=26;vt.prototype.DB=ua;vt.prototype.DM=(1<<ua)-1;var xF=vt.prototype.DV=1<<ua,kb=52;vt.prototype.FV=Math.pow(2,kb);vt.prototype.F1=kb-ua;vt.prototype.F2=2*ua-kb;var NF="0123456789abcdefghijklmnopqrstuvwxyz",vh=new Array,fa,Hr;fa=48;for(Hr=0;Hr<=9;++Hr)vh[fa++]=Hr;fa=97;for(Hr=10;Hr<36;++Hr)vh[fa++]=Hr;fa=65;for(Hr=10;Hr<36;++Hr)vh[fa++]=Hr;function Jm(t){return NF.charAt(t)}function E5(t,e){var r=vh[t.charCodeAt(e)];return r??-1}function RF(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function UF(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+xF:this.t=0}function Dn(t){var e=new vt;return e.fromInt(t),e}function CF(t,e){var r=this,n;if(e==16)n=4;else if(e==8)n=3;else if(e==256)n=8;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else{r.fromRadix(t,e);return}r.t=0,r.s=0;for(var o=t.length,i=!1,s=0;--o>=0;){var a=n==8?t[o]&255:E5(t,o);if(a<0){t.charAt(o)=="-"&&(i=!0);continue}i=!1,s==0?r[r.t++]=a:s+n>r.DB?(r[r.t-1]|=(a&(1<<r.DB-s)-1)<<s,r[r.t++]=a>>r.DB-s):r[r.t-1]|=a<<s,s+=n,s>=r.DB&&(s-=r.DB)}n==8&&t[0]&128&&(r.s=-1,s>0&&(r[r.t-1]|=(1<<r.DB-s)-1<<s)),r.clamp(),i&&vt.ZERO.subTo(r,r)}function HF(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function jF(t){var e=this;if(e.s<0)return"-"+e.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else return e.toRadix(t);var n=(1<<r)-1,o,i=!1,s="",a=e.t,f=e.DB-a*e.DB%r;if(a-- >0)for(f<e.DB&&(o=e[a]>>f)>0&&(i=!0,s=Jm(o));a>=0;)f<r?(o=(e[a]&(1<<f)-1)<<r-f,o|=e[--a]>>(f+=e.DB-r)):(o=e[a]>>(f-=r)&n,f<=0&&(f+=e.DB,--a)),o>0&&(i=!0),i&&(s+=Jm(o));return i?s:"0"}function LF(){var t=new vt;return vt.ZERO.subTo(this,t),t}function DF(){return this.s<0?this.negate():this}function KF(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function wh(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function qF(){return this.t<=0?0:this.DB*(this.t-1)+wh(this[this.t-1]^this.s&this.DM)}function FF(){return this.bitLength()>>3}function GF(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function WF(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function VF(t,e){var r=this,n=t%r.DB,o=r.DB-n,i=(1<<o)-1,s=Math.floor(t/r.DB),a=r.s<<n&r.DM,f;for(f=r.t-1;f>=0;--f)e[f+s+1]=r[f]>>o|a,a=(r[f]&i)<<n;for(f=s-1;f>=0;--f)e[f]=0;e[s]=a,e.t=r.t+s+1,e.s=r.s,e.clamp()}function zF(t,e){var r=this;e.s=r.s;var n=Math.floor(t/r.DB);if(n>=r.t){e.t=0;return}var o=t%r.DB,i=r.DB-o,s=(1<<o)-1;e[0]=r[n]>>o;for(var a=n+1;a<r.t;++a)e[a-n-1]|=(r[a]&s)<<i,e[a-n]=r[a]>>o;o>0&&(e[r.t-n-1]|=(r.s&s)<<i),e.t=r.t-n,e.clamp()}function $F(t,e){for(var r=this,n=0,o=0,i=Math.min(t.t,r.t);n<i;)o+=r[n]-t[n],e[n++]=o&r.DM,o>>=r.DB;if(t.t<r.t){for(o-=t.s;n<r.t;)o+=r[n],e[n++]=o&r.DM,o>>=r.DB;o+=r.s}else{for(o+=r.s;n<t.t;)o-=t[n],e[n++]=o&r.DM,o>>=r.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=r.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function XF(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&vt.ZERO.subTo(e,e)}function YF(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function ZF(t,e,r){var n=this,o=t.abs();if(!(o.t<=0)){var i=n.abs();if(i.t<o.t){e?.fromInt(0),r!=null&&n.copyTo(r);return}r==null&&(r=new vt);var s=new vt,a=n.s,f=t.s,u=n.DB-wh(o[o.t-1]);u>0?(o.lShiftTo(u,s),i.lShiftTo(u,r)):(o.copyTo(s),i.copyTo(r));var c=s.t,l=s[c-1];if(l!=0){var p=l*(1<<n.F1)+(c>1?s[c-2]>>n.F2:0),y=n.FV/p,v=(1<<n.F1)/p,A=1<<n.F2,T=r.t,P=T-c,C=e??new vt;for(s.dlShiftTo(P,C),r.compareTo(C)>=0&&(r[r.t++]=1,r.subTo(C,r)),vt.ONE.dlShiftTo(c,C),C.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--P>=0;){var D=r[--T]==l?n.DM:Math.floor(r[T]*y+(r[T-1]+A)*v);if((r[T]+=s.am(0,D,r,P,0,c))<D)for(s.dlShiftTo(P,C),r.subTo(C,r);r[T]<--D;)r.subTo(C,r)}e!=null&&(r.drShiftTo(c,e),a!=f&&vt.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&vt.ZERO.subTo(r,r)}}}function JF(t){var e=new vt;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(vt.ZERO)>0&&t.subTo(e,e),e}function Yo(t){this.m=t}function QF(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function tG(t){return t}function eG(t){t.divRemTo(this.m,null,t)}function rG(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function nG(t,e){t.squareTo(e),this.reduce(e)}Yo.prototype.convert=QF;Yo.prototype.revert=tG;Yo.prototype.reduce=eG;Yo.prototype.mulTo=rG;Yo.prototype.sqrTo=nG;function iG(){if(this.t<1)return 0;var t=this[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Zo(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function oG(t){var e=new vt;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(vt.ZERO)>0&&this.m.subTo(e,e),e}function sG(t){var e=new vt;return t.copyTo(e),this.reduce(e),e}function aG(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function uG(t,e){t.squareTo(e),this.reduce(e)}function fG(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Zo.prototype.convert=oG;Zo.prototype.revert=sG;Zo.prototype.reduce=aG;Zo.prototype.mulTo=fG;Zo.prototype.sqrTo=uG;function cG(){return(this.t>0?this[0]&1:this.s)==0}function hG(t,e){if(t>4294967295||t<1)return vt.ONE;var r=new vt,n=new vt,o=e.convert(this),i=wh(t)-1;for(o.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,o,r);else{var s=r;r=n,n=s}return e.revert(r)}function lG(t,e){var r;return t<256||e.isEven()?r=new Yo(e):r=new Zo(e),this.exp(t,r)}gt.copyTo=RF;gt.fromInt=UF;gt.fromString=CF;gt.clamp=HF;gt.dlShiftTo=GF;gt.drShiftTo=WF;gt.lShiftTo=VF;gt.rShiftTo=zF;gt.subTo=$F;gt.multiplyTo=XF;gt.squareTo=YF;gt.divRemTo=ZF;gt.invDigit=iG;gt.isEven=cG;gt.exp=hG;gt.toString=jF;gt.negate=LF;gt.abs=DF;gt.compareTo=KF;gt.bitLength=qF;gt.byteLength=FF;gt.mod=JF;gt.modPowInt=lG;function pG(){var t=new vt;return this.copyTo(t),t}function dG(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bG(){return this.t==0?this.s:this[0]<<24>>24}function yG(){return this.t==0?this.s:this[0]<<16>>16}function gG(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function mG(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function vG(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Dn(r),o=new vt,i=new vt,s="";for(this.divRemTo(n,o,i);o.signum()>0;)s=(r+i.intValue()).toString(t).substr(1)+s,o.divRemTo(n,o,i);return i.intValue().toString(t)+s}function wG(t,e){var r=this;r.fromInt(0),e==null&&(e=10);for(var n=r.chunkSize(e),o=Math.pow(e,n),i=!1,s=0,a=0,f=0;f<t.length;++f){var u=E5(t,f);if(u<0){t.charAt(f)=="-"&&r.signum()==0&&(i=!0);continue}a=e*a+u,++s>=n&&(r.dMultiply(o),r.dAddOffset(a,0),s=0,a=0)}s>0&&(r.dMultiply(Math.pow(e,s)),r.dAddOffset(a,0)),i&&vt.ZERO.subTo(r,r)}function _G(t,e,r){var n=this;if(typeof e=="number")if(t<2)n.fromInt(1);else for(n.fromNumber(t,r),n.testBit(t-1)||n.bitwiseTo(vt.ONE.shiftLeft(t-1),Ib,n),n.isEven()&&n.dAddOffset(1,0);!n.isProbablePrime(e);)n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(vt.ONE.shiftLeft(t-1),n);else{var o=new Array,i=t&7;o.length=(t>>3)+1,e.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,n.fromString(o,256)}}function SG(){var t=this,e=t.t,r=new Array;r[0]=t.s;var n=t.DB-e*t.DB%8,o,i=0;if(e-- >0)for(n<t.DB&&(o=t[e]>>n)!=(t.s&t.DM)>>n&&(r[i++]=o|t.s<<t.DB-n);e>=0;)n<8?(o=(t[e]&(1<<n)-1)<<8-n,o|=t[--e]>>(n+=t.DB-8)):(o=t[e]>>(n-=8)&255,n<=0&&(n+=t.DB,--e)),o&128&&(o|=-256),i===0&&(t.s&128)!=(o&128)&&++i,(i>0||o!=t.s)&&(r[i++]=o);return r}function EG(t){return this.compareTo(t)==0}function AG(t){return this.compareTo(t)<0?this:t}function kG(t){return this.compareTo(t)>0?this:t}function IG(t,e,r){var n=this,o,i,s=Math.min(t.t,n.t);for(o=0;o<s;++o)r[o]=e(n[o],t[o]);if(t.t<n.t){for(i=t.s&n.DM,o=s;o<n.t;++o)r[o]=e(n[o],i);r.t=n.t}else{for(i=n.s&n.DM,o=s;o<t.t;++o)r[o]=e(i,t[o]);r.t=t.t}r.s=e(n.s,t.s),r.clamp()}function TG(t,e){return t&e}function OG(t){var e=new vt;return this.bitwiseTo(t,TG,e),e}function Ib(t,e){return t|e}function BG(t){var e=new vt;return this.bitwiseTo(t,Ib,e),e}function A5(t,e){return t^e}function MG(t){var e=new vt;return this.bitwiseTo(t,A5,e),e}function k5(t,e){return t&~e}function PG(t){var e=new vt;return this.bitwiseTo(t,k5,e),e}function xG(){for(var t=new vt,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function NG(t){var e=new vt;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function RG(t){var e=new vt;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function UG(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function CG(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+UG(this[t]);return this.s<0?this.t*this.DB:-1}function HG(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function jG(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=HG(this[r]^e);return t}function LG(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function DG(t,e){var r=vt.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function KG(t){return this.changeBit(t,Ib)}function qG(t){return this.changeBit(t,k5)}function FG(t){return this.changeBit(t,A5)}function GG(t,e){for(var r=this,n=0,o=0,i=Math.min(t.t,r.t);n<i;)o+=r[n]+t[n],e[n++]=o&r.DM,o>>=r.DB;if(t.t<r.t){for(o+=t.s;n<r.t;)o+=r[n],e[n++]=o&r.DM,o>>=r.DB;o+=r.s}else{for(o+=r.s;n<t.t;)o+=t[n],e[n++]=o&r.DM,o>>=r.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=r.DV+o),e.t=n,e.clamp()}function WG(t){var e=new vt;return this.addTo(t,e),e}function VG(t){var e=new vt;return this.subTo(t,e),e}function zG(t){var e=new vt;return this.multiplyTo(t,e),e}function $G(){var t=new vt;return this.squareTo(t),t}function XG(t){var e=new vt;return this.divRemTo(t,e,null),e}function YG(t){var e=new vt;return this.divRemTo(t,null,e),e}function ZG(t){var e=new vt,r=new vt;return this.divRemTo(t,e,r),new Array(e,r)}function JG(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function QG(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function vu(){}function I5(t){return t}function tW(t,e,r){t.multiplyTo(e,r)}function eW(t,e){t.squareTo(e)}vu.prototype.convert=I5;vu.prototype.revert=I5;vu.prototype.mulTo=tW;vu.prototype.sqrTo=eW;function rW(t){return this.exp(t,new vu)}function nW(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var o;for(o=r.t-this.t;n<o;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(o=Math.min(t.t,e);n<o;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function iW(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function ca(t){this.r2=new vt,this.q3=new vt,vt.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function oW(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new vt;return t.copyTo(e),this.reduce(e),e}function sW(t){return t}function aW(t){var e=this;for(t.drShiftTo(e.m.t-1,e.r2),t.t>e.m.t+1&&(t.t=e.m.t+1,t.clamp()),e.mu.multiplyUpperTo(e.r2,e.m.t+1,e.q3),e.m.multiplyLowerTo(e.q3,e.m.t+1,e.r2);t.compareTo(e.r2)<0;)t.dAddOffset(1,e.m.t+1);for(t.subTo(e.r2,t);t.compareTo(e.m)>=0;)t.subTo(e.m,t)}function uW(t,e){t.squareTo(e),this.reduce(e)}function fW(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ca.prototype.convert=oW;ca.prototype.revert=sW;ca.prototype.reduce=aW;ca.prototype.mulTo=fW;ca.prototype.sqrTo=uW;function cW(t,e){var r=t.bitLength(),n,o=Dn(1),i;if(r<=0)return o;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?i=new Yo(e):e.isEven()?i=new ca(e):i=new Zo(e);var s=new Array,a=3,f=n-1,u=(1<<n)-1;if(s[1]=i.convert(this),n>1){var c=new vt;for(i.sqrTo(s[1],c);a<=u;)s[a]=new vt,i.mulTo(c,s[a-2],s[a]),a+=2}var l=t.t-1,p,y=!0,v=new vt,A;for(r=wh(t[l])-1;l>=0;){for(r>=f?p=t[l]>>r-f&u:(p=(t[l]&(1<<r+1)-1)<<f-r,l>0&&(p|=t[l-1]>>this.DB+r-f)),a=n;!(p&1);)p>>=1,--a;if((r-=a)<0&&(r+=this.DB,--l),y)s[p].copyTo(o),y=!1;else{for(;a>1;)i.sqrTo(o,v),i.sqrTo(v,o),a-=2;a>0?i.sqrTo(o,v):(A=o,o=v,v=A),i.mulTo(v,s[p],o)}for(;l>=0&&!(t[l]&1<<r);)i.sqrTo(o,v),A=o,o=v,v=A,--r<0&&(r=this.DB-1,--l)}return i.revert(o)}function hW(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var o=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(o<i&&(i=o),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(o=e.getLowestSetBit())>0&&e.rShiftTo(o,e),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r}function lW(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function pW(t){var e=t.isEven();if(this.signum()===0)throw new Error("division by zero");if(this.isEven()&&e||t.signum()==0)return vt.ZERO;for(var r=t.clone(),n=this.clone(),o=Dn(1),i=Dn(0),s=Dn(0),a=Dn(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!o.isEven()||!i.isEven())&&(o.addTo(this,o),i.subTo(t,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(s,o),i.subTo(a,i)):(n.subTo(r,n),e&&s.subTo(o,s),a.subTo(i,a))}if(n.compareTo(vt.ONE)!=0)return vt.ZERO;for(;a.compareTo(t)>=0;)a.subTo(t,a);for(;a.signum()<0;)a.addTo(t,a);return a}var ur=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],dW=(1<<26)/ur[ur.length-1];function bW(t){var e,r=this.abs();if(r.t==1&&r[0]<=ur[ur.length-1]){for(e=0;e<ur.length;++e)if(r[0]==ur[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<ur.length;){for(var n=ur[e],o=e+1;o<ur.length&&n<dW;)n*=ur[o++];for(n=r.modInt(n);e<o;)if(n%ur[e++]==0)return!1}return r.millerRabin(t)}function yW(t){var e=this.subtract(vt.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>ur.length&&(t=ur.length);for(var o=new vt(null),i,s=[],a=0;a<t;++a){for(;i=ur[Math.floor(Math.random()*ur.length)],s.indexOf(i)!=-1;);s.push(i),o.fromInt(i);var f=o.modPow(n,this);if(f.compareTo(vt.ONE)!=0&&f.compareTo(e)!=0){for(var i=1;i++<r&&f.compareTo(e)!=0;)if(f=f.modPowInt(2,this),f.compareTo(vt.ONE)==0)return!1;if(f.compareTo(e)!=0)return!1}}return!0}gt.chunkSize=gG;gt.toRadix=vG;gt.fromRadix=wG;gt.fromNumber=_G;gt.bitwiseTo=IG;gt.changeBit=DG;gt.addTo=GG;gt.dMultiply=JG;gt.dAddOffset=QG;gt.multiplyLowerTo=nW;gt.multiplyUpperTo=iW;gt.modInt=lW;gt.millerRabin=yW;gt.clone=pG;gt.intValue=dG;gt.byteValue=bG;gt.shortValue=yG;gt.signum=mG;gt.toByteArray=SG;gt.equals=EG;gt.min=AG;gt.max=kG;gt.and=OG;gt.or=BG;gt.xor=MG;gt.andNot=PG;gt.not=xG;gt.shiftLeft=NG;gt.shiftRight=RG;gt.getLowestSetBit=CG;gt.bitCount=jG;gt.testBit=LG;gt.setBit=KG;gt.clearBit=qG;gt.flipBit=FG;gt.add=WG;gt.subtract=VG;gt.multiply=zG;gt.divide=XG;gt.remainder=YG;gt.divideAndRemainder=ZG;gt.modPow=cW;gt.modInverse=pW;gt.pow=rW;gt.gcd=hW;gt.isProbablePrime=bW;gt.square=$G;vt.ZERO=Dn(0);vt.ONE=Dn(1);vt.valueOf=Dn;var T5=vt,Rp={exports:{}},Up={},Qm;function O5(){if(Qm)return Up;Qm=1;function t(V){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},t(V)}function e(V,U){for(var J=0;J<U.length;J++){var tt=U[J];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(V,n(tt.key),tt)}}function r(V,U,J){return U&&e(V.prototype,U),J&&e(V,J),Object.defineProperty(V,"prototype",{writable:!1}),V}function n(V){var U=o(V,"string");return t(U)==="symbol"?U:String(U)}function o(V,U){if(t(V)!=="object"||V===null)return V;var J=V[Symbol.toPrimitive];if(J!==void 0){var tt=J.call(V,U||"default");if(t(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(V)}function i(V,U){if(!(V instanceof U))throw new TypeError("Cannot call a class as a function")}function s(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(U&&U.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),U&&a(V,U)}function a(V,U){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,tt){return J.__proto__=tt,J},a(V,U)}function f(V){var U=l();return function(){var J=p(V),tt;if(U){var Q=p(this).constructor;tt=Reflect.construct(J,arguments,Q)}else tt=J.apply(this,arguments);return u(this,tt)}}function u(V,U){if(U&&(t(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(V)}function c(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(V){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},p(V)}var y={},v,A;function T(V,U,J){J||(J=Error);function tt(st,m,O){return typeof U=="string"?U:U(st,m,O)}var Q=function(st){s(O,st);var m=f(O);function O(h,g,_){var M;return i(this,O),M=m.call(this,tt(h,g,_)),M.code=V,M}return r(O)}(J);y[V]=Q}function P(V,U){if(Array.isArray(V)){var J=V.length;return V=V.map(function(tt){return String(tt)}),J>2?"one of ".concat(U," ").concat(V.slice(0,J-1).join(", "),", or ")+V[J-1]:J===2?"one of ".concat(U," ").concat(V[0]," or ").concat(V[1]):"of ".concat(U," ").concat(V[0])}else return"of ".concat(U," ").concat(String(V))}function C(V,U,J){return V.substr(!J||J<0?0:+J,U.length)===U}function D(V,U,J){return(J===void 0||J>V.length)&&(J=V.length),V.substring(J-U.length,J)===U}function F(V,U,J){return typeof J!="number"&&(J=0),J+U.length>V.length?!1:V.indexOf(U,J)!==-1}return T("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),T("ERR_INVALID_ARG_TYPE",function(V,U,J){v===void 0&&(v=tu()),v(typeof V=="string","'name' must be a string");var tt;typeof U=="string"&&C(U,"not ")?(tt="must not be",U=U.replace(/^not /,"")):tt="must be";var Q;if(D(V," argument"))Q="The ".concat(V," ").concat(tt," ").concat(P(U,"type"));else{var st=F(V,".")?"property":"argument";Q='The "'.concat(V,'" ').concat(st," ").concat(tt," ").concat(P(U,"type"))}return Q+=". Received type ".concat(t(J)),Q},TypeError),T("ERR_INVALID_ARG_VALUE",function(V,U){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";A===void 0&&(A=mi);var tt=A.inspect(U);return tt.length>128&&(tt="".concat(tt.slice(0,128),"...")),"The argument '".concat(V,"' ").concat(J,". Received ").concat(tt)},TypeError),T("ERR_INVALID_RETURN_VALUE",function(V,U,J){var tt;return J&&J.constructor&&J.constructor.name?tt="instance of ".concat(J.constructor.name):tt="type ".concat(t(J)),"Expected ".concat(V,' to be returned from the "').concat(U,'"')+" function but got ".concat(tt,".")},TypeError),T("ERR_MISSING_ARGS",function(){for(var V=arguments.length,U=new Array(V),J=0;J<V;J++)U[J]=arguments[J];v===void 0&&(v=tu()),v(U.length>0,"At least one arg needs to be specified");var tt="The ",Q=U.length;switch(U=U.map(function(st){return'"'.concat(st,'"')}),Q){case 1:tt+="".concat(U[0]," argument");break;case 2:tt+="".concat(U[0]," and ").concat(U[1]," arguments");break;default:tt+=U.slice(0,Q-1).join(", "),tt+=", and ".concat(U[Q-1]," arguments");break}return"".concat(tt," must be specified")},TypeError),Up.codes=y,Up}var Cp,t3;function gW(){if(t3)return Cp;t3=1;function t(b,E){var S=Object.keys(b);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(b);E&&(B=B.filter(function($){return Object.getOwnPropertyDescriptor(b,$).enumerable})),S.push.apply(S,B)}return S}function e(b){for(var E=1;E<arguments.length;E++){var S=arguments[E]!=null?arguments[E]:{};E%2?t(Object(S),!0).forEach(function(B){r(b,B,S[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(S)):t(Object(S)).forEach(function(B){Object.defineProperty(b,B,Object.getOwnPropertyDescriptor(S,B))})}return b}function r(b,E,S){return E=s(E),E in b?Object.defineProperty(b,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[E]=S,b}function n(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function o(b,E){for(var S=0;S<E.length;S++){var B=E[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(b,s(B.key),B)}}function i(b,E,S){return E&&o(b.prototype,E),S&&o(b,S),Object.defineProperty(b,"prototype",{writable:!1}),b}function s(b){var E=a(b,"string");return C(E)==="symbol"?E:String(E)}function a(b,E){if(C(b)!=="object"||b===null)return b;var S=b[Symbol.toPrimitive];if(S!==void 0){var B=S.call(b,E||"default");if(C(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(b)}function f(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),E&&T(b,E)}function u(b){var E=v();return function(){var S=P(b),B;if(E){var $=P(this).constructor;B=Reflect.construct(S,arguments,$)}else B=S.apply(this,arguments);return c(this,B)}}function c(b,E){if(E&&(C(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(b)}function l(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function p(b){var E=typeof Map=="function"?new Map:void 0;return p=function(S){if(S===null||!A(S))return S;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(typeof E<"u"){if(E.has(S))return E.get(S);E.set(S,B)}function B(){return y(S,arguments,P(this).constructor)}return B.prototype=Object.create(S.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),T(B,S)},p(b)}function y(b,E,S){return v()?y=Reflect.construct.bind():y=function(B,$,et){var ot=[null];ot.push.apply(ot,$);var Z=Function.bind.apply(B,ot),q=new Z;return et&&T(q,et.prototype),q},y.apply(null,arguments)}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function A(b){return Function.toString.call(b).indexOf("[native code]")!==-1}function T(b,E){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,B){return S.__proto__=B,S},T(b,E)}function P(b){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},P(b)}function C(b){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},C(b)}var D=mi,F=D.inspect,V=O5(),U=V.codes.ERR_INVALID_ARG_TYPE;function J(b,E,S){return(S===void 0||S>b.length)&&(S=b.length),b.substring(S-E.length,S)===E}function tt(b,E){if(E=Math.floor(E),b.length==0||E==0)return"";var S=b.length*E;for(E=Math.floor(Math.log(E)/Math.log(2));E;)b+=b,E--;return b+=b.substring(0,S-b.length),b}var Q="",st="",m="",O="",h={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},g=10;function _(b){var E=Object.keys(b),S=Object.create(Object.getPrototypeOf(b));return E.forEach(function(B){S[B]=b[B]}),Object.defineProperty(S,"message",{value:b.message}),S}function M(b){return F(b,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function R(b,E,S){var B="",$="",et=0,ot="",Z=!1,q=M(b),L=q.split(`
`),Y=M(E).split(`
`),rt=0,H="";if(S==="strictEqual"&&C(b)==="object"&&C(E)==="object"&&b!==null&&E!==null&&(S="strictEqualObject"),L.length===1&&Y.length===1&&L[0]!==Y[0]){var K=L[0].length+Y[0].length;if(K<=g){if((C(b)!=="object"||b===null)&&(C(E)!=="object"||E===null)&&(b!==0||E!==0))return"".concat(h[S],`

`)+"".concat(L[0]," !== ").concat(Y[0],`
`)}else if(S!=="strictEqualObject"){var it=z.process.stderr&&z.process.stderr.isTTY?z.process.stderr.columns:80;if(K<it){for(;L[0][rt]===Y[0][rt];)rt++;rt>2&&(H=`
  `.concat(tt(" ",rt),"^"),rt=0)}}}for(var at=L[L.length-1],yt=Y[Y.length-1];at===yt&&(rt++<2?ot=`
  `.concat(at).concat(ot):B=at,L.pop(),Y.pop(),!(L.length===0||Y.length===0));)at=L[L.length-1],yt=Y[Y.length-1];var dt=Math.max(L.length,Y.length);if(dt===0){var lt=q.split(`
`);if(lt.length>30)for(lt[26]="".concat(Q,"...").concat(O);lt.length>27;)lt.pop();return"".concat(h.notIdentical,`

`).concat(lt.join(`
`),`
`)}rt>3&&(ot=`
`.concat(Q,"...").concat(O).concat(ot),Z=!0),B!==""&&(ot=`
  `.concat(B).concat(ot),B="");var At=0,ut=h[S]+`
`.concat(st,"+ actual").concat(O," ").concat(m,"- expected").concat(O),_t=" ".concat(Q,"...").concat(O," Lines skipped");for(rt=0;rt<dt;rt++){var It=rt-et;if(L.length<rt+1)It>1&&rt>2&&(It>4?($+=`
`.concat(Q,"...").concat(O),Z=!0):It>3&&($+=`
  `.concat(Y[rt-2]),At++),$+=`
  `.concat(Y[rt-1]),At++),et=rt,B+=`
`.concat(m,"-").concat(O," ").concat(Y[rt]),At++;else if(Y.length<rt+1)It>1&&rt>2&&(It>4?($+=`
`.concat(Q,"...").concat(O),Z=!0):It>3&&($+=`
  `.concat(L[rt-2]),At++),$+=`
  `.concat(L[rt-1]),At++),et=rt,$+=`
`.concat(st,"+").concat(O," ").concat(L[rt]),At++;else{var bt=Y[rt],wt=L[rt],I=wt!==bt&&(!J(wt,",")||wt.slice(0,-1)!==bt);I&&J(bt,",")&&bt.slice(0,-1)===wt&&(I=!1,wt+=","),I?(It>1&&rt>2&&(It>4?($+=`
`.concat(Q,"...").concat(O),Z=!0):It>3&&($+=`
  `.concat(L[rt-2]),At++),$+=`
  `.concat(L[rt-1]),At++),et=rt,$+=`
`.concat(st,"+").concat(O," ").concat(wt),B+=`
`.concat(m,"-").concat(O," ").concat(bt),At+=2):($+=B,B="",(It===1||rt===0)&&($+=`
  `.concat(wt),At++))}if(At>20&&rt<dt-2)return"".concat(ut).concat(_t,`
`).concat($,`
`).concat(Q,"...").concat(O).concat(B,`
`)+"".concat(Q,"...").concat(O)}return"".concat(ut).concat(Z?_t:"",`
`).concat($).concat(B).concat(ot).concat(H)}var x=function(b,E){f(B,b);var S=u(B);function B($){var et;if(n(this,B),C($)!=="object"||$===null)throw new U("options","Object",$);var ot=$.message,Z=$.operator,q=$.stackStartFn,L=$.actual,Y=$.expected,rt=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ot!=null)et=S.call(this,String(ot));else if(z.process.stderr&&z.process.stderr.isTTY&&(z.process.stderr&&z.process.stderr.getColorDepth&&z.process.stderr.getColorDepth()!==1?(Q="\x1B[34m",st="\x1B[32m",O="\x1B[39m",m="\x1B[31m"):(Q="",st="",O="",m="")),C(L)==="object"&&L!==null&&C(Y)==="object"&&Y!==null&&"stack"in L&&L instanceof Error&&"stack"in Y&&Y instanceof Error&&(L=_(L),Y=_(Y)),Z==="deepStrictEqual"||Z==="strictEqual")et=S.call(this,R(L,Y,Z));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var H=h[Z],K=M(L).split(`
`);if(Z==="notStrictEqual"&&C(L)==="object"&&L!==null&&(H=h.notStrictEqualObject),K.length>30)for(K[26]="".concat(Q,"...").concat(O);K.length>27;)K.pop();K.length===1?et=S.call(this,"".concat(H," ").concat(K[0])):et=S.call(this,"".concat(H,`

`).concat(K.join(`
`),`
`))}else{var it=M(L),at="",yt=h[Z];Z==="notDeepEqual"||Z==="notEqual"?(it="".concat(h[Z],`

`).concat(it),it.length>1024&&(it="".concat(it.slice(0,1021),"..."))):(at="".concat(M(Y)),it.length>512&&(it="".concat(it.slice(0,509),"...")),at.length>512&&(at="".concat(at.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?it="".concat(yt,`

`).concat(it,`

should equal

`):at=" ".concat(Z," ").concat(at)),et=S.call(this,"".concat(it).concat(at))}return Error.stackTraceLimit=rt,et.generatedMessage=!ot,Object.defineProperty(l(et),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),et.code="ERR_ASSERTION",et.actual=L,et.expected=Y,et.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(l(et),q),et.stack,et.name="AssertionError",c(et)}return i(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:E,value:function($,et){return F(this,e(e({},et),{},{customInspect:!1,depth:0}))}}]),B}(p(Error),F.custom);return Cp=x,Cp}var e3=Object.prototype.toString,B5=function(t){var e=e3.call(t),r=e==="[object Arguments]";return r||(r=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&e3.call(t.callee)==="[object Function]"),r},Hp,r3;function mW(){if(r3)return Hp;r3=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=B5,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(p){var y=p.constructor;return y&&y.prototype===p},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!u["$"+p]&&e.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{f(window[p])}catch{return!0}}catch{return!0}return!1}(),l=function(p){if(typeof window>"u"||!c)return f(p);try{return f(p)}catch{return!1}};t=function(p){var y=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",A=n(p),T=y&&r.call(p)==="[object String]",P=[];if(!y&&!v&&!A)throw new TypeError("Object.keys called on a non-object");var C=s&&v;if(T&&p.length>0&&!e.call(p,0))for(var D=0;D<p.length;++D)P.push(String(D));if(A&&p.length>0)for(var F=0;F<p.length;++F)P.push(String(F));else for(var V in p)!(C&&V==="prototype")&&e.call(p,V)&&P.push(String(V));if(i)for(var U=l(p),J=0;J<a.length;++J)!(U&&a[J]==="constructor")&&e.call(p,a[J])&&P.push(a[J]);return P}}return Hp=t,Hp}var vW=Array.prototype.slice,wW=B5,n3=Object.keys,pf=n3?function(t){return n3(t)}:mW(),i3=Object.keys;pf.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(e){return wW(e)?i3(vW.call(e)):i3(e)})}else Object.keys=pf;return Object.keys||pf};var M5=pf,_W=M5,P5=n0(),x5=mc,o3=Object,SW=x5("Array.prototype.push"),s3=x5("Object.prototype.propertyIsEnumerable"),EW=P5?Object.getOwnPropertySymbols:null,AW=function(t,e){if(t==null)throw new TypeError("target must be an object");var r=o3(t);if(arguments.length===1)return r;for(var n=1;n<arguments.length;++n){var o=o3(arguments[n]),i=_W(o),s=P5&&(Object.getOwnPropertySymbols||EW);if(s)for(var a=s(o),f=0;f<a.length;++f){var u=a[f];s3(o,u)&&SW(i,u)}for(var c=0;c<i.length;++c){var l=i[c];if(s3(o,l)){var p=o[l];r[l]=p}}}return r},kW=AW,IW=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),i="";for(var s in o)i+=s;return t!==i},TW=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},OW=function(){return!Object.assign||IW()||TW()?kW:Object.assign},a3=function(t){return t!==t},N5=function(t,e){return t===0&&e===0?1/t===1/e:!!(t===e||a3(t)&&a3(e))},BW=N5,Tb=function(){return typeof Object.is=="function"?Object.is:BW},jp,u3;function _h(){if(u3)return jp;u3=1;var t=M5,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,o=u6,i=function(u){return typeof u=="function"&&r.call(u)==="[object Function]"},s=o0(),a=function(u,c,l,p){if(c in u){if(p===!0){if(u[c]===l)return}else if(!i(p)||!p())return}s?o(u,c,l,!0):o(u,c,l)},f=function(u,c){var l=arguments.length>2?arguments[2]:{},p=t(c);e&&(p=n.call(p,Object.getOwnPropertySymbols(c)));for(var y=0;y<p.length;y+=1)a(u,p[y],c[p[y]],l[p[y]])};return f.supportsDescriptors=!!s,jp=f,jp}var Lp,f3;function MW(){if(f3)return Lp;f3=1;var t=Tb,e=_h();return Lp=function(){var r=t();return e(Object,{is:r},{is:function(){return Object.is!==r}}),r},Lp}var Dp,c3;function PW(){if(c3)return Dp;c3=1;var t=_h(),e=gc,r=N5,n=Tb,o=MW(),i=e(n(),Object);return t(i,{getPolyfill:n,implementation:r,shim:o}),Dp=i,Dp}var h3,l3;function R5(){return l3||(l3=1,h3=function(t){return t!==t}),h3}var Kp,p3;function U5(){if(p3)return Kp;p3=1;var t=R5();return Kp=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},Kp}var qp,d3;function xW(){if(d3)return qp;d3=1;var t=_h(),e=U5();return qp=function(){var r=e();return t(Number,{isNaN:r},{isNaN:function(){return Number.isNaN!==r}}),r},qp}var Fp,b3;function NW(){if(b3)return Fp;b3=1;var t=gc,e=_h(),r=R5(),n=U5(),o=xW(),i=t(n(),Number);return e(i,{getPolyfill:n,implementation:r,shim:o}),Fp=i,Fp}var Gp,y3;function RW(){if(y3)return Gp;y3=1;function t(I,N){return i(I)||o(I,N)||r(I,N)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(I,N){if(I){if(typeof I=="string")return n(I,N);var W=Object.prototype.toString.call(I).slice(8,-1);if(W==="Object"&&I.constructor&&(W=I.constructor.name),W==="Map"||W==="Set")return Array.from(I);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return n(I,N)}}function n(I,N){(N==null||N>I.length)&&(N=I.length);for(var W=0,d=new Array(N);W<N;W++)d[W]=I[W];return d}function o(I,N){var W=I==null?null:typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(W!=null){var d,w,k,j,G=[],X=!0,nt=!1;try{if(k=(W=W.call(I)).next,N===0){if(Object(W)!==W)return;X=!1}else for(;!(X=(d=k.call(W)).done)&&(G.push(d.value),G.length!==N);X=!0);}catch(ct){nt=!0,w=ct}finally{try{if(!X&&W.return!=null&&(j=W.return(),Object(j)!==j))return}finally{if(nt)throw w}}return G}}function i(I){if(Array.isArray(I))return I}function s(I){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},s(I)}var a=/a/g.flags!==void 0,f=function(I){var N=[];return I.forEach(function(W){return N.push(W)}),N},u=function(I){var N=[];return I.forEach(function(W,d){return N.push([d,W])}),N},c=Object.is?Object.is:PW(),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},p=Number.isNaN?Number.isNaN:NW();function y(I){return I.call.bind(I)}var v=y(Object.prototype.hasOwnProperty),A=y(Object.prototype.propertyIsEnumerable),T=y(Object.prototype.toString),P=mi.types,C=P.isAnyArrayBuffer,D=P.isArrayBufferView,F=P.isDate,V=P.isMap,U=P.isRegExp,J=P.isSet,tt=P.isNativeError,Q=P.isBoxedPrimitive,st=P.isNumberObject,m=P.isStringObject,O=P.isBooleanObject,h=P.isBigIntObject,g=P.isSymbolObject,_=P.isFloat32Array,M=P.isFloat64Array;function R(I){if(I.length===0||I.length>10)return!0;for(var N=0;N<I.length;N++){var W=I.charCodeAt(N);if(W<48||W>57)return!0}return I.length===10&&I>=Math.pow(2,32)}function x(I){return Object.keys(I).filter(R).concat(l(I).filter(Object.prototype.propertyIsEnumerable.bind(I)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function b(I,N){if(I===N)return 0;for(var W=I.length,d=N.length,w=0,k=Math.min(W,d);w<k;++w)if(I[w]!==N[w]){W=I[w],d=N[w];break}return W<d?-1:d<W?1:0}var E=!0,S=!1,B=0,$=1,et=2,ot=3;function Z(I,N){return a?I.source===N.source&&I.flags===N.flags:RegExp.prototype.toString.call(I)===RegExp.prototype.toString.call(N)}function q(I,N){if(I.byteLength!==N.byteLength)return!1;for(var W=0;W<I.byteLength;W++)if(I[W]!==N[W])return!1;return!0}function L(I,N){return I.byteLength!==N.byteLength?!1:b(new Uint8Array(I.buffer,I.byteOffset,I.byteLength),new Uint8Array(N.buffer,N.byteOffset,N.byteLength))===0}function Y(I,N){return I.byteLength===N.byteLength&&b(new Uint8Array(I),new Uint8Array(N))===0}function rt(I,N){return st(I)?st(N)&&c(Number.prototype.valueOf.call(I),Number.prototype.valueOf.call(N)):m(I)?m(N)&&String.prototype.valueOf.call(I)===String.prototype.valueOf.call(N):O(I)?O(N)&&Boolean.prototype.valueOf.call(I)===Boolean.prototype.valueOf.call(N):h(I)?h(N)&&BigInt.prototype.valueOf.call(I)===BigInt.prototype.valueOf.call(N):g(N)&&Symbol.prototype.valueOf.call(I)===Symbol.prototype.valueOf.call(N)}function H(I,N,W,d){if(I===N)return I!==0?!0:W?c(I,N):!0;if(W){if(s(I)!=="object")return typeof I=="number"&&p(I)&&p(N);if(s(N)!=="object"||I===null||N===null||Object.getPrototypeOf(I)!==Object.getPrototypeOf(N))return!1}else{if(I===null||s(I)!=="object")return N===null||s(N)!=="object"?I==N:!1;if(N===null||s(N)!=="object")return!1}var w=T(I),k=T(N);if(w!==k)return!1;if(Array.isArray(I)){if(I.length!==N.length)return!1;var j=x(I),G=x(N);return j.length!==G.length?!1:it(I,N,W,d,$,j)}if(w==="[object Object]"&&(!V(I)&&V(N)||!J(I)&&J(N)))return!1;if(F(I)){if(!F(N)||Date.prototype.getTime.call(I)!==Date.prototype.getTime.call(N))return!1}else if(U(I)){if(!U(N)||!Z(I,N))return!1}else if(tt(I)||I instanceof Error){if(I.message!==N.message||I.name!==N.name)return!1}else if(D(I)){if(!W&&(_(I)||M(I))){if(!q(I,N))return!1}else if(!L(I,N))return!1;var X=x(I),nt=x(N);return X.length!==nt.length?!1:it(I,N,W,d,B,X)}else{if(J(I))return!J(N)||I.size!==N.size?!1:it(I,N,W,d,et);if(V(I))return!V(N)||I.size!==N.size?!1:it(I,N,W,d,ot);if(C(I)){if(!Y(I,N))return!1}else if(Q(I)&&!rt(I,N))return!1}return it(I,N,W,d,B)}function K(I,N){return N.filter(function(W){return A(I,W)})}function it(I,N,W,d,w,k){if(arguments.length===5){k=Object.keys(I);var j=Object.keys(N);if(k.length!==j.length)return!1}for(var G=0;G<k.length;G++)if(!v(N,k[G]))return!1;if(W&&arguments.length===5){var X=l(I);if(X.length!==0){var nt=0;for(G=0;G<X.length;G++){var ct=X[G];if(A(I,ct)){if(!A(N,ct))return!1;k.push(ct),nt++}else if(A(N,ct))return!1}var ft=l(N);if(X.length!==ft.length&&K(N,ft).length!==nt)return!1}else{var pt=l(N);if(pt.length!==0&&K(N,pt).length!==0)return!1}}if(k.length===0&&(w===B||w===$&&I.length===0||I.size===0))return!0;if(d===void 0)d={val1:new Map,val2:new Map,position:0};else{var mt=d.val1.get(I);if(mt!==void 0){var ht=d.val2.get(N);if(ht!==void 0)return mt===ht}d.position++}d.val1.set(I,d.position),d.val2.set(N,d.position);var zt=It(I,N,W,k,d,w);return d.val1.delete(I),d.val2.delete(N),zt}function at(I,N,W,d){for(var w=f(I),k=0;k<w.length;k++){var j=w[k];if(H(N,j,W,d))return I.delete(j),!0}return!1}function yt(I){switch(s(I)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":I=+I;case"number":if(p(I))return!1}return!0}function dt(I,N,W){var d=yt(W);return d??(N.has(d)&&!I.has(d))}function lt(I,N,W,d,w){var k=yt(W);if(k!=null)return k;var j=N.get(k);return j===void 0&&!N.has(k)||!H(d,j,!1,w)?!1:!I.has(k)&&H(d,j,!1,w)}function At(I,N,W,d){for(var w=null,k=f(I),j=0;j<k.length;j++){var G=k[j];if(s(G)==="object"&&G!==null)w===null&&(w=new Set),w.add(G);else if(!N.has(G)){if(W||!dt(I,N,G))return!1;w===null&&(w=new Set),w.add(G)}}if(w!==null){for(var X=f(N),nt=0;nt<X.length;nt++){var ct=X[nt];if(s(ct)==="object"&&ct!==null){if(!at(w,ct,W,d))return!1}else if(!W&&!I.has(ct)&&!at(w,ct,W,d))return!1}return w.size===0}return!0}function ut(I,N,W,d,w,k){for(var j=f(I),G=0;G<j.length;G++){var X=j[G];if(H(W,X,w,k)&&H(d,N.get(X),w,k))return I.delete(X),!0}return!1}function _t(I,N,W,d){for(var w=null,k=u(I),j=0;j<k.length;j++){var G=t(k[j],2),X=G[0],nt=G[1];if(s(X)==="object"&&X!==null)w===null&&(w=new Set),w.add(X);else{var ct=N.get(X);if(ct===void 0&&!N.has(X)||!H(nt,ct,W,d)){if(W||!lt(I,N,X,nt,d))return!1;w===null&&(w=new Set),w.add(X)}}}if(w!==null){for(var ft=u(N),pt=0;pt<ft.length;pt++){var mt=t(ft[pt],2),ht=mt[0],zt=mt[1];if(s(ht)==="object"&&ht!==null){if(!ut(w,I,ht,zt,W,d))return!1}else if(!W&&(!I.has(ht)||!H(I.get(ht),zt,!1,d))&&!ut(w,I,ht,zt,!1,d))return!1}return w.size===0}return!0}function It(I,N,W,d,w,k){var j=0;if(k===et){if(!At(I,N,W,w))return!1}else if(k===ot){if(!_t(I,N,W,w))return!1}else if(k===$)for(;j<I.length;j++)if(v(I,j)){if(!v(N,j)||!H(I[j],N[j],W,w))return!1}else{if(v(N,j))return!1;for(var G=Object.keys(I);j<G.length;j++){var X=G[j];if(!v(N,X)||!H(I[X],N[X],W,w))return!1}return G.length===Object.keys(N).length}for(j=0;j<d.length;j++){var nt=d[j];if(!H(I[nt],N[nt],W,w))return!1}return!0}function bt(I,N){return H(I,N,S)}function wt(I,N){return H(I,N,E)}return Gp={isDeepEqual:bt,isDeepStrictEqual:wt},Gp}var g3;function tu(){if(g3)return Rp.exports;g3=1;function t(q){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},t(q)}function e(q,L){for(var Y=0;Y<L.length;Y++){var rt=L[Y];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(q,n(rt.key),rt)}}function r(q,L,Y){return L&&e(q.prototype,L),Y&&e(q,Y),Object.defineProperty(q,"prototype",{writable:!1}),q}function n(q){var L=o(q,"string");return t(L)==="symbol"?L:String(L)}function o(q,L){if(t(q)!=="object"||q===null)return q;var Y=q[Symbol.toPrimitive];if(Y!==void 0){var rt=Y.call(q,L||"default");if(t(rt)!=="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(q)}function i(q,L){if(!(q instanceof L))throw new TypeError("Cannot call a class as a function")}var s=O5(),a=s.codes,f=a.ERR_AMBIGUOUS_ARGUMENT,u=a.ERR_INVALID_ARG_TYPE,c=a.ERR_INVALID_ARG_VALUE,l=a.ERR_INVALID_RETURN_VALUE,p=a.ERR_MISSING_ARGS,y=gW(),v=mi,A=v.inspect,T=mi.types,P=T.isPromise,C=T.isRegExp,D=OW(),F=Tb(),V=mc("RegExp.prototype.test"),U,J;function tt(){var q=RW();U=q.isDeepEqual,J=q.isDeepStrictEqual}var Q=!1,st=Rp.exports=_,m={};function O(q){throw q.message instanceof Error?q.message:new y(q)}function h(q,L,Y,rt,H){var K=arguments.length,it;if(K===0)it="Failed";else if(K===1)Y=q,q=void 0;else{if(Q===!1){Q=!0;var at=z.process.emitWarning?z.process.emitWarning:console.warn.bind(console);at("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}K===2&&(rt="!=")}if(Y instanceof Error)throw Y;var yt={actual:q,expected:L,operator:rt===void 0?"fail":rt,stackStartFn:H||h};Y!==void 0&&(yt.message=Y);var dt=new y(yt);throw it&&(dt.message=it,dt.generatedMessage=!0),dt}st.fail=h,st.AssertionError=y;function g(q,L,Y,rt){if(!Y){var H=!1;if(L===0)H=!0,rt="No value argument passed to `assert.ok()`";else if(rt instanceof Error)throw rt;var K=new y({actual:Y,expected:!0,message:rt,operator:"==",stackStartFn:q});throw K.generatedMessage=H,K}}function _(){for(var q=arguments.length,L=new Array(q),Y=0;Y<q;Y++)L[Y]=arguments[Y];g.apply(void 0,[_,L.length].concat(L))}st.ok=_,st.equal=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");L!=Y&&O({actual:L,expected:Y,message:rt,operator:"==",stackStartFn:q})},st.notEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");L==Y&&O({actual:L,expected:Y,message:rt,operator:"!=",stackStartFn:q})},st.deepEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");U===void 0&&tt(),U(L,Y)||O({actual:L,expected:Y,message:rt,operator:"deepEqual",stackStartFn:q})},st.notDeepEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");U===void 0&&tt(),U(L,Y)&&O({actual:L,expected:Y,message:rt,operator:"notDeepEqual",stackStartFn:q})},st.deepStrictEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");U===void 0&&tt(),J(L,Y)||O({actual:L,expected:Y,message:rt,operator:"deepStrictEqual",stackStartFn:q})},st.notDeepStrictEqual=M;function M(q,L,Y){if(arguments.length<2)throw new p("actual","expected");U===void 0&&tt(),J(q,L)&&O({actual:q,expected:L,message:Y,operator:"notDeepStrictEqual",stackStartFn:M})}st.strictEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");F(L,Y)||O({actual:L,expected:Y,message:rt,operator:"strictEqual",stackStartFn:q})},st.notStrictEqual=function q(L,Y,rt){if(arguments.length<2)throw new p("actual","expected");F(L,Y)&&O({actual:L,expected:Y,message:rt,operator:"notStrictEqual",stackStartFn:q})};var R=r(function q(L,Y,rt){var H=this;i(this,q),Y.forEach(function(K){K in L&&(rt!==void 0&&typeof rt[K]=="string"&&C(L[K])&&V(L[K],rt[K])?H[K]=rt[K]:H[K]=L[K])})});function x(q,L,Y,rt,H,K){if(!(Y in q)||!J(q[Y],L[Y])){if(!rt){var it=new R(q,H),at=new R(L,H,q),yt=new y({actual:it,expected:at,operator:"deepStrictEqual",stackStartFn:K});throw yt.actual=q,yt.expected=L,yt.operator=K.name,yt}O({actual:q,expected:L,message:rt,operator:K.name,stackStartFn:K})}}function b(q,L,Y,rt){if(typeof L!="function"){if(C(L))return V(L,q);if(arguments.length===2)throw new u("expected",["Function","RegExp"],L);if(t(q)!=="object"||q===null){var H=new y({actual:q,expected:L,message:Y,operator:"deepStrictEqual",stackStartFn:rt});throw H.operator=rt.name,H}var K=Object.keys(L);if(L instanceof Error)K.push("name","message");else if(K.length===0)throw new c("error",L,"may not be an empty object");return U===void 0&&tt(),K.forEach(function(it){typeof q[it]=="string"&&C(L[it])&&V(L[it],q[it])||x(q,L,it,Y,K,rt)}),!0}return L.prototype!==void 0&&q instanceof L?!0:Error.isPrototypeOf(L)?!1:L.call({},q)===!0}function E(q){if(typeof q!="function")throw new u("fn","Function",q);try{q()}catch(L){return L}return m}function S(q){return P(q)||q!==null&&t(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function B(q){return Promise.resolve().then(function(){var L;if(typeof q=="function"){if(L=q(),!S(L))throw new l("instance of Promise","promiseFn",L)}else if(S(q))L=q;else throw new u("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return L}).then(function(){return m}).catch(function(Y){return Y})})}function $(q,L,Y,rt){if(typeof Y=="string"){if(arguments.length===4)throw new u("error",["Object","Error","Function","RegExp"],Y);if(t(L)==="object"&&L!==null){if(L.message===Y)throw new f("error/message",'The error message "'.concat(L.message,'" is identical to the message.'))}else if(L===Y)throw new f("error/message",'The error "'.concat(L,'" is identical to the message.'));rt=Y,Y=void 0}else if(Y!=null&&t(Y)!=="object"&&typeof Y!="function")throw new u("error",["Object","Error","Function","RegExp"],Y);if(L===m){var H="";Y&&Y.name&&(H+=" (".concat(Y.name,")")),H+=rt?": ".concat(rt):".";var K=q.name==="rejects"?"rejection":"exception";O({actual:void 0,expected:Y,operator:q.name,message:"Missing expected ".concat(K).concat(H),stackStartFn:q})}if(Y&&!b(L,Y,rt,q))throw L}function et(q,L,Y,rt){if(L!==m){if(typeof Y=="string"&&(rt=Y,Y=void 0),!Y||b(L,Y)){var H=rt?": ".concat(rt):".",K=q.name==="doesNotReject"?"rejection":"exception";O({actual:L,expected:Y,operator:q.name,message:"Got unwanted ".concat(K).concat(H,`
`)+'Actual message: "'.concat(L&&L.message,'"'),stackStartFn:q})}throw L}}st.throws=function q(L){for(var Y=arguments.length,rt=new Array(Y>1?Y-1:0),H=1;H<Y;H++)rt[H-1]=arguments[H];$.apply(void 0,[q,E(L)].concat(rt))},st.rejects=function q(L){for(var Y=arguments.length,rt=new Array(Y>1?Y-1:0),H=1;H<Y;H++)rt[H-1]=arguments[H];return B(L).then(function(K){return $.apply(void 0,[q,K].concat(rt))})},st.doesNotThrow=function q(L){for(var Y=arguments.length,rt=new Array(Y>1?Y-1:0),H=1;H<Y;H++)rt[H-1]=arguments[H];et.apply(void 0,[q,E(L)].concat(rt))},st.doesNotReject=function q(L){for(var Y=arguments.length,rt=new Array(Y>1?Y-1:0),H=1;H<Y;H++)rt[H-1]=arguments[H];return B(L).then(function(K){return et.apply(void 0,[q,K].concat(rt))})},st.ifError=function q(L){if(L!=null){var Y="ifError got unwanted exception: ";t(L)==="object"&&typeof L.message=="string"?L.message.length===0&&L.constructor?Y+=L.constructor.name:Y+=L.message:Y+=A(L);var rt=new y({actual:L,expected:null,operator:"ifError",message:Y,stackStartFn:q}),H=L.stack;if(typeof H=="string"){var K=H.split(`
`);K.shift();for(var it=rt.stack.split(`
`),at=0;at<K.length;at++){var yt=it.indexOf(K[at]);if(yt!==-1){it=it.slice(0,yt);break}}rt.stack="".concat(it.join(`
`),`
`).concat(K.join(`
`))}throw rt}};function ot(q,L,Y,rt,H){if(!C(L))throw new u("regexp","RegExp",L);var K=H==="match";if(typeof q!="string"||V(L,q)!==K){if(Y instanceof Error)throw Y;var it=!Y;Y=Y||(typeof q!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(q)," (").concat(A(q),")"):(K?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(A(L),`. Input:

`).concat(A(q),`
`));var at=new y({actual:q,expected:L,message:Y,operator:H,stackStartFn:rt});throw at.generatedMessage=it,at}}st.match=function q(L,Y,rt){ot(L,Y,rt,q,"match")},st.doesNotMatch=function q(L,Y,rt){ot(L,Y,rt,q,"doesNotMatch")};function Z(){for(var q=arguments.length,L=new Array(q),Y=0;Y<q;Y++)L[Y]=arguments[Y];g.apply(void 0,[Z,L.length].concat(L))}return st.strict=D(Z,st,{equal:st.strictEqual,deepEqual:st.deepStrictEqual,notEqual:st.notStrictEqual,notDeepEqual:st.notDeepStrictEqual}),st.strict.strict=st.strict,Rp.exports}var m3=tu(),or=T5;or.fromByteArrayUnsigned=function(t){return t[0]&128?new or([0].concat(t)):new or(t)};or.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return t[0]===0?t.slice(1):t};or.fromDERInteger=function(t){return new or(t)};or.prototype.toDERInteger=or.prototype.toByteArray;or.fromBuffer=function(t){if(t[0]&128){var e=Array.prototype.slice.call(t);return new or([0].concat(e))}return new or(t)};or.fromHex=function(t){return t===""?or.ZERO:(m3.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),m3.equal(t.length%2,0,"Incomplete hex"),new or(t,16))};or.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new z.Buffer(r.concat(e))};or.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")};var UW=T5,Yn=UW,C5=Qc,Ob=kt,ja=xe,rc=Yn;function De(t,e){Ob(ja.tuple(ja.BigInt,ja.BigInt),arguments),this.r=t,this.s=e}De.ECDSA=0;De.SCHNORR=1;De.parseCompact=function(t){Ob(ja.BufferN(65),t);var e=t.readUInt8(0)-27;if(e!==(e&7))throw new Error("Invalid signature parameter");var r=!!(e&4),n=e&3,o=De.fromRSBuffer(t.slice(1));return{compressed:r,i:n,signature:o}};De.fromRSBuffer=function(t){Ob(ja.BufferN(64),t);var e=rc.fromBuffer(t.slice(0,32)),r=rc.fromBuffer(t.slice(32,64));return new De(e,r)};De.fromDER=function(t){var e=C5.decode(t),r=rc.fromDERInteger(e.r),n=rc.fromDERInteger(e.s);return new De(r,n)};De.parseScriptSignature=function(t){var e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);return{signature:De.fromDER(t.slice(0,-1)),hashType:e}};De.prototype.toCompact=function(t,e){e&&(t+=4),t+=27;var r=z.Buffer.alloc(65);return r.writeUInt8(t,0),this.toRSBuffer(r,1),r};De.prototype.toDER=function(){var t=z.Buffer.from(this.r.toDERInteger()),e=z.Buffer.from(this.s.toDERInteger());return C5.encode(t,e)};De.prototype.toRSBuffer=function(t,e){return e||(e=0),t=t||z.Buffer.alloc(64),this.r.toBuffer(32).copy(t,e),this.s.toBuffer(32).copy(t,e+32),t};De.prototype.toScriptSignature=function(t,e){e||(e=De.ECDSA);var r=t&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var n=z.Buffer.alloc(1);if(n.writeUInt8(t,0),e===De.ECDSA)return z.Buffer.concat([this.toDER(),n]);if(e===De.SCHNORR)return z.Buffer.concat([this.toRSBuffer(),n]);throw new Error("Invalid signature Algorithm")};var wu=De,df=tu(),Wp=St.Buffer,nc=Yn,ic=nc.valueOf(3);function Me(t,e,r,n){df.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(Me.prototype,"zInv",{get:function(){return this._zInv===null&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}});Object.defineProperty(Me.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Me.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Me.fromAffine=function(t,e,r){return new Me(t,e,r,nc.ONE)};Me.prototype.equals=function(t){if(t===this)return!0;if(this.curve.isInfinity(this))return this.curve.isInfinity(t);if(this.curve.isInfinity(t))return this.curve.isInfinity(this);var e=t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p);if(e.signum()!==0)return!1;var r=t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p);return r.signum()===0};Me.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new Me(this.curve,this.x,t,this.z)};Me.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,o=t.y,i=o.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),s=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(s.signum()===0)return i.signum()===0?this.twice():this.curve.infinity;var a=s.square(),f=a.multiply(s),u=e.multiply(a),c=i.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(f).multiply(s).mod(this.curve.p),p=u.multiply(ic).multiply(i).subtract(r.multiply(f)).subtract(c.multiply(i)).multiply(t.z).add(i.multiply(f)).mod(this.curve.p),y=f.multiply(this.z).multiply(t.z).mod(this.curve.p);return new Me(this.curve,l,p,y)};Me.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),o=this.curve.a,i=t.square().multiply(ic);o.signum()!==0&&(i=i.add(this.z.square().multiply(o))),i=i.mod(this.curve.p);var s=i.square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),a=i.multiply(ic).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(i.pow(3)).mod(this.curve.p),f=r.pow(3).shiftLeft(3).mod(this.curve.p);return new Me(this.curve,s,a,f)};Me.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(t.signum()===0)return this.curve.infinity;for(var e=t,r=e.multiply(ic),n=this.negate(),o=this,i=r.bitLength()-2;i>0;--i){var s=r.testBit(i),a=e.testBit(i);o=o.twice(),s!==a&&(o=o.add(s?this:n))}return o};Me.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,o=this.curve.infinity,i=this.add(e);n>=0;){var s=t.testBit(n),a=r.testBit(n);o=o.twice(),s?a?o=o.add(i):o=o.add(this):a&&(o=o.add(e)),--n}return o};Me.prototype.getEncoded=function(t){if(t==null&&(t=this.compressed),this.curve.isInfinity(this))return Wp.alloc(1,0);var e=this.affineX,r=this.affineY,n=this.curve.pLength,o;return t?(o=Wp.allocUnsafe(1+n),o.writeUInt8(r.isEven()?2:3,0)):(o=Wp.allocUnsafe(1+n+n),o.writeUInt8(4,0),r.toBuffer(n).copy(o,1+n)),e.toBuffer(n).copy(o,1),o};Me.decodeFrom=function(t,e){var r=e.readUInt8(0),n=r!==4,o=Math.floor((t.p.bitLength()+7)/8),i=nc.fromBuffer(e.slice(1,1+o)),s;if(n){df.equal(e.length,o+1,"Invalid sequence length"),df(r===2||r===3,"Invalid sequence tag");var a=r===3;s=t.pointFromX(a,i)}else{df.equal(e.length,1+o+o,"Invalid sequence length");var f=nc.fromBuffer(e.slice(1+o));s=Me.fromAffine(t,i,f)}return s.compressed=n,s};Me.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};var H5=Me,Vp=tu(),v3=Yn,Vd=H5;function _u(t,e,r,n,o,i,s){this.p=t,this.a=e,this.b=r,this.G=Vd.fromAffine(this,n,o),this.n=i,this.h=s,this.infinity=new Vd(this,null,null,v3.ZERO),this.pOverFour=t.add(v3.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}_u.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p),n=r.modPow(this.pOverFour,this.p),o=n;return n.isEven()^!t&&(o=this.p.subtract(o)),Vd.fromAffine(this,e,o)};_u.prototype.isInfinity=function(t){return t===this.infinity?!0:t.z.signum()===0&&t.y.signum()!==0};_u.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,o=this.b,i=this.p;if(e.signum()<0||e.compareTo(i)>=0||r.signum()<0||r.compareTo(i)>=0)return!1;var s=r.square().mod(i),a=e.pow(3).add(n.multiply(e)).add(o).mod(i);return s.equals(a)};_u.prototype.validate=function(t){Vp(!this.isInfinity(t),"Point is at infinity"),Vp(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return Vp(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};var j5=_u;const CW={p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},HW={p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},jW={p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},LW={p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},DW={p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},KW={p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},qW={p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"},FW={secp128r1:CW,secp160k1:HW,secp160r1:jW,secp192k1:LW,secp192r1:DW,secp256k1:KW,secp256r1:qW};var Zi=Yn,GW=FW,WW=j5;function VW(t){var e=GW[t];if(!e)return null;var r=new Zi(e.p,16),n=new Zi(e.a,16),o=new Zi(e.b,16),i=new Zi(e.n,16),s=new Zi(e.h,16),a=new Zi(e.Gx,16),f=new Zi(e.Gy,16);return new WW(r,n,o,a,f,i,s)}var zW=VW,$W=H5,XW=j5,YW=zW,Su={Curve:XW,Point:$W,getCurveByName:YW},zp,w3;function L5(){if(w3)return zp;w3=1;var t=St.Buffer,e=$s,r=Yn,n=kt,o=xe,i=Su,s=i.getCurveByName("secp256k1"),a=t.alloc(1,0),f=t.alloc(1,1);function u(c,l,p,y){n(o.tuple(o.Hash256bit,o.Buffer256bit,o.Function),arguments);var v=t.alloc(32,0),A=t.alloc(32,1);v=e("sha256",v).update(A).update(a).update(l).update(c),y&&(n(n.BufferN(16),y),v.update(y)),v=v.digest(),A=e("sha256",v).update(A).digest(),v=e("sha256",v).update(A).update(f).update(l).update(c).digest(),A=e("sha256",v).update(A).digest(),A=e("sha256",v).update(A).digest();for(var T=r.fromBuffer(A);T.signum()<=0||T.compareTo(s.n)>=0||!p(T);)v=e("sha256",v).update(A).update(a).digest(),A=e("sha256",v).update(A).digest(),A=e("sha256",v).update(A).digest(),T=r.fromBuffer(A);return T}return zp={deterministicGenerateK:u},zp}var D5=kt,lo=xe,K5=Yn,ZW=wu,JW=Su,yi=JW.getCurveByName("secp256k1"),q5=L5().deterministicGenerateK,QW=yi.n.shiftRight(1);function tV(t,e){D5(lo.tuple(lo.Hash256bit,lo.BigInt),arguments);var r=e.toBuffer(32),n=K5.fromBuffer(t),o=yi.n,i=yi.G,s,a;return q5(t,r,function(f){var u=i.multiply(f);return!(yi.isInfinity(u)||(s=u.affineX.mod(o),s.signum()===0)||(a=f.modInverse(o).multiply(n.add(e.multiply(s))).mod(o),a.signum()===0))}),a.compareTo(QW)>0&&(a=o.subtract(a)),new ZW(s,a)}function eV(t,e,r){D5(lo.tuple(lo.Hash256bit,lo.ECSignature,lo.ECPoint),arguments);var n=yi.n,o=yi.G,i=e.r,s=e.s;if(i.signum()<=0||i.compareTo(n)>=0||s.signum()<=0||s.compareTo(n)>=0)return!1;var a=K5.fromBuffer(t),f=s.modInverse(n),u=a.multiply(f).mod(n),c=i.multiply(f).mod(n),l=o.multiplyTwo(u,r,c);if(yi.isInfinity(l))return!1;var p=l.affineX,y=p.mod(n);return y.equals(i)}var rV={deterministicGenerateK:q5,sign:tV,verify:eV,__curve:yi},Sh=kt,zr=xe,ko=Yn,nV=wu,zd=Xo,iV=Su,Rr=iV.getCurveByName("secp256k1"),F5=L5().deterministicGenerateK,G5=!0;function oV(t,e){Sh(zr.tuple(zr.BufferN(32),zr.BigInt),arguments);var r=Rr.n,n=Rr.G;if(e.compareTo(ko.ZERO)<=0||e.compareTo(r)>=0)throw new Error("Private key x not in range");var o=n.multiply(e),i,s;function a(c){var l=n.multiply(c);Bb(l.affineY,Rr.p)!=1&&(c=r.subtract(c),l=n.multiply(c)),i=l.affineX.mod(r);var p=Mb(o),y=i.toBuffer(32),v=zd.sha256(z.Buffer.concat([y,p,t])),A=ko.fromBuffer(v).mod(r);return s=c.add(A.multiply(e)).mod(r),!0}if(G5)F5(t,e.toBuffer(32),a,z.Buffer.from("Schnorr+SHA256  ","ascii"));else{var f=zd.sha256(z.Buffer.concat([e.toBuffer(32),t])),u=ko.fromBuffer(f).mod(r);a(u)}return new nV(i,s)}function sV(u,e,r){Sh(zr.tuple(zr.BufferN(32),zr.ECSignature,zr.ECPoint),arguments);var n=Rr.n,o=Rr.G,i=e.r,s=e.s;if(!Rr.isOnCurve(r)||Rr.isInfinity(r)||i.compareTo(Rr.p)>=0||s.compareTo(n)>=0)return!1;var a=Mb(r),f=i.toBuffer(32),u=zd.sha256(z.Buffer.concat([f,a,u])),c=ko.fromBuffer(u).mod(n),l=o.multiply(s).add(r.multiply(n.subtract(c)));return!(Rr.isInfinity(l)||l.affineX.compareTo(i)!=0||Bb(l.affineY,Rr.p)!=1)}function Bb(t,e){return t.modPow(e.subtract(ko.ONE).divide(ko.valueOf(2)),e).intValue()}function Mb(t){return Sh(zr.tuple(zr.ECPoint),arguments),z.Buffer.concat([z.Buffer.from([t.affineY.isEven()?2:3]),t.affineX.toBuffer(32)])}function aV(t){if(Sh(zr.tuple(zr.BufferN(33)),arguments),t.length!==33)throw new Error("Invalid length of buffer");if(t[0]!==2&&t[0]!==3)throw new Error("Invalid signum byte");var e=t[0]===3,r=ko.fromBuffer(t.slice(1,33));return Rr.pointFromX(e,r)}var uV={deterministicGenerateK:F5,sign:oV,verify:sV,jacobi:Bb,toCompressedPoint:Mb,fromCompressedPoint:aV,__curve:Rr,__useRFC6979:function(t){G5=t}},fV=Ab,cV=Xo,Pb=rV,hV=uV,lV=Xn,$d=kt,io=xe,W5=$c,$p=wu,V5=mu,z5=Yn,pV=Su,Eh=Pb.__curve;function vr(t,e,r){if(r&&$d({compressed:io.maybe(io.Boolean),network:io.maybe(io.Network)},r),r=r||{},t){if(t.signum()<=0)throw new Error("Private key must be greater than 0");if(t.compareTo(Eh.n)>=0)throw new Error("Private key must be less than the curve order");if(e)throw new TypeError("Unexpected publicKey parameter");this.d=t}else $d(io.ECPoint,e),this.__Q=e;this.compressed=r.compressed===void 0?!0:r.compressed,this.network=r.network||V5.bitcoin}Object.defineProperty(vr.prototype,"Q",{get:function(){return!this.__Q&&this.d&&(this.__Q=Eh.G.multiply(this.d)),this.__Q}});vr.fromPublicKeyBuffer=function(t,e){var r=pV.Point.decodeFrom(Eh,t);return new vr(null,r,{compressed:r.compressed,network:e})};vr.fromWIF=function(t,e){var r=W5.decode(t),n=r.version;if(io.Array(e)){if(e=e.filter(function(i){return n===i.wif}).pop(),!e)throw new Error("Unknown network version")}else if(e=e||V5.bitcoin,n!==e.wif)throw new Error("Invalid network version");var o=z5.fromBuffer(r.privateKey);return new vr(o,null,{compressed:r.compressed,network:e})};vr.makeRandom=function(t){t=t||{};var e=t.rng||lV,r;do{var n=e(32);$d(io.Buffer256bit,n),r=z5.fromBuffer(n)}while(r.signum()<=0||r.compareTo(Eh.n)>=0);return new vr(r,null,t)};vr.prototype.getAddress=function(){return fV.toBase58Check(cV.hash160(this.getPublicKeyBuffer()),this.getNetwork().pubKeyHash)};vr.prototype.getNetwork=function(){return this.network};vr.prototype.getPublicKeyBuffer=function(){return this.Q.getEncoded(this.compressed)};vr.prototype.sign=function(t,e){if(!this.d)throw new Error("Missing private key");if(e||(e=$p.ECDSA),e===$p.ECDSA)return Pb.sign(t,this.d);if(e===$p.SCHNORR)return hV.sign(t,this.d)};vr.prototype.toWIF=function(){if(!this.d)throw new Error("Missing private key");return W5.encode(this.network.wif,this.d.toBuffer(32),this.compressed)};vr.prototype.verify=function(t,e){return Pb.verify(t,e,this.Q)};var xb=vr,Ah=St.Buffer,$5=No,dV=Xo,X5=$s,kh=kt,po=xe,bV=mu,Nb=Yn,Gs=xb,Y5=Su,ms=Y5.getCurveByName("secp256k1");function Jt(t,e){if(!t.compressed)throw new TypeError("BIP32 only allows compressed keyPairs");this.keyPair=t,this.chainCode=e,this.depth=0,this.index=0,this.parentFingerprint=0}Jt.HIGHEST_BIT=2147483648;Jt.LENGTH=78;Jt.MASTER_SECRET=Ah.from("Bitcoin seed","utf8");Jt.fromSeedBuffer=function(t,e){if(kh(po.tuple(po.Buffer,po.maybe(po.Network)),arguments),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");var r=X5("sha512",Jt.MASTER_SECRET).update(t).digest(),n=r.slice(0,32),o=r.slice(32),i=Nb.fromBuffer(n),s=new Gs(i,null,{network:e});return new Jt(s,o)};Jt.fromSeedHex=function(t,e){return Jt.fromSeedBuffer(Ah.from(t,"hex"),e)};Jt.fromBase58=function(t,e){var r=$5.decode(t);if(r.length!==78)throw new Error("Invalid buffer length");var n=r.readUInt32BE(0),o;if(Array.isArray(e)){if(o=e.filter(function(y){return n===y.bip32.private||n===y.bip32.public}).pop(),!o)throw new Error("Unknown network version")}else o=e||bV.bitcoin;if(n!==o.bip32.private&&n!==o.bip32.public)throw new Error("Invalid network version");var i=r[4],s=r.readUInt32BE(5);if(i===0&&s!==0)throw new Error("Invalid parent fingerprint");var a=r.readUInt32BE(9);if(i===0&&a!==0)throw new Error("Invalid index");var f=r.slice(13,45),u;if(n===o.bip32.private){if(r.readUInt8(45)!==0)throw new Error("Invalid private key");var c=Nb.fromBuffer(r.slice(46,78));u=new Gs(c,null,{network:o})}else{var l=Y5.Point.decodeFrom(ms,r.slice(45,78));ms.validate(l),u=new Gs(null,l,{network:o})}var p=new Jt(u,f);return p.depth=i,p.index=a,p.parentFingerprint=s,p};Jt.prototype.getAddress=function(){return this.keyPair.getAddress()};Jt.prototype.getIdentifier=function(){return dV.hash160(this.keyPair.getPublicKeyBuffer())};Jt.prototype.getFingerprint=function(){return this.getIdentifier().slice(0,4)};Jt.prototype.getNetwork=function(){return this.keyPair.getNetwork()};Jt.prototype.getPublicKeyBuffer=function(){return this.keyPair.getPublicKeyBuffer()};Jt.prototype.neutered=function(){var t=new Gs(null,this.keyPair.Q,{network:this.keyPair.network}),e=new Jt(t,this.chainCode);return e.depth=this.depth,e.index=this.index,e.parentFingerprint=this.parentFingerprint,e};Jt.prototype.sign=function(t){return this.keyPair.sign(t)};Jt.prototype.verify=function(t,e){return this.keyPair.verify(t,e)};Jt.prototype.toBase58=function(t){if(t!==void 0)throw new TypeError("Unsupported argument in 2.0.0");var e=this.keyPair.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,n=Ah.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.keyPair.getPublicKeyBuffer().copy(n,45):(n.writeUInt8(0,45),this.keyPair.d.toBuffer(32).copy(n,46)),$5.encode(n)};Jt.prototype.derive=function(t){kh(po.UInt32,t);var e=t>=Jt.HIGHEST_BIT,r=Ah.allocUnsafe(37);if(e){if(this.isNeutered())throw new TypeError("Could not derive hardened child key");r[0]=0,this.keyPair.d.toBuffer(32).copy(r,1),r.writeUInt32BE(t,33)}else this.keyPair.getPublicKeyBuffer().copy(r,0),r.writeUInt32BE(t,33);var n=X5("sha512",this.chainCode).update(r).digest(),o=n.slice(0,32),i=n.slice(32),s=Nb.fromBuffer(o);if(s.compareTo(ms.n)>=0)return this.derive(t+1);var a;if(this.isNeutered()){var f=ms.G.multiply(s).add(this.keyPair.Q);if(ms.isInfinity(f))return this.derive(t+1);a=new Gs(null,f,{network:this.keyPair.network})}else{var u=s.add(this.keyPair.d).mod(ms.n);if(u.signum()===0)return this.derive(t+1);a=new Gs(u,null,{network:this.keyPair.network})}var c=new Jt(a,i);return c.depth=this.depth+1,c.index=t,c.parentFingerprint=this.getFingerprint().readUInt32BE(0),c};Jt.prototype.deriveHardened=function(t){return kh(po.UInt31,t),this.derive(t+Jt.HIGHEST_BIT)};Jt.prototype.isNeutered=function(){return!this.keyPair.d};Jt.prototype.derivePath=function(t){kh(po.BIP32Path,t);var e=t.split("/");if(e[0]==="m"){if(this.parentFingerprint)throw new Error("Not a master node");e=e.slice(1)}return e.reduce(function(r,n){var o;return n.slice(-1)==="'"?(o=parseInt(n.slice(0,-1),10),r.deriveHardened(o)):(o=parseInt(n,10),r.derive(o))},this)};var yV=Jt,oc=St.Buffer,gV=Ab,Wr=Xo,gi=Ne,Ht=mb,mV=mu,_3=dr,Rb=kt,Ub=xe,ie=Ht.types,Z5=[Ht.types.P2PKH,Ht.types.P2PK,Ht.types.MULTISIG],vV=Z5.concat([Ht.types.P2WPKH,Ht.types.P2WSH]),wV=xb,J5=wu,Ei=Sb;function vs(t){return Z5.indexOf(t)!==-1}function Q5(t){return vV.indexOf(t)!==-1}function _V(t,e,r){var n=[],o=[];switch(t){case ie.P2PKH:n=e.slice(1),o=e.slice(0,1);break;case ie.P2PK:n[0]=r?Ht.pubKey.output.decode(r):void 0,o=e.slice(0,1);break;case ie.MULTISIG:if(r){var i=Ht.multisig.output.decode(r);n=i.pubKeys}o=e.slice(1).map(function(s){return s.length===0?void 0:s});break}return{pubKeys:n,signatures:o}}function SV(t,e){if(t.length===0&&e.length===0)return{};var r,n,o,i,s,a,f,u,c=!1,l=!1,p=!1,y,v,A=gi.decompile(t),T=Ht.classifyInput(A,!0);T===ie.P2SH&&(p=!0,s=A[A.length-1],u=Ht.classifyOutput(s),r=Ht.scriptHash.output.encode(Wr.hash160(s)),n=ie.P2SH,i=s);var P=Ht.classifyWitness(e,!0);if(P===ie.P2WSH){if(a=e[e.length-1],f=Ht.classifyOutput(a),l=!0,c=!0,t.length===0){if(r=Ht.witnessScriptHash.output.encode(Wr.sha256(a)),n=ie.P2WSH,s!==void 0)throw new Error("Redeem script given when unnecessary")}else{if(!s)throw new Error("No redeemScript provided for P2WSH, but scriptSig non-empty");if(y=Ht.witnessScriptHash.output.encode(Wr.sha256(a)),!s.equals(y))throw new Error("Redeem script didn't match witnessScript")}if(!vs(Ht.classifyOutput(a)))throw new Error("unsupported witness script");i=a,o=f,v=e.slice(0,-1)}else if(P===ie.P2WPKH){c=!0;var C=e[e.length-1],D=Wr.hash160(C);if(t.length===0){if(r=Ht.witnessPubKeyHash.output.encode(D),n=ie.P2WPKH,typeof s<"u")throw new Error("Redeem script given when unnecessary")}else{if(!s)throw new Error("No redeemScript provided for P2WPKH, but scriptSig wasn't empty");if(y=Ht.witnessPubKeyHash.output.encode(D),!s.equals(y))throw new Error("Redeem script did not have the right witness program")}o=ie.P2PKH,v=e}else if(s){if(!Q5(u))throw new Error("Bad redeemscript!");i=s,o=u,v=A.slice(0,-1)}else n=o=Ht.classifyInput(t),v=A;var F=_V(o,v,i),V={pubKeys:F.pubKeys,signatures:F.signatures,prevOutScript:r,prevOutType:n,signType:o,signScript:i,witness:!!c};return p&&(V.redeemScript=s,V.redeemScriptType=u),l&&(V.witnessScript=a,V.witnessScriptType=f),V}function EV(t,e,r,n,o){if(!(t.redeemScriptType!==ie.MULTISIG||!t.redeemScript)&&t.pubKeys.length!==t.signatures.length){var i=t.signatures.concat();t.signatures=t.pubKeys.map(function(s){var a=wV.fromPublicKeyBuffer(s),f;return i.some(function(u,c){if(!u)return!1;var l=J5.parseScriptSignature(u),p;return o?p=e.hashForCashSignature(r,t.signScript,n,l.hashType):t.witness?p=e.hashForWitnessV0(r,t.signScript,n,l.hashType):p=e.hashForSignature(r,t.signScript,l.hashType),a.verify(p,l.signature)?(i[c]=void 0,f=u,!0):!1}),f})}}function bs(t,e,r){Rb(Ub.Buffer,t);var n=gi.decompile(t);e||(e=Ht.classifyOutput(t));var o=[];switch(e){case ie.P2PKH:if(!r)break;var i=n[2],s=Wr.hash160(r);i.equals(s)&&(o=[r]);break;case ie.P2WPKH:if(!r)break;var a=n[1],f=Wr.hash160(r);a.equals(f)&&(o=[r]);break;case ie.P2PK:o=n.slice(0,1);break;case ie.MULTISIG:o=n.slice(1,-2);break;default:return{scriptType:e}}return{pubKeys:o,scriptType:e,signatures:o.map(function(){})}}function S3(t,e){if(t.prevOutType){if(t.prevOutType!==ie.P2SH)throw new Error("PrevOutScript must be P2SH");var r=gi.decompile(t.prevOutScript)[1];if(!r.equals(e))throw new Error("Inconsistent hash160(RedeemScript)")}}function AV(t,e){if(t.prevOutType){if(t.prevOutType!==ie.P2WSH)throw new Error("PrevOutScript must be P2WSH");var r=gi.decompile(t.prevOutScript)[1];if(!r.equals(e))throw new Error("Inconsistent sha25(WitnessScript)")}}function kV(t,e,r,n,o){var i,s,a,f=!1,u,c,l=!1,p=!1,y,v,A,T;if(r&&o){if(c=Wr.hash160(r),v=Wr.sha256(o),S3(t,c),!r.equals(Ht.witnessScriptHash.output.encode(v)))throw new Error("Witness script inconsistent with redeem script");if(i=bs(o,void 0,e),!i.pubKeys)throw new Error('WitnessScript not supported "'+gi.toASM(r)+'"');s=Ht.types.P2SH,a=Ht.scriptHash.output.encode(c),f=l=p=!0,u=Ht.types.P2WSH,A=y=i.scriptType,T=o}else if(r){if(c=Wr.hash160(r),S3(t,c),i=bs(r,void 0,e),!i.pubKeys)throw new Error('RedeemScript not supported "'+gi.toASM(r)+'"');s=Ht.types.P2SH,a=Ht.scriptHash.output.encode(c),f=!0,A=u=i.scriptType,T=r,l=A===Ht.types.P2WPKH}else if(o){if(v=Wr.sha256(o),AV(t,v),i=bs(o,void 0,e),!i.pubKeys)throw new Error('WitnessScript not supported "'+gi.toASM(r)+'"');s=Ht.types.P2WSH,a=Ht.witnessScriptHash.output.encode(v),l=p=!0,A=y=i.scriptType,T=o}else if(t.prevOutType){if(t.prevOutType===ie.P2SH||t.prevOutType===ie.P2WSH)throw new Error("PrevOutScript is "+t.prevOutType+", requires redeemScript");if(s=t.prevOutType,a=t.prevOutScript,i=bs(t.prevOutScript,t.prevOutType,e),!i.pubKeys)return;l=t.prevOutType===ie.P2WPKH,A=s,T=a}else a=Ht.pubKeyHash.output.encode(Wr.hash160(e)),i=bs(a,ie.P2PKH,e),s=ie.P2PKH,l=!1,A=s,T=a;A===ie.P2WPKH&&(T=Ht.pubKeyHash.output.encode(Ht.witnessPubKeyHash.output.decode(T))),f&&(t.redeemScript=r,t.redeemScriptType=u),p&&(t.witnessScript=o,t.witnessScriptType=y),t.pubKeys=i.pubKeys,t.signatures=i.signatures,t.signScript=T,t.signType=A,t.prevOutScript=a,t.prevOutType=s,t.witness=l}function Yu(t,e,r,n){if(t===ie.P2PKH){if(e.length===1&&oc.isBuffer(e[0])&&r.length===1)return Ht.pubKeyHash.input.encodeStack(e[0],r[0])}else if(t===ie.P2PK){if(e.length===1&&oc.isBuffer(e[0]))return Ht.pubKey.input.encodeStack(e[0])}else if(t===ie.MULTISIG){if(e.length>0)return e=e.map(function(o){return o||_3.OP_0}),n||(e=e.filter(function(o){return o!==_3.OP_0})),Ht.multisig.input.encodeStack(e)}else throw new Error("Not yet supported");if(!n)throw new Error("Not enough signatures provided");return[]}function IV(t,e){var r=t.prevOutType,n=[],o=[];vs(r)&&(n=Yu(r,t.signatures,t.pubKeys,e));var i=!1;if(r===Ht.types.P2SH){if(!e&&!Q5(t.redeemScriptType))throw new Error("Impossible to sign this type");vs(t.redeemScriptType)&&(n=Yu(t.redeemScriptType,t.signatures,t.pubKeys,e)),t.redeemScriptType&&(i=!0,r=t.redeemScriptType)}switch(r){case Ht.types.P2WPKH:o=Yu(Ht.types.P2PKH,t.signatures,t.pubKeys,e);break;case Ht.types.P2WSH:if(!e&&!vs(t.witnessScriptType))throw new Error("Impossible to sign this type");vs(t.witnessScriptType)&&(o=Yu(t.witnessScriptType,t.signatures,t.pubKeys,e),o.push(t.witnessScript),r=t.witnessScriptType);break}return i&&n.push(t.redeemScript),{type:r,script:gi.compile(n),witness:o}}function wr(t,e){this.prevTxMap={},this.network=t||mV.bitcoin,this.maximumFeeRate=e||2500,this.inputs=[],this.bitcoinCash=!0,this.tx=new Ei}wr.prototype.setLockTime=function(t){if(Rb(Ub.UInt32,t),this.inputs.some(function(e){return e.signatures?e.signatures.some(function(r){return r}):!1}))throw new Error("No, this would invalidate signatures");this.tx.locktime=t};wr.fromTransaction=function(t,e,r){var n=new wr(e);return n.setLockTime(t.locktime),t.outs.forEach(function(o){n.addOutput(o.script,o.value)}),t.ins.forEach(function(o){n.__addInputUnsafe(o.hash,o.index,{sequence:o.sequence,script:o.script,witness:o.witness,value:o.value})}),n.inputs.forEach(function(o,i){EV(o,t,i,o.value,r)}),n};wr.prototype.addInput=function(t,e,r,n){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");var o;if(typeof t=="string")t=oc.from(t,"hex").reverse();else if(t instanceof Ei){var i=t.outs[e];n=i.script,o=i.value,t=t.getHash()}return this.__addInputUnsafe(t,e,{sequence:r,prevOutScript:n,value:o})};wr.prototype.__addInputUnsafe=function(t,e,r){if(Ei.isCoinbaseHash(t))throw new Error("coinbase inputs not supported");var n=t.toString("hex")+":"+e;if(this.prevTxMap[n]!==void 0)throw new Error("Duplicate TxOut: "+n);var o={};if(r.script!==void 0&&(o=SV(r.script,r.witness||[])),r.value!==void 0&&(o.value=r.value),!o.prevOutScript&&r.prevOutScript){var i;if(!o.pubKeys&&!o.signatures){var s=bs(r.prevOutScript);s.pubKeys&&(o.pubKeys=s.pubKeys,o.signatures=s.signatures),i=s.scriptType}o.prevOutScript=r.prevOutScript,o.prevOutType=i||Ht.classifyOutput(r.prevOutScript)}var a=this.tx.addInput(t,e,r.sequence,r.scriptSig);return this.inputs[a]=o,this.prevTxMap[n]=a,a};wr.prototype.addOutput=function(t,e){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return typeof t=="string"&&(t=gV.toOutputScript(t,this.network)),this.tx.addOutput(t,e)};wr.prototype.build=function(){return this.__build(!1)};wr.prototype.buildIncomplete=function(){return this.__build(!0)};wr.prototype.__build=function(t){if(!t){if(!this.tx.ins.length)throw new Error("Transaction has no inputs");if(!this.tx.outs.length)throw new Error("Transaction has no outputs")}var e=this.tx.clone();if(this.inputs.forEach(function(r,n){var o=r.witnessScriptType||r.redeemScriptType||r.prevOutType;if(!o&&!t)throw new Error("Transaction is not complete");var i=IV(r,t);if(!t&&!vs(i.type)&&i.type!==Ht.types.P2WPKH)throw new Error(i.type+" not supported");e.setInputScript(n,i.script),e.setWitness(n,i.witness)}),!t&&this.__overMaximumFees(e.virtualSize()))throw new Error("Transaction has absurd fees");return e};function Xp(t){return t.prevOutScript!==void 0&&t.signScript!==void 0&&t.pubKeys!==void 0&&t.signatures!==void 0&&t.signatures.length===t.pubKeys.length&&t.pubKeys.length>0&&(t.witness===!1||t.witness===!0&&t.value!==void 0)}wr.prototype.sign=function(t,e,r,n,o,i,s){if(n=n|Ei.SIGHASH_BITCOINCASHBIP143,!this.inputs[t])throw new Error("No input at index: "+t);n=n||Ei.SIGHASH_ALL;var a=this.inputs[t];if(a.redeemScript!==void 0&&r&&!a.redeemScript.equals(r))throw new Error("Inconsistent redeemScript");var f=e.publicKey||e.getPublicKeyBuffer();if(!Xp(a)){if(o!==void 0){if(a.value!==void 0&&a.value!==o)throw new Error("Input didn't match witnessValue");Rb(Ub.Satoshi,o),a.value=o}if(Xp(a)||kV(a,f,r,o,i),!Xp(a))throw Error(a.prevOutType+" not supported")}var u=this.tx.hashForCashSignature(t,a.signScript,o,n),c=a.pubKeys.some(function(l,p){if(!f.equals(l))return!1;if(a.signatures[p])throw new Error("Signature already exists");if(f.length!==33&&a.signType===ie.P2WPKH)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");var y=e.sign(u,s);return oc.isBuffer(y)&&(y=J5.fromRSBuffer(y)),a.signatures[p]=y.toScriptSignature(n,s),!0});if(!c)throw new Error("Key pair cannot sign for this input")};function t7(t){return t.readUInt8(t.length-1)}wr.prototype.__canModifyInputs=function(){return this.inputs.every(function(t){return t.signatures===void 0?!0:t.signatures.every(function(e){if(!e)return!0;var r=t7(e);return r&Ei.SIGHASH_ANYONECANPAY})})};wr.prototype.__canModifyOutputs=function(){var t=this.tx.ins.length,e=this.tx.outs.length;return this.inputs.every(function(r){return r.signatures===void 0?!0:r.signatures.every(function(n){if(!n)return!0;var o=t7(n),i=o&31;if(i===Ei.SIGHASH_NONE)return!0;if(i===Ei.SIGHASH_SINGLE)return t<=e})})};wr.prototype.__overMaximumFees=function(t){var e=this.inputs.reduce(function(i,s){return i+(s.value>>>0)},0),r=this.tx.outs.reduce(function(i,s){return i+s.value},0),n=e-r,o=n/t;return o>this.maximumFeeRate};var TV=wr,e7=Ne,E3=mb;for(var A3 in E3)e7[A3]=E3[A3];var Na={bufferutils:d5,Block:yF,ECPair:xb,ECSignature:wu,HDNode:yV,Transaction:Sb,TransactionBuilder:TV,address:Ab,crypto:Xo,networks:mu,opcodes:dr,script:e7};const Ih=t=>`https://api.blockchair.com/${OV(t)}`,k3=t=>{switch(t){case Yt.Bitcoin:return 5;case Yt.Dogecoin:return 1e4;case Yt.Litecoin:return 1;default:return 2}},OV=t=>{switch(t){case Yt.BitcoinCash:return"bitcoin-cash";case Yt.Litecoin:return"litecoin";case Yt.Dogecoin:return"dogecoin";default:return"bitcoin"}},BV=async t=>{try{const{feePerKb:e}=await yf.get(`https://app.bitgo.com/api/v2/${t.toLowerCase()}/tx/fee`),r=e/1e3;return Math.max(r,k3(t))}catch{return k3(t)}},Th=async(t,e)=>{try{const r=await yf.get(t);if(!r||r.context.code!==200)throw new Error(`failed to query ${t}`);return r.data}catch(r){if(!e)throw r;const n=await yf.get(`${t}${e?`&key=${e}`:""}`);if(!n||n.context.code!==200)throw new Error(`failed to query ${t}`);return n.data}},MV={utxo:[],address:{balance:0,transaction_count:0}},r7=async({address:t,chain:e,apiKey:r})=>{if(!t)throw new Error("address is required");try{return(await Th(`${Ih(e)}/dashboards/address/${t}?transaction_details=true`,r))[t]}catch{return MV}},PV=async({address:t,chain:e,apiKey:r})=>(await r7({address:t,chain:e,apiKey:r})).address.balance,xV=async({chain:t,address:e,apiKey:r})=>{if(!e)throw new Error("address is required");try{return(await Th(`${Ih(t)}/addresses/balances?addresses=${e}`,r))[e]||0}catch{return 0}},n7=async({chain:t,apiKey:e,txHash:r})=>{if(!r)throw new Error("txHash is required");try{return(await Th(`${Ih(t)}/raw/transaction/${r}`,e))[r].raw_transaction}catch(n){return console.error(n),""}},i7=async({chain:t,address:e,apiKey:r,offset:n=0})=>{if(!e)throw new Error("address is required");try{const o=await Th(`${Ih(t)}/outputs?q=is_spent(false),recipient(${e})&limit=100&offset=${n}`,r),i=o.filter(({is_spent:a})=>!a).map(({script_hex:a,block_id:f,transaction_hash:u,index:c,value:l,spending_signature_hex:p})=>({hash:u,index:c,value:l,txHex:p,script_hex:a,is_confirmed:f!==-1}));if(o.length!==100)return i;const s=await i7({address:e,chain:t,apiKey:r,offset:o[99].transaction_id});return i.concat(s)}catch(o){return console.error(o),[]}},NV=async({address:t,chain:e,apiKey:r,fetchTxHex:n=!0})=>{const o=await i7({chain:e,address:t,apiKey:r}),i=[];for(const{hash:s,index:a,script_hex:f,value:u}of o){let c;n&&(c=await n7({txHash:s,chain:e,apiKey:r})),i.push({address:t,hash:s,index:a,txHex:c,value:u,witnessUtxo:{value:u,script:z.Buffer.from(f,"hex")}})}return i},Oh=({apiKey:t,chain:e})=>({getConfirmedBalance:r=>xV({chain:e,address:r,apiKey:t}),getRawTx:r=>n7({txHash:r,chain:e,apiKey:t}),getSuggestedTxFee:()=>BV(e),getBalance:r=>PV({address:r,chain:e,apiKey:t}),getAddressData:r=>r7({address:r,chain:e,apiKey:t}),scanUTXOs:r=>NV({...r,chain:e,apiKey:t})}),Bh=async({txHash:t,rpcUrl:e})=>{var r;const n=JSON.stringify({jsonrpc:"2.0",method:"sendrawtransaction",params:[t],id:uL()}),o=await yf.post(e,{headers:{"Content-Type":"application/json"},body:n});if(o.error)throw new Error(`failed to broadcast a transaction: ${(r=o.error)==null?void 0:r.message}`);if(o.result.includes('"code":-26'))throw new Error("Invalid transaction: the transaction amount was too low");return o.result},Kn=Yt.BitcoinCash,Mh=t=>Xd(e0(t)),o7=async({assetValue:t,recipient:e,memo:r,feeRate:n,sender:o,apiClient:i})=>{if(!Cb(e))throw new Error("Invalid address");const s=await i.scanUTXOs({address:Mh(o),fetchTxHex:!0}),a=r?gu(r):null,f=[];f.push({address:e,value:t.getBaseValue("number")});const{inputs:u,outputs:c}=yu({inputs:s,outputs:f,feeRate:n,chain:Kn});if(!u||!c)throw new Error("Balance insufficient for transaction");const l=new Na.TransactionBuilder(qn(Kn));return await Promise.all(u.map(async p=>{const y=await i.getRawTx(p.hash);l.addInput(Na.Transaction.fromBuffer(z.Buffer.from(y,"hex")),p.index)})),c.forEach(p=>{let y;p.address?p.address&&(y=Na.address.toOutputScript(vf(p.address),qn(Kn))):y=Na.address.toOutputScript(vf(o),qn(Kn)),l.addOutput(y,p.value)}),a&&l.addOutput(a,0),{builder:l,utxos:u}},RV=async({signTransaction:t,from:e,recipient:r,assetValue:n,apiClient:o,broadcastTx:i,getFeeRates:s,...a})=>{if(!e)throw new Error("From address must be provided");if(!r)throw new Error("Recipient address must be provided");if(!t)throw new Error("signTransaction must be provided");const f=a.feeRate||(await s())[bo.Fast],{builder:u,utxos:c}=await o7({...a,assetValue:n,feeRate:f,recipient:r,sender:e,apiClient:o}),l=(await t({builder:u,utxos:c})).toHex();return i(l)},UV=async({assetValue:t,recipient:e,memo:r,feeRate:n,sender:o,apiClient:i})=>{const s=e0(e);if(!Cb(s))throw new Error("Invalid address");const a=await i.scanUTXOs({address:Mh(o),fetchTxHex:!0}),f=Number(n.toFixed(0)),u=r?gu(r):null,c=[];c.push({address:vf(e),value:t.getBaseValue("number")}),u&&c.push({script:u,value:0});const{inputs:l,outputs:p}=yu({inputs:a,outputs:c,feeRate:f,chain:Kn});if(!l||!p)throw new Error("Balance insufficient for transaction");const y=new U4({network:qn(Kn)});return l.forEach(({hash:v,index:A,witnessUtxo:T})=>y.addInput({hash:v,index:A,witnessUtxo:T})),p.forEach(v=>{v.address=vf(v.address||o),v.script?u&&y.addOutput({script:u,value:0}):y.addOutput(v)}),{psbt:y,utxos:a,inputs:l}},Xd=t=>t.replace(/(bchtest:|bitcoincash:)/,""),Cb=(t,e)=>t.startsWith("bitcoincash:")?!0:a9(t)&&u9(t)===W3.Mainnet,CV=async({phrase:t,derivationPath:e=`${u7.BCH}/0`,wif:r})=>{const n=qn(Kn);if(r){const o=await Promise.resolve().then(()=>Xv);return C2.ECPairFactory(o).fromWIF(r,n)}if(!t)throw new Error("No phrase provided");return Na.HDNode.fromSeedBuffer(z.Buffer.from(Q4(t)),n).derivePath(e).keyPair},HV=t=>{const e=t.getAddress(0);return Mh(e)},jV=({apiKey:t,rpcUrl:e=sc.BitcoinCash,apiClient:r})=>{const n=r||Oh({apiKey:t,chain:Kn}),{getBalance:o,...i}=gh({chain:Kn,apiClient:n,broadcastTx:s=>Bh({txHash:s,rpcUrl:e})});return{...i,stripPrefix:Xd,stripToCashAddress:Mh,validateAddress:Cb,createKeysForPath:CV,getAddressFromKeys:HV,buildBCHTx:s=>o7({...s,apiClient:n}),getBalance:(s,a)=>o(Xd(e0(s))),buildTx:s=>UV({...s,apiClient:n}),transfer:s=>RV({...s,getFeeRates:i.getFeeRates,broadcastTx:i.broadcastTx,apiClient:n})}},LV=({apiKey:t,rpcUrl:e=sc.Bitcoin,apiClient:r})=>gh({chain:Yt.Bitcoin,broadcastTx:n=>Bh({txHash:n,rpcUrl:e}),apiClient:r||Oh({apiKey:t,chain:Yt.Bitcoin})}),DV=({apiKey:t,rpcUrl:e=sc.Dogecoin,apiClient:r})=>gh({chain:Yt.Dogecoin,broadcastTx:n=>Bh({txHash:n,rpcUrl:e}),apiClient:r||Oh({apiKey:t,chain:Yt.Dogecoin})}),KV=({apiKey:t,rpcUrl:e=sc.Litecoin,apiClient:r})=>gh({chain:Yt.Litecoin,broadcastTx:n=>Bh({txHash:n,rpcUrl:e}),apiClient:r||Oh({apiKey:t,chain:Yt.Litecoin})}),WV=t=>{switch(t){case Yt.BitcoinCash:return jV;case Yt.Bitcoin:return LV;case Yt.Dogecoin:return DV;case Yt.Litecoin:return KV}};export{jV as BCHToolbox,LV as BTCToolbox,gh as BaseUTXOToolbox,DV as DOGEToolbox,jd as InputSizes,KV as LTCToolbox,GV as MIN_TX_FEE,MH as OP_RETURN_OVERHEAD,Ld as OutputSizes,U4 as Psbt,rw as TX_OVERHEAD,FV as Transaction,H2 as UTXOScriptType,yu as accumulative,L2 as calculateTxSize,gu as compileMemo,ew as getDustThreshold,Ca as getInputSize,qn as getNetwork,Dd as getOutputSize,j2 as getScriptTypeForAddress,WV as getToolboxByChain,MU as networks,sL as standardFeeRates,e0 as toCashAddress,uL as uniqid};
