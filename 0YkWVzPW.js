import{v as y,w as b,r as o,_ as w}from"./assets/index-BDcs8OaA.js";import{d as _}from"./xrvJovm6.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="ad459726-0047-4d59-a391-d80be76e5798",s._sentryDebugIdIdentifier="sentry-dbid-ad459726-0047-4d59-a391-d80be76e5798")}catch{}})();const m=async({contract:s,assetValue:t})=>{const{isAssetValueApproved:e}=await(await w(()=>import("./G7qcxkrX.js"),__vite__mapDeps([0,1,2]))).getSwapKitClient();return await e(t,s)};let f=0,h={};const I=({isWalletConnected:s,numberOfPendingApprovals:t,assetValue:e,contract:r,skip:n})=>{const[i,a]=o.useState(e.isGasAsset||!s),[p,d]=o.useState(!i),A=o.useRef(`${e.toString()}-${r||"all"}`),u=o.useRef({assetValue:e,contract:r});u.current={assetValue:e,contract:r};const v=o.useRef(_(async()=>await m(u.current),500,{leading:!0,trailing:!1})),g=o.useMemo(()=>e.getValue("string"),[e]),l=o.useCallback(async()=>{const c=h[A.current];if(c)return d(!1),a(c);try{a(await v.current())}finally{f=t,d(!1)}},[r,t]);return o.useEffect(()=>{if(n||!s)a(!n);else{d(!0);const c=f>t?1e4:0;setTimeout(()=>l(),c)}},[g,l,s,t,n]),{isApproved:e.eqValue("0")?!1:i,isLoading:p}},E=({force:s,contract:t,assetValue:e})=>{const{getWalletAddress:r}=y(),{numberOfPendingApprovals:n}=b(),i=r(e.chain),a=o.useMemo(()=>!e.isGasAsset,[e]),{isApproved:p,isLoading:d}=I({isWalletConnected:!!i,numberOfPendingApprovals:n,skip:typeof s=="boolean"?!s:!1,assetValue:e,contract:a?t:void 0});return{isApproved:p||!i||!a,isWalletConnected:!!i,isLoading:d||n>0}};export{m as c,E as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["G7qcxkrX.js","assets/index-BDcs8OaA.js","assets/index-PWKo4Vxk.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
