import{r as m,cQ as ue,cR as Ce,a as J,cS as ke,cT as je,bd as X,j as r,d as he,h as L,B as b,ac as D,T as N,o as P,t as _,x as R,g as w,cU as Te,cV as Ie,cW as we,cX as Ne,ba as ze,c9 as Ae,cY as Oe,cZ as Le,c_ as _e,be as me,H as Pe,$ as Re,c$ as H,aU as Ee,bF as Y,q as Fe,d0 as Me,bc as Be,k as se,b as De}from"./assets/index-BDcs8OaA.js";import{S as $e,M as We}from"./8bNoHJzy.js";import{g as Ue,T as He}from"./6QZjTHo4.js";import{u as pe}from"./tX9VNdav.js";import{I as qe}from"./uJJRkjMC.js";import{u as Ve}from"./kn1s7jTN.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="e2849989-f63c-405a-8ca5-f96510ea306b",s._sentryDebugIdIdentifier="sentry-dbid-e2849989-f63c-405a-8ca5-f96510ea306b")}catch{}})();const fe=je?[]:X?["Stargatearb","Pancakeswap","Pancakeswapeth","Traderjoe","Pangolin"]:[],xt=()=>{const[s,e]=m.useState([]),{data:a}=ue(),[l,{isFetching:d}]=Ce(),x=J(({assets:{disabledTokenLists:u}})=>u),v=m.useMemo(()=>a?a.map(({provider:u})=>u).filter(u=>![...x,...fe].includes(u)):[],[x,a]),p=m.useCallback(async()=>{if(!v.length)return;const u=v.map(async S=>l(S)),y=(await Promise.all(u)).reduce((S,{data:g,status:T})=>!g?.tokens||T===ke.rejected?S:[...S,...g.tokens],[]);e(y)},[l,v]);return m.useEffect(()=>{p()},[p]),{tokens:s,isLoading:d}};function Ke({className:s,asset:e,size:a="md",withChevron:l,showAssetType:d,assetTypeComponent:x,onClick:v,logoURI:p}){return r.jsx(he,{className:L(s,"!rounded-full !h-10 !hover:bg-light-gray-primary border !border-solid !border-opacity-40 border-dark-gray-primary !hover:bg-dark-gray-primary inline-flex !min-w-fit !ps-0 !pe-0 px-0"),onClick:v,size:a,textTransform:"uppercase",variant:"tint",children:r.jsxs(b,{center:!0,className:"gap-2.5 mx-1",children:[r.jsx(D,{asset:e,logoURI:p,size:28}),r.jsxs(b,{col:!0,className:"text-left",children:[r.jsx(N,{className:"!leading-5",fontWeight:"medium",textStyle:"subtitle2",textTransform:"uppercase",children:e.ticker}),d&&(x||r.jsx(N,{className:"!leading-4",fontWeight:"normal",textStyle:"caption-xs",textTransform:"uppercase",variant:e.isSynthetic?"primaryBtn":"secondary",children:e.type}))]}),l&&r.jsx(P,{color:"primary",name:"chevronDown"})]})})}const ge=({logoURI:s,className:e,onClick:a,selected:l,showAssetType:d,assetTypeComponent:x})=>l?r.jsx(Ke,{asset:l,assetTypeComponent:x,className:e,logoURI:s,onClick:a,showAssetType:d,withChevron:!!a}):r.jsx("div",{className:L("pl-8 pr-4",e),children:r.jsx(he,{stretch:!0,onClick:a,rightIcon:r.jsx(P,{className:"ml-4 transition text-light-btn-secondary dark:text-dark-btn-secondary group-hover:text-light-typo-primary dark:group-hover:text-dark-typo-primary",name:"chevronDown"}),textTransform:"uppercase",variant:"secondary",children:_("components.assetSelect.selectAToken")})}),xe=[{value:"all",label:"All",tooltip:"All assets"},{value:"native",label:"Native",tooltip:"Native assets"},{value:"synth",label:"Synth",tooltip:"THUNDERChain Synthetic Assets"},{value:"erc20",label:"ERC20",tooltip:"Ethereum Mainnet (ERC-20)",chainAsset:R.fromChainOrSignature(w.Ethereum)},{value:"avax",label:"ERC20",tooltip:"Avalanche C-Chain (ERC-20)",chainAsset:R.fromChainOrSignature(w.Avalanche)},{value:"bep2",label:"BEP2",tooltip:"BNB Beacon Chain (BEP2)",chainAsset:R.fromChainOrSignature(w.Binance)},{value:"bep20",label:"BEP20",tooltip:"BNB Smart Chain (BEP20)",chainAsset:R.fromChainOrSignature(w.BinanceSmartChain)}],F=({icon:s,label:e,className:a})=>r.jsxs(b,{center:!0,className:L("whitespace-nowrap gap-1",a),children:[s||null,r.jsx(N,{fontWeight:"semibold",textStyle:"caption-xs",children:e})]}),Ge=()=>{const s=a=>{switch(a.value){case"all":return r.jsx(F,{className:"mx-2",label:a.label.toUpperCase()});case"synth":return r.jsx(F,{icon:r.jsx(P,{name:"thor",size:18}),label:a.label});case"avax":return r.jsx(F,{icon:r.jsx(D,{asset:R.fromChainOrSignature(w.Avalanche),size:20}),label:"AVAX"});case"erc20":return r.jsx(F,{icon:r.jsx(D,{asset:R.fromChainOrSignature(w.Ethereum),size:20}),label:"ETH"});case"bep2":return r.jsx(F,{icon:r.jsx(D,{asset:R.fromChainOrSignature(w.Binance),size:20}),label:"BNB"});case"bep20":return r.jsx(F,{icon:r.jsx(D,{asset:R.fromChainOrSignature(w.BinanceSmartChain),logoURI:Te({identifier:Ie(w.BinanceSmartChain)}),size:20}),label:"BSC"});default:return r.jsx(F,{label:a.label.toUpperCase()})}};return xe.map(a=>({value:a.value,label:s(a),tooltip:a.tooltip}))};function ae(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var ne=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Qe(s,e){return!!(s===e||ne(s)&&ne(e))}function Xe(s,e){if(s.length!==e.length)return!1;for(var a=0;a<s.length;a++)if(!Qe(s[a],e[a]))return!1;return!0}function G(s,e){e===void 0&&(e=Xe);var a,l=[],d,x=!1;function v(){for(var p=[],u=0;u<arguments.length;u++)p[u]=arguments[u];return x&&a===this&&e(p,l)||(d=s.apply(this,p),x=!0,a=this,l=p),d}return v}var Ye=typeof performance=="object"&&typeof performance.now=="function",oe=Ye?function(){return performance.now()}:function(){return Date.now()};function ie(s){cancelAnimationFrame(s.id)}function Je(s,e){var a=oe();function l(){oe()-a>=e?s.call(null):d.id=requestAnimationFrame(l)}var d={id:requestAnimationFrame(l)};return d}var Q=-1;function le(s){if(s===void 0&&(s=!1),Q===-1||s){var e=document.createElement("div"),a=e.style;a.width="50px",a.height="50px",a.overflow="scroll",document.body.appendChild(e),Q=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Q}var B=null;function ce(s){if(s===void 0&&(s=!1),B===null||s){var e=document.createElement("div"),a=e.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";var l=document.createElement("div"),d=l.style;return d.width="100px",d.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?B="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?B="negative":B="positive-ascending"),document.body.removeChild(e),B}return B}var Ze=150,et=function(e,a){return e};function tt(s){var e,a=s.getItemOffset,l=s.getEstimatedTotalSize,d=s.getItemSize,x=s.getOffsetForIndexAndAlignment,v=s.getStartIndexForOffset,p=s.getStopIndexForStartIndex,u=s.initInstanceProps,c=s.shouldResetStyleCacheOnItemSizeChange,y=s.validateProps;return e=function(S){we(g,S);function g(C){var t;return t=S.call(this,C)||this,t._instanceProps=u(t.props,ae(t)),t._outerRef=void 0,t._resetIsScrollingTimeoutId=null,t.state={instance:ae(t),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof t.props.initialScrollOffset=="number"?t.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},t._callOnItemsRendered=void 0,t._callOnItemsRendered=G(function(n,o,h,i){return t.props.onItemsRendered({overscanStartIndex:n,overscanStopIndex:o,visibleStartIndex:h,visibleStopIndex:i})}),t._callOnScroll=void 0,t._callOnScroll=G(function(n,o,h){return t.props.onScroll({scrollDirection:n,scrollOffset:o,scrollUpdateWasRequested:h})}),t._getItemStyle=void 0,t._getItemStyle=function(n){var o=t.props,h=o.direction,i=o.itemSize,k=o.layout,f=t._getItemStyleCache(c&&i,c&&k,c&&h),j;if(f.hasOwnProperty(n))j=f[n];else{var I=a(t.props,n,t._instanceProps),O=d(t.props,n,t._instanceProps),z=h==="horizontal"||k==="horizontal",M=h==="rtl",E=z?I:0;f[n]=j={position:"absolute",left:M?void 0:E,right:M?E:void 0,top:z?0:I,height:z?"100%":O,width:z?O:"100%"}}return j},t._getItemStyleCache=void 0,t._getItemStyleCache=G(function(n,o,h){return{}}),t._onScrollHorizontal=function(n){var o=n.currentTarget,h=o.clientWidth,i=o.scrollLeft,k=o.scrollWidth;t.setState(function(f){if(f.scrollOffset===i)return null;var j=t.props.direction,I=i;if(j==="rtl")switch(ce()){case"negative":I=-i;break;case"positive-descending":I=k-h-i;break}return I=Math.max(0,Math.min(I,k-h)),{isScrolling:!0,scrollDirection:f.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._onScrollVertical=function(n){var o=n.currentTarget,h=o.clientHeight,i=o.scrollHeight,k=o.scrollTop;t.setState(function(f){if(f.scrollOffset===k)return null;var j=Math.max(0,Math.min(k,i-h));return{isScrolling:!0,scrollDirection:f.scrollOffset<j?"forward":"backward",scrollOffset:j,scrollUpdateWasRequested:!1}},t._resetIsScrollingDebounced)},t._outerRefSetter=function(n){var o=t.props.outerRef;t._outerRef=n,typeof o=="function"?o(n):o!=null&&typeof o=="object"&&o.hasOwnProperty("current")&&(o.current=n)},t._resetIsScrollingDebounced=function(){t._resetIsScrollingTimeoutId!==null&&ie(t._resetIsScrollingTimeoutId),t._resetIsScrollingTimeoutId=Je(t._resetIsScrolling,Ze)},t._resetIsScrolling=function(){t._resetIsScrollingTimeoutId=null,t.setState({isScrolling:!1},function(){t._getItemStyleCache(-1,null)})},t}g.getDerivedStateFromProps=function(t,n){return rt(t,n),y(t),null};var T=g.prototype;return T.scrollTo=function(t){t=Math.max(0,t),this.setState(function(n){return n.scrollOffset===t?null:{scrollDirection:n.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},T.scrollToItem=function(t,n){n===void 0&&(n="auto");var o=this.props,h=o.itemCount,i=o.layout,k=this.state.scrollOffset;t=Math.max(0,Math.min(t,h-1));var f=0;if(this._outerRef){var j=this._outerRef;i==="vertical"?f=j.scrollWidth>j.clientWidth?le():0:f=j.scrollHeight>j.clientHeight?le():0}this.scrollTo(x(this.props,t,n,k,this._instanceProps,f))},T.componentDidMount=function(){var t=this.props,n=t.direction,o=t.initialScrollOffset,h=t.layout;if(typeof o=="number"&&this._outerRef!=null){var i=this._outerRef;n==="horizontal"||h==="horizontal"?i.scrollLeft=o:i.scrollTop=o}this._callPropsCallbacks()},T.componentDidUpdate=function(){var t=this.props,n=t.direction,o=t.layout,h=this.state,i=h.scrollOffset,k=h.scrollUpdateWasRequested;if(k&&this._outerRef!=null){var f=this._outerRef;if(n==="horizontal"||o==="horizontal")if(n==="rtl")switch(ce()){case"negative":f.scrollLeft=-i;break;case"positive-ascending":f.scrollLeft=i;break;default:var j=f.clientWidth,I=f.scrollWidth;f.scrollLeft=I-j-i;break}else f.scrollLeft=i;else f.scrollTop=i}this._callPropsCallbacks()},T.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ie(this._resetIsScrollingTimeoutId)},T.render=function(){var t=this.props,n=t.children,o=t.className,h=t.direction,i=t.height,k=t.innerRef,f=t.innerElementType,j=t.innerTagName,I=t.itemCount,O=t.itemData,z=t.itemKey,M=z===void 0?et:z,E=t.layout,q=t.outerElementType,W=t.outerTagName,V=t.style,A=t.useIsScrolling,U=t.width,Z=this.state.isScrolling,K=h==="horizontal"||E==="horizontal",ye=K?this._onScrollHorizontal:this._onScrollVertical,ee=this._getRangeToRender(),Se=ee[0],be=ee[1],te=[];if(I>0)for(var $=Se;$<=be;$++)te.push(m.createElement(n,{data:O,key:M($,O),index:$,isScrolling:A?Z:void 0,style:this._getItemStyle($)}));var re=l(this.props,this._instanceProps);return m.createElement(q||W||"div",{className:o,onScroll:ye,ref:this._outerRefSetter,style:Ne({position:"relative",height:i,width:U,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},V)},m.createElement(f||j||"div",{children:te,ref:k,style:{height:K?"100%":re,pointerEvents:Z?"none":void 0,width:K?re:"100%"}}))},T._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var t=this.props.itemCount;if(t>0){var n=this._getRangeToRender(),o=n[0],h=n[1],i=n[2],k=n[3];this._callOnItemsRendered(o,h,i,k)}}if(typeof this.props.onScroll=="function"){var f=this.state,j=f.scrollDirection,I=f.scrollOffset,O=f.scrollUpdateWasRequested;this._callOnScroll(j,I,O)}},T._getRangeToRender=function(){var t=this.props,n=t.itemCount,o=t.overscanCount,h=this.state,i=h.isScrolling,k=h.scrollDirection,f=h.scrollOffset;if(n===0)return[0,0,0,0];var j=v(this.props,f,this._instanceProps),I=p(this.props,j,f,this._instanceProps),O=!i||k==="backward"?Math.max(1,o):1,z=!i||k==="forward"?Math.max(1,o):1;return[Math.max(0,j-O),Math.max(0,Math.min(n-1,I+z)),j,I]},g}(m.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var rt=function(e,a){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,a.instance},st=tt({getItemOffset:function(e,a){var l=e.itemSize;return a*l},getItemSize:function(e,a){var l=e.itemSize;return l},getEstimatedTotalSize:function(e){var a=e.itemCount,l=e.itemSize;return l*a},getOffsetForIndexAndAlignment:function(e,a,l,d,x,v){var p=e.direction,u=e.height,c=e.itemCount,y=e.itemSize,S=e.layout,g=e.width,T=p==="horizontal"||S==="horizontal",C=T?g:u,t=Math.max(0,c*y-C),n=Math.min(t,a*y),o=Math.max(0,a*y-C+y+v);switch(l==="smart"&&(d>=o-C&&d<=n+C?l="auto":l="center"),l){case"start":return n;case"end":return o;case"center":{var h=Math.round(o+(n-o)/2);return h<Math.ceil(C/2)?0:h>t+Math.floor(C/2)?t:h}case"auto":default:return d>=o&&d<=n?d:d<o?o:n}},getStartIndexForOffset:function(e,a){var l=e.itemCount,d=e.itemSize;return Math.max(0,Math.min(l-1,Math.floor(a/d)))},getStopIndexForStartIndex:function(e,a,l){var d=e.direction,x=e.height,v=e.itemCount,p=e.itemSize,u=e.layout,c=e.width,y=d==="horizontal"||u==="horizontal",S=a*p,g=y?c:x,T=Math.ceil((g+l-S)/p);return Math.max(0,Math.min(v-1,a+T-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const at=m.memo(({asset:s,logoURI:e,style:a,provider:l,balance:d,select:x,value:v,cg:p,price:u})=>{const{isLight:c}=ze(),y=pe(),S=s.symbol.split("-")[1],g=l?.toLowerCase()==="thorchain"?w.THUNDERChain:s.chain,T=m.useCallback(i=>{switch(i.stopPropagation(),g){case w.Ethereum:return _e(S.toLowerCase());case w.Avalanche:return Le(S.toLowerCase());case w.BinanceSmartChain:return Oe(S.toLowerCase());default:return Ae(s)}},[S,s,g]),C=m.useMemo(()=>{switch(g){case w.THUNDERChain:return"THUNDERYield";case w.Avalanche:return"Snowtrace";case w.BinanceSmartChain:return"BscScan";default:return"EtherScan"}},[g]),t=m.useMemo(()=>{if(s.isSynthetic)return`${s.type}`;const i=p?.market_cap&&Ue(`${p.market_cap}`,s.decimal||8)?.toAbbreviation(2);return`${s.type}${i?` - MC: ${i}`:""}${u?`, ${y(u)}`:""}`},[s.decimal,s.isSynthetic,s.type,p?.market_cap,y,u]),n=m.useMemo(()=>{switch(g){case w.Ethereum:return c?"etherscan":"etherscanLight";case w.Avalanche:return"snowtrace";case w.BinanceSmartChain:return c?"bscscan":"bscscanLight";default:return"thoryieldColor"}},[g,c]),o=g===w.THUNDERChain?"pool":"address",h=m.useMemo(()=>p?.name?p.name.length>26?`${p.name.slice(0,26)}...`:p.name:"",[p?.name]);return r.jsxs(b,{alignCenter:!0,className:"group hover:duration-150 transition w-full cursor-pointer dark:hover:bg-dark-border-primary hover:bg-light-bg-secondary",onClick:()=>x(s),style:a,children:[r.jsxs(b,{className:"gap-x-3 pl-2",flex:1,children:[r.jsx(b,{center:!0,className:"pl-6",children:r.jsx(D,{asset:s,logoURI:e,size:30})}),r.jsxs(b,{col:!0,children:[r.jsxs(b,{alignCenter:!0,row:!0,className:"gap-x-1",children:[r.jsx(N,{fontWeight:"medium",textStyle:"h4",children:s.ticker}),r.jsx(N,{className:"h-6 overflow-hidden",fontWeight:"medium",textStyle:"subtitle1",variant:"secondary",children:h}),r.jsx(b,{className:"opacity-40 group-hover:opacity-100 transition",children:r.jsx(me,{content:`${_("views.swap.check",{checkType:o})} ${_("views.swap.onService",{serviceName:C})}${o==="address"?`, ${_("views.swap.contractAddress",{contractAddress:S})}`:""}`,children:r.jsx(Pe,{iconName:n,onClick:T,size:16})})})]}),r.jsx(N,{className:"leading-[14px]",fontWeight:"light",textStyle:"caption-xs",textTransform:"uppercase",variant:s.isSynthetic?"primaryBtn":"secondary",children:t})]})]}),r.jsxs(b,{col:!0,className:"pr-6",justify:"end",children:[r.jsx(N,{className:"text-right",textStyle:"caption",variant:"secondary",children:d?.gt(0)?d.toSignificant(6):""}),r.jsx(b,{className:"gap-x-1",justify:"end",children:r.jsx(N,{textStyle:"caption-xs",variant:"secondary",children:v?.gt(0)?`${y(v)} `:""})})]})]})}),nt=()=>{const{frequent:s,featured:e}=J(c=>c.assets),a=Re(),l=m.useCallback(c=>{a(H.addFrequent(c))},[a]),d=m.useCallback(c=>{a(H.addFeatured(c))},[a]),x=m.useCallback(c=>{a(H.removeFeatured(c))},[a]),v=m.useCallback(c=>{a(H.toggleTokenList(c))},[a]),p=m.useCallback(c=>c&&s.includes(`${c.asset?.symbol}-${c.identifier}`),[s]),u=m.useCallback(c=>c&&e.includes(`${c.asset?.symbol}-${c.identifier}`),[e]);return{addFrequent:l,toggleTokenList:v,addFeatured:d,removeFeatured:x,isFrequent:p,isFeatured:u}};function ve({assets:s=[],onSelect:e,onClose:a,typeFilter:l}){const d=J(({assets:g})=>g.disabledTokenLists),[x,v]=m.useState(l||"all"),{toggleTokenList:p}=nt(),u=m.useMemo(()=>xe.find(g=>g.value===x),[x]),c=m.useMemo(()=>{if(x==="all")return s;const g=s.filter(({asset:{type:T}})=>T.toLowerCase()===x.toLowerCase());if(u.chainAsset){const T=s.find(C=>u.chainAsset?.eq(C.asset));T&&g.unshift(T)}return g},[u.chainAsset,s,x]),y=m.useCallback(()=>{a?.()},[a]),S=m.useCallback(g=>{e(g),y()},[y,e]);return{close:y,disabledTokenLists:d,filteredAssets:c,select:S,setTypeFilter:v,toggleTokenList:p,typeFilter:x}}const ot=52,it=({assets:s,onSelect:e,onClose:a,isLoading:l,openManageTokenList:d,query:x,setQuery:v,noFilters:p})=>{const u=m.useRef(null),c=Ge(),{isLgActive:y}=Ee(),{filteredAssets:S,select:g,typeFilter:T,setTypeFilter:C}=ve({assets:s,onSelect:e,onClose:a}),t=m.useMemo(()=>s&&s.some(i=>i.asset.type==="Synth"),[s]),n=m.useCallback(i=>{g(i),setTimeout(()=>v?.(""),500)},[g,v]),o=m.useCallback(({index:i,style:k})=>{const f=S[i];return f?m.createElement(at,{...f,key:`${f.asset.symbol}${f.asset.type}`,select:n,style:k}):r.jsx(m.Fragment,{},`empty-${i}`)},[S,n]),h=m.useCallback(i=>{const k=i?.target?.value||"";u?.current?.scrollTo?.(0),v?.(k)},[v]);return r.jsxs(b,{col:!0,className:L("rounded-box-lg",Y.secondary),flex:1,children:[r.jsx(b,{col:!0,className:L("px-4 py-6 pb-3 lg:p-6 lg:pb-6 rounded-t-box-lg gap-2",Y.secondary),children:r.jsxs(r.Fragment,{children:[r.jsx(Fe,{autoFocus:!0,stretch:!0,border:"rounded",className:"!text-md p-1.5 flex-1 border",containerClassName:"bg-light-gray-light dark:bg-dark-gray-light !bg-opacity-80",onChange:h,placeholder:_("components.assetSelect.searchTokenName"),suffix:x?r.jsx(P,{color:"secondary",name:"close",onClick:()=>h()}):"",value:x}),!p&&!X&&r.jsx(He,{buttonStyle:{px:2},onChange:i=>C(i),tabs:c.filter(i=>t||i.value!=="synth"),value:T})]})}),r.jsx(b,{className:L("overflow-x-clip overflow-y-auto bg-light-gray-light dark:bg-dark-asset-select bg-opacity-70 dark:bg-opacity-100","border-solid border-b border-t border-l-0 border-r-0 border-light-border-primary dark:border-dark-gray-light","!-mr-6 lg:!-mr-4"),flex:1,children:S.length?r.jsx(st,{className:"!overflow-x-clip overflow-y-auto",height:X?721:y?410:1e3,itemCount:S.length||1,itemSize:ot,ref:u,width:"100%",children:o}):r.jsx(b,{justifyCenter:!0,className:"pt-4",flex:1,children:l?r.jsx(P,{spin:!0,name:"loader",size:24}):r.jsx(N,{children:_("components.assetSelect.noResultsFound")})})}),r.jsx(b,{justifyCenter:!0,className:"z-10 pt-4 pb-6",children:!p&&r.jsxs("div",{className:"group flex-row flex justify-center",onClick:d,children:[r.jsx(P,{className:"cursor-pointer dark:group-hover:text-dark-typo-primary group-hover:text-light-typo-primary",color:"secondary",name:"edit",size:18}),r.jsx("div",{className:"cursor-pointer overflow-hidden transition-all",children:r.jsx("div",{className:"text-caption uppercase font-semibold px-3 transition-all whitespace-nowrap text-light-typo-gray dark:text-dark-typo-gray dark:group-hover:text-dark-typo-primary group-hover:text-light-typo-primary font-primary",children:_("components.assetSelect.manageTokenList")})})]})})]})},lt=m.memo(it),ct=["Stargatearb","Pancakeswap","Pancakeswapeth"],dt=({onSelect:s,onClose:e,assets:a})=>{const{data:l,isLoading:d}=ue(),{toggleTokenList:x,disabledTokenLists:v}=ve({onSelect:s,onClose:e,assets:a}),p=m.useMemo(()=>(l?.filter(({provider:c})=>!ct.includes(c))||[]).concat().sort((c,y)=>{const S=v.includes(c.provider),g=v.includes(y.provider);return S===g?y.nbTokens-c.nbTokens:S?1:-1}).filter(({provider:c})=>!fe.includes(c)),[l,v]);return r.jsx("div",{className:L("flex flex-col flex-1 rounded-box-lg pb-10 pt-10",Y.secondary),children:r.jsx("div",{className:L("h-full overflow-y-auto bg-light-gray-light dark:bg-dark-asset-select bg-opacity-70 dark:bg-opacity-100",Me,"scrollbar-track-light-gray-light dark:scrollbar-track-dark-asset-select","border-solid border-b border-t border-l-0 border-r-0 border-light-border-primary dark:border-dark-gray-light"),children:r.jsxs(b,{col:!0,className:"flex-1 pt-2",children:[p.map(({provider:u,nbTokens:c,version:y})=>r.jsxs(b,{alignCenter:!0,className:"gap-3 px-6 py-2 cursor-pointer dark:hover:bg-dark-border-primary hover:bg-light-bg-secondary transition",onClick:()=>x(u),children:[r.jsxs(b,{col:!0,className:"flex-1",children:[r.jsx(N,{className:"leading-[24px]",fontWeight:"medium",textStyle:"h4",textTransform:"capitalize",children:u}),r.jsxs(N,{className:"leading-[14px]",fontWeight:"light",textStyle:"caption-xs",textTransform:"uppercase",variant:u?"primaryBtn":"secondary",children:[c," ",_("common.tokens")," ",y?`| v${y.major}.${y.minor}.${y.patch}`:""]})]}),r.jsx($e,{checked:!v.includes(u),onChange:()=>{},selectedText:"ON",unselectedText:"OFF"})]},u)),!l?.length&&(d?r.jsx(b,{center:!0,className:"p-6",children:r.jsx(P,{spin:!0,name:"loader",size:24})}):r.jsx(b,{justifyCenter:!0,className:"pt-4",children:r.jsx(N,{children:_("components.assetSelect.noResultsFound")})}))]})})})},de=({selected:s,className:e,showAssetType:a,AssetListComponent:l,logoURI:d,assetTypeComponent:x,...v})=>{const[p,u]=m.useState(!1),[c,y]=m.useState(!1),S=l||lt;return r.jsxs(r.Fragment,{children:[r.jsx(ge,{assetTypeComponent:x,className:e,logoURI:d,onClick:()=>{u(!0),y(!1)},selected:s,showAssetType:a}),r.jsx(Be,{isOpened:p,onBack:c?()=>y(!1):void 0,onClose:()=>u(!1),title:_(c?"components.assetSelect.manageTokenList":"components.assetSelect.selectAToken"),withBody:!1,children:r.jsx(b,{className:"md:w-[520px] overflow-hidden max-h-[80%] h-[80vh] lg:h-[40rem]",children:c?r.jsx(dt,{...v}):r.jsx(S,{...v,onClose:()=>u(!1),openManageTokenList:()=>y(!0)})})})]})},vt=({hideZeroPrice:s,className:e,singleAsset:a,selectedAsset:l,onValueChange:d,hideMaxButton:x,inputClassName:v,disabled:p=!1,warning:u,maxButtonLabel:c,poolAsset:y,showSecondaryChainSelector:S,title:g,displayAssetTypeComponent:T,...C})=>{const t=pe(),[n,o]=m.useState(),{asset:h,balance:i,loading:k,priceLoading:f,usdPrice:j,logoURI:I,value:O}=l,{getMaxBalance:z}=Ve();m.useEffect(()=>{z(h).then(A=>o(A))},[h,z]);const M=m.useMemo(()=>typeof f=="boolean"?f:k,[f,k]),E=m.useMemo(()=>{const A=j||0;return s&&A<=1?null:t(A)},[t,s,j]),q=m.useCallback((A=1)=>{const U=(i||h).mul(A);d?.(new se(U))},[h,i,d]),W=m.useMemo(()=>({...C,logoURI:I,onSelect:C.onAssetChange,showAssetType:!0}),[I,C]),V=m.useMemo(()=>{const A=t(h);return{fontSize:A.length>30?"1rem":A.length>25?"1.2rem":A.length>20?"1.4rem":"1.5rem",lineHeight:"2rem"}},[t,h]);return r.jsxs(De,{className:L("min-h-[70px] text-2 !gap-1 !justify-start",e),children:[g&&r.jsx(b,{alignCenter:!0,className:"pl-4 md:pl-0 pt-2 md:pt-0",justify:"between",children:r.jsx(b,{center:!0,className:"gap-x-2",children:r.jsx(N,{fontWeight:"normal",textStyle:"caption",children:g})})}),r.jsxs(b,{alignCenter:!0,className:L("pl-4 md:pl-0",e,{"flex-col md:flex-row":S,"flex-row":!S}),justify:"between",children:[k?r.jsx("div",{className:"flex w-full",children:r.jsx(P,{spin:!0,color:"primary",name:"loader",size:16})}):r.jsx(qe,{stretch:!0,amountValue:O||new se(0),className:L("-ml-1 font-normal text-left",v),containerClassName:"!py-0",customPrefix:u?r.jsx(me,{content:u,children:r.jsx(P,{className:"mr-2",color:"yellow",name:"warn",size:24})}):null,disabled:p,onAmountChange:d,style:V}),a?r.jsxs(b,{className:"w-full",justify:"end",children:[r.jsx(ge,{showAssetType:!0,className:"!pr-2 !py-1 m-2 md:m-0",selected:l?.asset}),S&&r.jsx(de,{...W,showAssetType:!0,className:"pr-3 m-2 md:m-0 md:ml-2",selected:y?.asset})]}):r.jsx(de,{...W,assetTypeComponent:T,className:"m-2 md:m-0",selected:l?.asset})]}),r.jsxs(b,{alignCenter:!0,className:"pl-4 md:pl-0",flex:1,justify:"between",children:[r.jsx(b,{className:"min-h-[21px]",children:M?r.jsx(P,{spin:!0,className:"flex w-full",color:"primary",name:"loader",size:12}):E?r.jsx(N,{fontWeight:"semibold",variant:"secondary",children:E}):null}),r.jsxs(b,{center:!0,row:!0,className:"gap-1 pb-2 pr-2 md:pr-0",children:[i&&n&&r.jsxs(N,{fontWeight:"medium",variant:"secondary",children:[_("common.balance"),": ",n?.toSignificant(6)||"0"]}),(i&&n||!x)&&!p&&r.jsx(We,{disabled:!i,maxButtonLabel:c,onChange:q})]})]})]})};export{vt as A,de as a,ve as b,ge as c,xt as u};
