import{j as s,o as d,bz as o,h as n,bA as D,bB as H,T as k,aU as z,r as c,bC as f,B as I,bD as A}from"./assets/index-BDcs8OaA.js";(function(){try{var r=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[e]="810fbdbd-9cb2-46c8-b94c-971adbe83e53",r._sentryDebugIdIdentifier="sentry-dbid-810fbdbd-9cb2-46c8-b94c-971adbe83e53")}catch{}})();const E=r=>{const{sortType:e}=r;return s.jsxs("div",{className:"flex flex-col",children:[s.jsx(d,{className:"-mb-1.5",color:e===o.Asc?"primary":"secondary",name:"sortUp",size:12}),s.jsx(d,{className:"-mt-1",color:e===o.Desc?"primary":"secondary",name:"sortDown",size:12})]})},_=r=>{const{column:e}=r,t=()=>e.isSorted?e.isSortedDesc?o.Desc:o.Asc:o.None;return s.jsxs("th",{className:n("px-1.5 first:pl-4 last:pr-4 last:text-right",D[e.align||"left"]),...e.getHeaderProps(e.getSortByToggleProps()),children:[s.jsxs(H,{className:n("inline-flex items-center gap-1 transition",{"hover:text-light-typo-primary dark:hover:text-dark-typo-primary":e.canSort}),children:[s.jsx(k,{className:n({"hover:text-light-typo-primary dark:hover:text-dark-typo-primary":e.canSort}),textStyle:"caption-xs",variant:"secondary",children:e.render("Header")}),e.canSort&&s.jsx(E,{sortType:t()})]}),e.toolTip&&s.jsx("div",{className:"inline-flex",children:e.toolTip})]})},G=r=>{const{headerGroup:e}=r;return s.jsx("tr",{className:"text-left",...e.getHeaderGroupProps(),children:e.headers.map(t=>s.jsx(_,{column:t},t.getHeaderProps().key))})},C=({columns:r,data:e,sortable:t,loading:i,initialSort:l,hasShadow:h=!0,onRowClick:g,stretch:j})=>{const{isSizeActive:p}=z(),T=c.useMemo(()=>l,[l]),{getTableProps:y,getTableBodyProps:m,headerGroups:S,rows:N,prepareRow:B,setHiddenColumns:b,columns:x}=f.useTable({autoResetSortBy:!1,columns:r,data:e,disableSortBy:!t,initialState:{sortBy:l?T:[]}},f.useSortBy),u=c.useMemo(()=>x.filter((a,v)=>!p(r[v].minScreenSize)).map(a=>a.id),[x,r,p]);c.useEffect(()=>{b(u)},[u,b]);const{tableProps:w,bodyProps:P}=c.useMemo(()=>({tableProps:y(),bodyProps:m()}),[m,y]);return i?s.jsx(I,{center:!0,className:"mt-8",children:s.jsx(d,{spin:!0,color:"primaryBtn",name:"refresh",size:24})}):s.jsxs("table",{...w,className:n("relative border-separate border-spacing-y-1",{"w-full":j}),children:[s.jsx("thead",{children:S.map(a=>s.jsx(G,{headerGroup:a},a.getHeaderGroupProps().key))}),s.jsx("tbody",{...P,className:n({"opacity-30":i}),children:s.jsx(A,{hasShadow:h,onRowClick:g,prepareRow:B,rows:N})})]})};export{C as T};
